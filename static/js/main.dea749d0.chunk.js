(this["webpackJsonphome-automation-ui"]=this["webpackJsonphome-automation-ui"]||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},119:function(e,a,t){},122:function(e,a,t){},126:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},132:function(e,a,t){},133:function(e,a,t){},134:function(e,a,t){},135:function(e,a,t){},136:function(e,a,t){},137:function(e,a,t){},138:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},142:function(e,a,t){},143:function(e,a,t){},144:function(e,a,t){},145:function(e,a,t){},146:function(e,a,t){},147:function(e,a,t){},148:function(e,a,t){},149:function(e,a,t){},150:function(e,a,t){},151:function(e,a,t){},152:function(e,a,t){},153:function(e,a,t){},154:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(11),r=t.n(c),l=(t(117),t(61));const o=((e,a)=>{let t;return function(){const n=this,s=arguments,c=function(){t=null,e.apply(n,s)};clearTimeout(t),t=setTimeout(c,a)}})((e=>{e()}),300),i=e=>{const[a,t,n]=e.split(":"),s=new Date;return s.setHours(a),s.setMinutes(t),s},m=(e,a)=>{if(null!==e){const a=new Date,t=u(e.latitude,e.longitude);return a>=d(e.latitude,e.longitude)&&a<t}if(null!==a){const e=new Date,t=u(a.latitude,a.longitude);return e>=d(a.latitude,a.longitude)&&e<t}},u=(e,a)=>{const t=new Date;return t.getHours()<12||t.setDate((new Date).getDate()+1),Object(l.getSunrise)(e,a,t)},d=(e,a)=>{const t=new Date;return t.getHours()<12?(t.setDate((new Date).getDate()-1),Object(l.getSunset)(e,a,t)):(t.setDate((new Date).getDate()),Object(l.getSunset)(e,a,t))},p=e=>{localStorage.setItem("theme",e),document.documentElement.className=e},E=(e,a)=>"cooling"===e?"#27aedb":"heating"===e?"#db5127":"auto"===e&&a.tasks.some((e=>"hvac"===e.task_type))?"#00c774":"#A0A0A0",g=(e,a)=>{const t=new Date,n=t.toLocaleString("en-us",{weekday:"long"}).substring(0,3),s=e.tasks.filter((e=>"hvac"===e.task_type)),c=s.find((e=>t>i(e.hvac_start)&&t<i(e.hvac_stop)&&e.alarm_days.includes(n)));return"auto"===a.mode&&c?c.hvac_start_temp:"auto"===a.mode&&s.length>0&&s.find((e=>e.alarm_days.includes(n)))?s.find((e=>"hvac"===e.task_type)).hvac_stop_temp:a.minThermostatTemp&&"auto"===a.mode?(a.minThermostatTemp+a.maxThermostatTemp)/2:a.desiredTemp};var h=(e,a)=>{switch(a.type){case"SET_ACTIVE_PAGE":return{...e,activePage:a.payload};case"SET_AUTH_DATA":return{...e,auth:a.payload};case"SET_USER_DATA":return{...e,user:a.payload};case"SET_DEVICE_ID":return{...e,deviceId:a.payload};case"SET_STARTED_GARAGE_REGISTRATION":return{...e,startedGarageRegistration:a.payload};case"SET_DEVICES_TO_REGISTER":return{...e,devicesToRegister:a.payload};case"SET_GARAGE_ROLE":return{...e,garageRole:a.payload};case"SET_ADDED_GARAGE_NODE":return{...e,addedGarageNode:a.payload};case"SET_GARAGE_COORDS":return{...e,garageCoords:a.payload};case"SET_USER_COORDS":return{...e,userCoords:a.payload};case"SET_LIGHTS":return{...e,lights:a.payload};case"UPDATE_GARAGE_DOORS":const t=e.garageDoors.findIndex((e=>e.doorName===a.payload.doorName));return{...e,garageDoors:t>-1?e.garageDoors.map((e=>e.doorName===a.payload.doorName?{...e,isOpen:a.payload.isOpen,duration:a.payload.duration}:e)):[...e.garageDoors,a.payload]};case"SET_SCHEDULED_TASK":return{...e,tasks:a.payload};case"DELETE_SCHEDULED_TASK":return{...e,tasks:e.tasks.filter((e=>e.task_id!==a.payload))};case"ADD_SCHEDULED_TASK":return{...e,tasks:[...e.tasks,a.payload]};case"SET_SUMP_DATA":return{...e,sumpData:a.payload};case"SET_TEMP_DATA":const n=E(a.payload.mode,e),s=g(e,a.payload);return{...e,tempData:{...a.payload,gaugeColor:n,currentDesiredTemp:s}};case"SET_FORECAST_DATA":return{...e,forecastData:a.payload};case"SET_LOADED_UTILS":return{...e,loadedUtils:a.payload};case"SET_USER_PREFERENCES":return{...e,preferences:a.payload};default:return e}};const v={activePage:null,auth:{bearer:null,refresh:null,isAuthenticated:!1},user:{userId:null,firstName:"",lastName:"",roles:[]},deviceId:null,startedGarageRegistration:!1,devicesToRegister:!1,garageRole:[],addedGarageNode:!1,garageCoords:null,garageDoors:[],userCoords:null,lights:[],sumpData:{},tempData:{gaugeColor:"#A0A0A0",currentDesiredTemp:0},forecastData:{description:""},preferences:{},tasks:[],loadedUtils:!1,taskTypes:["sunrise alarm","turn on","turn off","hvac"]},A=Object(n.createContext)(v);var b=({children:e})=>{const[a,t]=Object(n.useReducer)(h,v);return s.a.createElement(A.Provider,{value:[a,t]},e)},y=(t(118),t(119),t.p+"static/media/CompanyLogo.dbd96a99.png");function N(){return s.a.createElement("div",null,s.a.createElement("div",{"data-testid":"white-header",className:"white-header"},s.a.createElement("div",{"data-testid":"logo-background",className:"logo-background"},s.a.createElement("img",{alt:"Logo",className:"logo-image",src:y}))))}var k=t(10),C=t(49),S=t.n(C),w=t.p+"static/media/click.aa674493.mp3",f=t(43);class T{constructor(){this.setActivePage=e=>{this.state.activePage=e},this.getActivePage=()=>this.state.activePage,this.setUserRoles=e=>{this.state.userRoles=e},this.getUserRoles=()=>this.state.userRoles,this.state={activePage:null,userRoles:[]}}}let O=null;const I=()=>(null===O&&(O=new T),O),x="https://www.soaringleafsolutions.com",D="".concat(x,"/account"),j="".concat(x,"/devices"),B="".concat(x,"/garageDoor"),M="".concat(x,"/lights"),R="".concat(x,"/sumpPump"),G="".concat(x,"/thermostat"),L=async(e,a,t,n)=>{const s={garageDoorOpen:t},c={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)},r=await fetch("".concat(B,"/").concat(n,"/user/").concat(e,"/state"),c);return await r.json()},W=async(e,a,t,n,s)=>{const c={desiredTemp:t,mode:n,isFahrenheit:s},r={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)};return await fetch("".concat(G,"/temperature/").concat(e),r)},U=async(e,a,t,n=null)=>{const s={groupId:a,on:t,...null!==n&&{brightness:n}},c={method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify(s)};return await fetch("".concat(M,"/group/state"),c)},P=async(e,a,t,n)=>{const s={lightId:a,on:t,brightness:n},c={method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify(s)};return await fetch("".concat(M,"/group/light"),c)},Q=async(e,a,t)=>{const n={method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}};return await fetch("".concat(x,"/userId/").concat(e,"/tasks/").concat(t),n)},Y=async(e,a,t)=>{const n={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)};return(await fetch("".concat(x,"/userId/").concat(e,"/tasks/update"),n)).json()};var _=t(215),F=t(187),J=t(188),K=t(189),V=t(95),H=t(94);t(122);function Z(e){return s.a.createElement("div",{className:"button-container"},s.a.createElement(V.a,{type:"submit",className:"green my-button ".concat(e.className),disabled:e.disabled,onClick:e.onClick},e.children))}function X(e){return s.a.createElement("div",{className:"button-container"},s.a.createElement(V.a,{type:"submit",className:"blue my-button ".concat(e.className),disabled:e.disabled,onClick:e.onClick},e.children))}function q(e){return s.a.createElement("div",{className:"button-container"},s.a.createElement(V.a,{type:"submit",className:"red my-button ".concat(e.className),disabled:e.disabled,onClick:e.onClick},e.children))}function z(e){return s.a.createElement(H.a,{"aria-label":"expand",className:e.className,onClick:e.onClick},s.a.createElement(F.a,null))}function $(e){const[a,t]=s.a.useState(0);return s.a.createElement(V.a,{"aria-label":"Add",className:"button-border",onClick:a=>{e.onClick(a),t(1)}},s.a.createElement("div",{className:"button-item add-item",rotate:a,onAnimationEnd:()=>t(0)},s.a.createElement(J.a,{className:"button-icon"})))}function ee(e){const[a,t]=s.a.useState(0);return s.a.createElement(V.a,{"aria-label":e["aria-label"],className:"button-border",onClick:a=>{e.onClick(a),t(1)}},s.a.createElement("div",{className:"button-item remove-item",rotate:a,onAnimationEnd:()=>t(0)},s.a.createElement(K.a,{className:"button-icon"})))}t(126);function ae(){const[e]=Object(k.a)(w,{volume:.25}),[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[i,m]=Object(n.useState)(void 0),[u,d]=Object(n.useState)(void 0),[p,E]=Object(n.useState)(!0),g=async(e,a)=>{if(!1===e&&!1===a){const e=await(async(e,a)=>{const t={grant_type:"client_credentials",client_id:e,client_secret:a},n={method:"POST",body:JSON.stringify(t)},s=await fetch("".concat(x,"/token"),n);if(s.ok){const e=await s.json(),a=e.bearerToken,t=I(),n=S()(a);return t.setUserRoles(n.user.roles),e}return null})(c,l);if(E(e),e){const a=S()(e.bearerToken);await t({type:"SET_USER_DATA",payload:{userId:a.user.user_id,firstName:a.user.first_name,lastName:a.user.last_name,roles:a.user.roles}});const n=a.user.roles.find((e=>"garage_door"===e.role_name));await t({type:"SET_GARAGE_ROLE",payload:n}),await t({type:"SET_DEVICES_TO_REGISTER",payload:h(a.user.roles)}),await t({type:"SET_STARTED_GARAGE_REGISTRATION",payload:!(!n||!n.device_id)}),await t({type:"SET_DEVICE_ID",payload:n&&n.device_id?n.device_id:null}),await t({type:"SET_AUTH_DATA",payload:{bearer:e.bearerToken,refresh:a.refresh_token,isAuthenticated:!0,exp:a.exp}})}}},h=e=>{const a=e.find((e=>"garage_door"===e.role_name));return!(!a||a.devices&&0!==a.devices.length)};return a.auth.isAuthenticated?s.a.createElement(f.a,{to:"/home-automation-ui/home"}):s.a.createElement("div",null,s.a.createElement("form",{onSubmit:async a=>{a.preventDefault(),e();const t=""===c,n=""===l;m(t),d(n),await g(t,n)},className:"user-pass-body"},s.a.createElement("div",{className:"column"},s.a.createElement(_.a,{inputProps:{"data-testid":"user-name"},className:"user-pass-input",error:i,onChange:e=>r(e.target.value),value:c,variant:"outlined",label:"Username"})),s.a.createElement("div",{className:"column"},s.a.createElement(_.a,{inputProps:{"data-testid":"password"},className:"user-pass-input",error:u,onChange:e=>o(e.target.value),value:l,variant:"outlined",label:"Password",type:"password"})),s.a.createElement("div",{className:"error-text"},p?s.a.createElement("p",null):s.a.createElement("p",null,"ERROR: Username or Password is invalid!")),s.a.createElement(Z,{className:"column button"},"Login")))}function te(){return I().setActivePage("Login"),s.a.createElement("div",{className:"login-menu column"},s.a.createElement("div",{"data-testid":"login-header",className:"login-header header-text"},s.a.createElement(N,null),s.a.createElement("h1",null,"Member Login")),s.a.createElement("div",{className:"login-body body"},s.a.createElement(ae,null)))}var ne=t(92);function se(e){var a=e.component,t=e.authed,n=Object(ne.a)(e,["component","authed"]);return s.a.createElement(f.b,Object.assign({},n,{render:function(e){return!0===t?s.a.createElement(a,e):s.a.createElement(f.a,{to:{pathname:"/home-automation-ui",state:{from:e.location}}})}}))}t(128);var ce=t.p+"static/media/singleClick.4b7e387e.mp3";function re(e){const[a]=Object(n.useContext)(A),[t]=Object(k.a)(ce,{volume:.25}),c=a.user.firstName.trim().charAt(0),r=a.user.lastName.trim().charAt(0);return s.a.createElement("div",{className:"account-container",onClick:()=>{t(),e.toggle()}},s.a.createElement("div",{"data-testid":"account-border",className:"account-border"},s.a.createElement("div",{"data-testid":"account-center",className:"account-center header-text ripple"},s.a.createElement("p",{"data-testid":"user-initials"},c+r))))}var le=t(17),oe=(t(129),t(195));function ie(e){let a;const[t]=Object(n.useState)(I().getActivePage()),[c,r]=Object(n.useContext)(A);Object(n.useEffect)((()=>{document.addEventListener("mousedown",l)}));const l=t=>{!a||e.parentRef.contains(t.target)||a.contains(t.target)||e.toggle()};return s.a.createElement("div",{className:"account-menu",ref:e=>{a=e}},s.a.createElement("ul",{className:"text"},"Home Automation"===t?s.a.createElement("div",null,s.a.createElement(le.b,{to:"/home-automation-ui/activities"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Activities"))),s.a.createElement(le.b,{to:"/home-automation-ui/settings"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Settings"))),s.a.createElement(le.b,{to:"/home-automation-ui/account"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Account")))):"Settings"===t?s.a.createElement("div",null,s.a.createElement(le.b,{to:"/home-automation-ui/home"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Home"))),s.a.createElement(le.b,{to:"/home-automation-ui/activities"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Activities"))),s.a.createElement(le.b,{to:"/home-automation-ui/account"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Account")))):"Activities"===t?s.a.createElement("div",null,s.a.createElement(le.b,{to:"/home-automation-ui/home"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Home"))),s.a.createElement(le.b,{to:"/home-automation-ui/settings"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Settings"))),s.a.createElement(le.b,{to:"/home-automation-ui/account"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Account")))):s.a.createElement("div",null,s.a.createElement(le.b,{to:"/home-automation-ui/home"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Home"))),s.a.createElement(le.b,{to:"/home-automation-ui/activities"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Activities"))),s.a.createElement(le.b,{to:"/home-automation-ui/settings"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button"},"Settings"))))),s.a.createElement(oe.a,null),s.a.createElement("ul",null,s.a.createElement(le.b,{to:"/home-automation-ui"},s.a.createElement("li",null,s.a.createElement("div",{className:"account-button",onClick:async()=>{r({type:"SET_AUTH_DATA",payload:{...c.auth,isAuthenticated:!1}})}},"Sign Out")))))}function me(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){t.current()}),a);return function(){return clearInterval(e)}}}),[a])}var ue=t.p+"static/media/ding.34c9c941.mp3",de=t(47),pe=t.n(de);t(130);function Ee(){const[e]=Object(k.a)(ue,{volume:.25}),[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!1),[i,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[p,E]=Object(n.useState)(!1);Object(n.useEffect)((()=>{g()}),[]),me((()=>{g()}),5e3);const g=()=>{navigator.geolocation.getCurrentPosition((n=>{const s=n.coords;if(t({type:"SET_USER_COORDS",payload:s}),null!==a.garageCoords){const t=a.garageCoords,n=function(e,a,t,n){var s=t*Math.PI/180,c=e*Math.PI/180,r=(e-t)*Math.PI/180,l=(a-n)*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(s)*Math.cos(c)*Math.sin(l/2)*Math.sin(l/2);return(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371e3*621371e-9).toFixed(2)}(t.latitude,t.longitude,s.latitude,s.longitude);((p=n)>=.02&&p<.35?p>.1&&p<=.3&&!i&&!u?(m(!0),0):p>.06&&p<=.1&&i&&!u?(d(!0),E(!0),0):p<=.04&&u&&i&&!c&&!l?(e(),E(!1),o(!0),1):void 0:(m(!1),d(!1),E(!1),r(!1),o(!1),0))&&(console.log("gonna open"),L(a.user.userId,a.auth.bearer,!0,a.preferences.garage_id))}var p}),(e=>{alert("Enable GPS position feature.")}),{enableHighAccuracy:!0})};return s.a.createElement("div",null,p&&s.a.createElement("div",{className:"auto-open-menu"},s.a.createElement(pe.a,{className:"location-close-icon",onClick:()=>E(!1)}),s.a.createElement("div",{className:"location-menu-group"},s.a.createElement("p",{className:"auto-open-text text reduce-margin"},"Garage will open in 250ft"),s.a.createElement(q,{className:"auto-open-button",onClick:()=>{r(!0),E(!1)}},"Cancel"))))}t(132);function ge(){const[e,a]=Object(n.useContext)(A);me((async()=>{await t(),await m()}),2e4),me((async()=>{c(),r(),i()}),6e4),me((async()=>{await s(),await l(),await o()}),12e4),Object(n.useEffect)((()=>{e.loadedUtils||(i(),t(),s(),c(),r(),l(),o(),a({type:"SET_LOADED_UTILS",payload:!0}))}),[]);const t=async()=>{const t=e.garageRole.devices;t&&t.forEach((async t=>{const n=await(async(e,a,t)=>{const n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},s=await fetch("".concat(B,"/").concat(t,"/user/").concat(e,"/status"),n);return await s.json()})(e.user.userId,e.auth.bearer,t.node_device);a({type:"SET_GARAGE_COORDS",payload:n.coordinates}),a({type:"UPDATE_GARAGE_DOORS",payload:{doorName:t.node_name,doorId:t.node_device,isOpen:n.isGarageOpen,duration:n.statusDuration}})}))},s=async()=>{const t=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},n=await fetch("".concat(R,"/user/").concat(e,"/depth"),t);return await n.json()})(e.user.userId,e.auth.bearer);a({type:"SET_SUMP_DATA",payload:{...t,currentDepth:t.currentDepth.toFixed(1),averageDepth:t.averageDepth.toFixed(1)}})},c=async()=>{const t=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},n=await fetch("".concat(G,"/temperature/").concat(e),t);return await n.json()})(e.user.userId,e.auth.bearer),n={...t,desiredTemp:Math.round(t.desiredTemp),currentTemp:Math.round(t.currentTemp)};a({type:"SET_TEMP_DATA",payload:n})},r=async()=>{const t=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},n=await fetch("".concat(G,"/forecast/").concat(e),t);return await n.json()})(e.user.userId,e.auth.bearer),n={...t,temp:Math.round(t.temp),minTemp:Math.round(t.minTemp),maxTemp:Math.round(t.maxTemp)};a({type:"SET_FORECAST_DATA",payload:n})},l=async()=>{const t=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},n=await fetch("".concat(x,"/userId/").concat(e,"/preferences"),t);return await n.json()})(e.user.userId,e.auth.bearer);a({type:"SET_USER_PREFERENCES",payload:t})},o=async()=>{const t=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}};return(await fetch("".concat(x,"/userId/").concat(e,"/tasks"),t)).json()})(e.user.userId,e.auth.bearer);a({type:"SET_SCHEDULED_TASK",payload:t})},i=async()=>{const t=await(async e=>{const a={method:"GET",headers:{Authorization:"Bearer ".concat(e)}};return(await fetch("".concat(M,"/groups"),a)).json()})(e.auth.bearer);t&&t.length&&a({type:"SET_LIGHTS",payload:t})},m=async()=>{const t=Date.now()+3e5;if(1e3*e.auth.exp<=t){const t=await(async e=>{const a={grant_type:"refresh_token",refresh_token:e},t={method:"POST",body:JSON.stringify(a)};return await fetch("".concat(x,"/token"),t)})(e.auth.refresh);if(t.ok){const e=await t.json(),n=S()(e.bearerToken);a({type:"SET_AUTH_DATA",payload:{bearer:e.bearerToken,refresh:n.refresh_token,isAuthenticated:!0,exp:n.exp}})}else a({type:"SET_AUTH_DATA",payload:{isAuthenticated:!1}})}}}function he(){const[e]=Object(n.useContext)(A),a=I().getActivePage(),[t,c]=Object(n.useState)(null),[r,l]=Object(n.useState)(null);return ge(),me((async()=>{"true"===localStorage.getItem("auto-theme")&&(m(e.garageCoords,e.userCoords)?p("theme-dark"):p("theme-light"))}),6e4),s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"home-header"},s.a.createElement("div",{className:"logo-container"},s.a.createElement(N,null)),s.a.createElement("div",null),s.a.createElement("div",null,s.a.createElement("h1",{className:"home-header-text header-text"},a)),s.a.createElement("div",{ref:e=>{l(e)}},s.a.createElement(re,{toggle:()=>c(!t)}))),t?s.a.createElement(ie,{toggle:()=>c(!t),parentRef:r}):s.a.createElement("div",null),s.a.createElement(Ee,null))}var ve=t(197),Ae=t(196),be=t(4),ye=t(210);const Ne=Object(be.a)({root:{color:"#00c774","&$checked":{color:"#00c774"}},checked:{}})((e=>s.a.createElement(ye.a,Object.assign({color:"default"},e))));t(133);function ke(e){const[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(),[l,o]=Object(n.useState)(!1),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(!0),[p,E]=Object(n.useState)(!1),[g,h]=Object(n.useState)(1),v=async()=>{const n=await(async(e,a,t,n,s)=>{const c={nodeName:n,preferred:s},r={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)};return await fetch("".concat(j,"/userId/").concat(e,"/devices/").concat(t,"/node"),r)})(a.user.userId,a.auth.bearer,a.deviceId,i,l);b(),r(n.ok),o(!1);const s=await n.json();h(s.availableNodes),t({type:"SET_ADDED_GARAGE_NODE",payload:!0}),0===s.availableNodes&&e.close()},b=async()=>{const e=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}};return(await fetch("".concat(D,"/userId/").concat(e,"/roles"),t)).json()})(a.user.userId,a.auth.bearer);await t({type:"SET_USER_DATA",payload:{...a.user,roles:e.roles}});const n=e.roles.find((e=>"garage_door"===e.role_name));await t({type:"SET_GARAGE_ROLE",payload:n})};return s.a.createElement("div",null,c?s.a.createElement("div",null,s.a.createElement("div",{className:"device-group"},s.a.createElement("div",{className:"device-group"},s.a.createElement("div",{className:"border-success-icon"},s.a.createElement(Ae.a,{className:"garage-success-text"})),s.a.createElement("h2",{className:"device-text text garage-success-text"},"Successfully Added")),s.a.createElement(pe.a,{"data-testid":"garage-close-button",onClick:()=>e.close(),className:"close-icon"})),s.a.createElement("div",{className:"device-row"},s.a.createElement("p",{className:"device-text text"},"Would you like to setup the remaining (",g,") openers?")),s.a.createElement(Z,{onClick:()=>{r(!1),m(""),E(!1)}},"Add")):s.a.createElement("div",null,s.a.createElement("div",{className:"device-group"},s.a.createElement("h2",{className:" device-text text"},"Add Garage Door"),s.a.createElement(pe.a,{"data-testid":"garage-close-button",onClick:()=>e.close(),className:"close-icon"})),s.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),p&&u?v():d(!1)}},s.a.createElement("div",{className:"account-row"},s.a.createElement(_.a,{value:i,error:!u,onChange:e=>{if(g>0){const a=e.target.value;E(!0),d(""!==a),m(a)}},variant:"outlined",label:"Garage Name"})),s.a.createElement("div",{className:"account-row"},s.a.createElement(ve.a,{control:s.a.createElement(Ne,{checked:a.checkedG,onChange:()=>o(!l),name:"checkedG"}),label:"Preferred Garage Door"})),s.a.createElement(Z,null,"Add"))))}t(134);function Ce(e){const[a,t]=Object(n.useState)(null),[c,r]=Object(n.useContext)(A),[l,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(!1),[d,p]=Object(n.useState)(!0),[E,g]=Object(n.useState)(!1),[h,v]=Object(n.useState)(null);Object(n.useEffect)((()=>(document.addEventListener("mousedown",b),g(c.startedGarageRegistration),function(){document.removeEventListener("mousedown",b)})));const b=t=>{!a||e.parentRef.contains(t.target)||a.contains(t.target)||e.close()};return s.a.createElement("div",{className:"device-menu",ref:e=>{t(e)}},h||E?s.a.createElement(ke,{close:e.close}):s.a.createElement("div",null,s.a.createElement("div",{className:"device-group"},s.a.createElement("h2",{className:" device-text text"},"Add Device"),s.a.createElement(pe.a,{"data-testid":"close-button",onClick:()=>e.close(),className:"close-icon"})),s.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),d&&m){const e=await(async(e,a,t,n)=>{const s={roleName:t,ipAddress:n},c={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)};return await fetch("".concat(j,"/userId/").concat(e,"/devices"),c)})(c.user.userId,c.auth.bearer,"garage_door",l),a=await e.json();r({type:"SET_STARTED_GARAGE_REGISTRATION",payload:!0}),r({type:"SET_DEVICE_ID",payload:a.deviceId}),v(e.ok)}}},s.a.createElement("div",{className:"account-row"},s.a.createElement(_.a,{value:l,error:!d,onChange:e=>{const a=e.target.value;o((()=>p((e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))(a)))),i(a),u(!0)},variant:"outlined",label:"IP Address"})),s.a.createElement(Z,null,"Next"))))}var Se=t.p+"static/media/GarageDoorIcon.a5f44f42.png",we=t(213),fe=t(199),Te=t(62),Oe=t(198),Ie=t(21),xe=t.n(Ie);t(135),t(136);function De(e){const[a]=Object(k.a)(ue,{volume:.25}),[t]=Object(k.a)(w,{volume:.25}),[c,r]=Object(n.useContext)(A),[l,o]=Object(n.useState)(),[i,m]=Object(n.useState)(),[u,d]=Object(n.useState)();me((()=>{p()}),2e3);const p=()=>{const a=new Date-new Date(e.device.duration);o(Math.floor(a/864e5)),d(Math.floor(a%864e5/36e5)),m(Math.round(a%864e5%36e5/6e4))},E=async n=>{n?a():t();const s=await L(c.user.userId,c.auth.bearer,n,e.device.doorId);r({type:"UPDATE_GARAGE_DOORS",payload:{doorName:e.device.doorName,doorId:e.device.doorId,isOpen:s.isGarageOpen,duration:new Date}})};return s.a.createElement("div",null,s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",{className:"garage-door-container"},s.a.createElement("div",{className:"status-text-group"},s.a.createElement("p",{className:"garage-text-bold text"},e.device.doorName),e.device.isOpen?s.a.createElement("p",{className:"garage-big-text text"},"Opened"):s.a.createElement("p",{className:"garage-big-text text"},"Closed"),0===l?s.a.createElement("p",{className:"status-text text"},u,"Hrs ",i,"Min"):s.a.createElement("p",{className:"status-text text"},l,"Days ",u,"Hrs")),s.a.createElement("div",{className:"status-button-group"},e.device.isOpen?s.a.createElement(q,{onClick:()=>E(!1)},"Close"):s.a.createElement(Z,{onClick:()=>E(!0)},"Open"),s.a.createElement(X,{onClick:()=>{(async(e,a,t)=>{const n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}};await fetch("".concat(B,"/").concat(t,"/user/").concat(e,"/toggle"),n)})(c.user.userId,c.auth.bearer,e.device.doorId),t()}},s.a.createElement("img",{alt:"UpDown",className:"icon-image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKwAAACsCAYAAADmMUfYAAAAAXNSR0IArs4c6QAADyRJREFUeF7tnXmMbUURxr+PTQlLxI2AEgkoohAjEJagDxBlESFAIk/lKSCbEEHQCIpGBTUShYgsURZZJQqiEUIQEKMsSkR4iGswuKEgrkEBBdnK1HAuuTPvzr2n7+nq0923+p95yVRXd3/1m3p1lu5DZN5EZDcABwN4DQACuAvABSS/k/nUfXoGCigA2TUR0XndCmDbBtJRc5TGZglJ/be3GVAgO2BF5F2aQQGs0lL/JwEcSPKrLe3drGAFsgJWRE4H8L4p9TyD5DFT9vVuhSiQDbAiciiA8zrqdijJ8zv68O4ZK5AFsCLyFgBXj6lX20qotexeJK9p28HtylKgd2AbWK8CsHIk6Z4CsLdDG0nNzNz0CmwD65UBF1ht5dMLsX0c2rZylWPXG7Aisi+ArxvAOlBfoV1K8lvlhMNnOkmBXoBtYL0iYhmw2Dq1PNjPoZ2EQTm/Tw6siCwFcHliid5GUrO5t8IVSApswsy6MCyeaQsHdTD9ZMCKyNsBXJqgDBhXHryT5GWVxG4ml5EE2AZWfXSaZLwxkdT7tPs7tOWybg5QRrAOouTQlsurbcbLEFaHtmBYdepmGVZEDgBwkeUYHbXXTHsQyUs6+vHuCRUwAVZE9IXrUl5COYSkvs7orQAFogNbQGZdGBbPtAWAanJbq0BYh2taLw8KADdahhWRwwCck3HNOikcmmnfQ7LrO7mTxvHfd1AgCrANrOd2mEdOXQ93aHMKx/y5dAa2MlgH6ji0mTLbCdhKYXVoM4W1031YETkKwJkZry3G1I4meVYMR+4jjgJTZdgZgXWgsEMbh7UoXoKBnTFYHdoomMVzEgTsjMLq0MbjrbOn1sCKyAcBnNJ5xLIdHEfy1LKXUPbsWwHrsM4LskPbI/MTgXVYR0bHoe0J2rHAOqxjo+LQ9gDtosCKyIkAPtHDnEoa8kSSJ5U04dLnOhJYEdGLK73I8jZZgVNJHjfZzC1iKLACsD3AegOAXWIsZsiHhc9xU3RoIwdwMXfzgG3eZ7040dg6jIKlJxc+HnnM1QDoCYax/xDGTfMAkl+JvA53t0CBZ4EVkQ0A/ALA2olUUqD2JfmEiEQ98p16hrzIqgD0XC39g0jRHgKwKckHUgw2q2PMATv0TYHtEgmhsOrpgnpgm44fHdjGrx47r6cjpoL2RgA7+zcX7CgaALsNgNvshpnnWbOenio4B6slsEPQ6rlaelpiirYNydtTDDSLYwyAPRbAaQkEUFj1NEE96+rZZpVhh/4g9LBkPS0xBbTHkDwjgZYzOcQAWM1A+xkroGda6dlW82C1zrALoNWzvfSML8t2Gcl3WA4wy74HwN4PYH1DIRRWPdNqZK1qnWGHoNX16hlfltDeS3JDQy1n2vUA2L8AWNdICT1ZRbdQL3phlQrYJpvrmvVEGj2ZxqI9QNLyj99izsX4HAB7PYBdDWY9EdZUJcGCmtkS2mtJ7mGgZVSXIrITgK0ArNc41ttxy0nqnY5s2wDYzwGI/XhR9/frPv+Jt6xSZtgF5YGeo6DnKcRsJ5P8SEyHsXw1ty8/BuCIIVAXuldwzwbwqTaxizW3tn4GwC5rDhtu22+S3XkkD59kNATPRKjb+lI7fXDQ1l5E9DyFmNBmeTy9iCwBoGvdtKU2dwPQ7e63tLRPYjYAdg0APwOwUYRRzyJ5dIifPjLsghJBd//qLuCu7fcAXk3ysa6OYvYXkd2bR9UrBfp9Wh+6kLwusJ+Z+fCj2S2bhwdtP0o8alLBsKqTvoFt5tAVWn0Qog8NfmIWrSkci4gmoTsArDNFd+3yoNa6JPWPsfe28OWXjwL49JSzmvqNpRyAbaDt8lrlh0jqtUBWTUT0gclbO07qGySt79O3muKo1wv1v/PPAli9lQfgnwB07/7XWtqvYJYLsA20+zcHhDy/5XoeBaCwZneoiIhsC+BHLdcxyWw7kqke3y86l8Ve4H5F8y2tLSas4loAB5L8+6TVjvt9TsA20Oo96QsBvHnCuvSdgWUk7+myfqu+IvJ5AO+P5P80kh+I5GtqN+O2yOjvNgegV5c7ND+fAKD36W7Sn7HqmtyAHagpIhsD2BGA3rPUn/pOgl4136w/SerrmNk2EVkOQK9NYrQ7Sep9215b69s/lrPMFVjLNafwLSIPA1gz0liPkFwrkq+p3TiwU0uXf8caE4EDmz93U8/QgZ1auvEdaxTWSKogtzXq6hk2CIGyjB1Yo3jVKKyRVEFua9TVM2wQAmUZO7BG8apRWCOpgtzWqKtn2CAEyjJ2YI3iVaOwRlIFua1RV8+wQQiUZezAGsWrRmGNpApyW6OunmGDECjL2IE1ileNwhpJFeS2Rl09wwYhUJaxA2sUrxqFNZIqyG2NunqGDUKgLGMH1iheNQprJFWQ2xp19QwbhEBZxg6sUbxqFNZIqiC3NerqGTYIgbKMHVijeNUorJFUQW5r1NUzbBACZRk7sEbxqlFYI6mC3Naoq2fYIATKMnZgjeJVo7BGUgW5rVFXz7BBCJRl7MAaxatGYY2kCnJbo66eYYMQKMvYgTWKV43CGkkV5LZGXT3DBiFQlrEDaxSvGoU1kirIbY26eoYNQqAsYwfWKF41CmskVZDbGnX1DBuEQFnGDqxRvGoU1kiqILc16uoZNgiBsowdWKN41SiskVRBbmvU1TNsEAJlGTuwRvGqUVgjqYLc1qirZ9ggBMoydmCN4lWjsEZSBbmtUVfPsEEIlGXswBrFq0ZhjaQKclujrp5hgxAoy9iBNYpXjcIaSRXktkZdPcMGIVCWsQNrFK8ahTWSKshtjbp6hg1CoCxjB9YoXjUKayRVkNsadfUMG4RAWcYOrFG8ahTWSKogtzXq6hk2CIGyjB1Yo3jVKKyRVEFua9TVM2wQAmUZO7BG8apRWCOpgtzWqKtn2CAEyjJ2YI3iVaOwRlIFua1RV8+wQQiUZezAGsWrRmGNpApyW6OunmGDECjL2IE1ileNwhpJFeS2Rl09wwYhUJaxA2sUrxqFNZIqyG2NunqGDUKgLGMH1iheNQprJFWQ2xp1zSXDPglg5aBoLG78FMlVIvkq2o0DaxQ+EfkTgJdGcn8fyQ0i+TJzIyKrA3gtgC0BPAVgOcnbYw6YO7Aisk2zfk1WywHcRfKxcRrkkmGvBLB3pGBdRXKfSL6iuxGR/QB8HMDmizi/A8AJJL/bdfAcgRWRXQGc3IA6aok/B3ASyW+O+mUuwB4G4NyuAWr6H07yvEi+orkRkbUBfBHAshZOBcAXAHyY5OMt7Eea5ASsiDwXwCkA3gugDXcXAziK5CPDi2vTcVq9WvcTEa057wOwbutOow3/qqUFSa2Js2kisgmA7wNYP3BSdwPYk+RvA/vNmecCrIhsDOA6AC8PXMcfAbyR5G8G/bIAthH3CABfClzQQvMjSZ7d0UfU7iKyEoAfA9hqSsf3A9iB5O9C++cArIhsBODWDslItduOpP6v0yo1h+o0tb2InA/g4CkdXEDykCn7mnUTkRMAfKbjAPo/x/ah0PYNrIi8EsBNHWAdyHY8SS0n8gK2ybQXAjgoMMAXkXx3YB9zcxHZFMBPAawWYTCFdkeSv27rq09gG1h/AOCFbec7xk7r+M20NMimJBierIgcDeCTAJ43YbH/0itukmdGECW6CxE5DcCxER3/A8Dr20LbF7AishmAGyPBOpDvFJLHZwlsk2nXAHAogL0AbA1Ar7K1PQRA71deDeDLJP8TEYiorkTkGgB7RHUKKLQ7kfzlJL99ANvAeguAdSbNL/D3c7crswV24WJEZK25GoZ8OHChvZmLyD1TXBm3me+DAJZMgjY1sCKiD0K+ZwCravIrkpsVA2ybKOZmIyL/BaBPtCyalkN6y+fOxZynBFZE9ImdlgFzicWgPUxybQfWQNmBSxHRx40aSKum5ZFeiN01aoBUwIqIlmz6ZG5Qtlms9w6SWzuwFtI2PkVEn7hpHW7ZFNo3jXoPIQWwDaxaBqxpuUgA55A8woE1VFlEjmwexxqOMudaH1/uvBBaa2BFZHsA1yeAVdc498jdgTVESUReAEDvm+pP66bQ7kZSnyrNNUtgG1i1DLCq0Yf1+huATUj+24E1xkhElgK43HiYgftHm/JgDlorYEVkJwDfTgSrLkXfp9BbhPk96UoU2KTDiIjeM94z0aAK7R4kb7QAtoFVX2R5TqL1XEFS/+jnmmfYBKqLyHoA9D3X0Le1usxuFwA3dHEwoq+Fz3FT/DOALUhqSeDARg7mWHci8jIAPwTwkkTj/s8gCz4BYNVE89e31F5H8t7h8TzDJlK/qSlTQ5twdVGHUkj1/vI8WL0kiKpxO2dNptVX7hRebysqoJBqZtUMu0LzDNsDMiKiZYGWBw7tfP3HwuoZtgdYB0M6tCuIPxFWB7ZHYJua1jPtMzHQ7T+6DWhkGeAXXT2DOjx8k2lvBqB7n2axKay6/Ud3VExsXsNOlMjeQER0t7A+nZo1aINg9ZLAnsXWI8wgtMGwOrCtcUpjOEPQ6gtBep+1VRngNWwa/qYapYFW79PqFukam8KqGyl1b1pw8xo2WDL7DiKiW6N1i3Rt0HaC1UsCe/amHqFCaDvD6sBOjVOajhVBq1vSdWv6VGWA17BpeIsySgOt7kbVwylKbAqrbknXremdm9ewnSW0dyAieiiFHk5RGrRRYfWSwJ61aCMUCG10WB3YaDilcVQQtHpOgu7ijVIGeA2bhi+TURpo9RwAPRYox6aw6kMBPS8hevMaNrqk9g6b4+f14UJu0JrC6iWBPVtmI2QIrTmsDqwZTmkcZwStHn+qxyWZlAFew6bhKckoDbR6AoseyNZHU1j1Amve116sJuI1rJWyCf2KiB7EphdiqaFNCquXBAmhsh6qB2iTw+rAWlOU2H9CaHV3hB48l6QM8Bo2MUgph2ug1SMw9ShMi6aw6gWWnuGVvHkNm1xy+wGbDy/rhVhsaHuF1UsCe3Z6G6GBVj8Xum2kSdwG4A19ZdbBGjzDRopmjm4aaPVLNl0PoNNDLl7VN6yeYXOkLPKcGmh1s9+0X3fRz0y9iKSehth78wzbewjsJ9BA+wcALw4cTc9l3TCHzOolQWDkajAXkUsBLGu5lktIHtjSNpmZZ9hkUucxkIjo93tPB7B78y3YlZqZPY1nPgt6LYBj9AMYecx4/iwc2ByjknBOpX0S9f+X5ScHVk6B9wAAAABJRU5ErkJggg=="}))))))}function je(){const[e,a]=Object(n.useState)(!1),[t,c]=Object(n.useContext)(A),[r,l]=Object(n.useState)(!1),[o,i]=Object(n.useState)(null);return s.a.createElement("div",null,s.a.createElement(we.a,{className:"garage-panel"},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null),onClick:()=>{a(!e)}},s.a.createElement("div",{className:"summary"},s.a.createElement("img",{"data-testid":"garage-icon",alt:"garage",className:"logo-image",src:Se}),s.a.createElement("div",null,s.a.createElement(Te.a,{className:"panel-text panel-header-text"},"Garage"),s.a.createElement("div",{className:"small-text-container"},!e&&t.garageDoors.map((e=>s.a.createElement("div",{className:"small-text-group",key:"door-notify-".concat(e.doorName)},s.a.createElement("p",{className:"small-text text"},e.doorName,":"),s.a.createElement("p",{className:"small-text text "+(e.isOpen?"alert":"healthy")},e.isOpen?"Open":"Closed")))))))),s.a.createElement(oe.a,null),t.devicesToRegister?s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",{className:"door-groups"},s.a.createElement("h2",{className:"status-text-bold text"},"Register New Device!"),s.a.createElement(oe.a,null),s.a.createElement("div",null,s.a.createElement("p",{className:"status-text text"},"A new device has been detected and needs to be registered.")),s.a.createElement("div",null,s.a.createElement(Z,{onClick:()=>l(!0)},"Register")),s.a.createElement("div",{ref:e=>{i(e)}},r&&s.a.createElement(Ce,{close:()=>{l(!1),t.addedGarageNode&&c({type:"SET_DEVICES_TO_REGISTER",payload:!1})},parentRef:o})))):s.a.createElement("div",{className:"door-groups"},(()=>{const e=t.garageDoors;return e&&e.length>0?e.map((e=>s.a.createElement(De,{key:"door-".concat(e.doorName),device:e}))):s.a.createElement("p",null,"No Garge devices have been registered")})())))}var Be=t.p+"static/media/SumpPumpLowIcon.ce93c918.png",Me=t.p+"static/media/SumpPumpMediumLowIcon.244a4245.png",Re=t.p+"static/media/SumpPumpMediumHighIcon.fbe6f63b.png",Ge=t.p+"static/media/SumpPumpHighIcon.a84adbb0.png";t(137);function Le(){const[e,a]=Object(n.useState)(!1),[t]=Object(n.useContext)(A);return s.a.createElement("div",null,s.a.createElement(we.a,{"data-testid":"basement-panel",className:"basement-panel"},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null),onClick:()=>{a(!e)}},s.a.createElement("div",{className:"summary"},s.a.createElement("img",{"data-testid":"sump-logo",alt:"basement",className:"logo-image",src:"data:image/png;base64,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"}),s.a.createElement("div",null,s.a.createElement(Te.a,{className:"panel-text panel-header-text"},"Basement"),!e&&s.a.createElement("div",{className:"small-text-group"},s.a.createElement("p",{className:"small-text text"},"Depth:"),s.a.createElement("p",{className:"small-text text "+(3===t.sumpData.warningLevel?"alert":"healthy")},t.sumpData.currentDepth),s.a.createElement("p",{className:"small-text text "+(3===t.sumpData.warningLevel?"alert":"healthy")},t.sumpData.depthUnit))))),s.a.createElement(oe.a,null),s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",{className:"sump-group"},0===t.sumpData.warningLevel?s.a.createElement("img",{"data-testid":"warning-low",alt:"sump pump",className:"sump-icon",src:Be,label:"warning-low"}):1===t.sumpData.warningLevel?s.a.createElement("img",{"data-testid":"warning-medium-low",alt:"sump pump",className:"sump-icon",src:Me,label:"warning-medium-low"}):2===t.sumpData.warningLevel?s.a.createElement("img",{"data-testid":"warning-medium-high",alt:"sump pump",className:"sump-icon",src:Re,label:"warning-medium-high"}):3===t.sumpData.warningLevel?s.a.createElement("img",{"data-testid":"warning-high",alt:"sump pump",className:"sump-icon",src:Ge,label:"warning-high"}):void 0,s.a.createElement("div",{className:"sump-measure-group"},s.a.createElement("div",{className:"sump-text-group"},s.a.createElement("p",{className:"current-text sump-text text"},"Current: "),s.a.createElement("p",{className:"current-depth sump-text text "+(3===t.sumpData.warningLevel?"alert":"healthy")},t.sumpData.currentDepth),s.a.createElement("p",{className:"current-text sump-text text "+(3===t.sumpData.warningLevel?"alert":"healthy")},t.sumpData.depthUnit)),s.a.createElement("div",{className:"sump-text-group"},s.a.createElement("p",{className:"average-text sump-text text"},"Average: "),s.a.createElement("p",{className:"average-depth sump-text text"},t.sumpData.averageDepth),s.a.createElement("p",{className:"average-text sump-text text"},t.sumpData.depthUnit)))))))}var We=t(85),Ue=t(86),Pe=t(93),Qe=t(91),Ye=function(e){Object(Pe.a)(t,e);var a=Object(Qe.a)(t);function t(e){var n;return Object(We.a)(this,t),(n=a.call(this,e)).getArcToValue=function(e){var a,t,s=n.props.log?Math.log(Math.pow(e/n.props.min,n.angleArc))/Math.log(n.props.max/n.props.min):(e-n.props.min)*n.angleArc/(n.props.max-n.props.min);return t=n.props.clockwise?(a=n.startAngle-1e-5)+s+1e-5:(a=n.endAngle+1e-5)-s-1e-5,n.props.cursor&&(a=t-n.cursorExt,t+=n.cursorExt),{startAngle:a,endAngle:t,acw:!n.props.clockwise&&!n.props.cursor}},n.getCanvasScale=function(e){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(e.webkitBackingStorePixelRatio||1)},n.coerceToStep=function(e){var a=n.props.log?Math.pow(n.props.step,~~((Math.abs(e)<1?-.5:.5)+Math.log(e)/Math.log(n.props.step))):~~((e<0?-.5:.5)+e/n.props.step)*n.props.step;return a=Math.max(Math.min(a,n.props.max),n.props.min),isNaN(a)&&(a=0),Math.round(1e3*a)/1e3},n.eventToValue=function(e){var a=n.canvasRef.getBoundingClientRect(),t=e.clientX-a.left,s=e.clientY-a.top,c=Math.atan2(t-n.w/2,n.w/2-s)-n.angleOffset;n.props.clockwise||(c=n.angleArc-c-2*Math.PI),n.angleArc!==2*Math.PI&&c<0&&c>-.5?c=0:c<0&&(c+=2*Math.PI);var r=n.props.log?Math.pow(n.props.max/n.props.min,c/n.angleArc)*n.props.min:c*(n.props.max-n.props.min)/n.angleArc+n.props.min;return n.coerceToStep(r)},n.handleMouseDown=function(e){n.props.onChange(n.eventToValue(e)),document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp),document.addEventListener("keyup",n.handleEsc)},n.handleMouseMove=function(e){e.preventDefault(),n.props.onChange(n.eventToValue(e))},n.handleMouseUp=function(e){n.props.onChangeEnd(n.eventToValue(e)),document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),document.removeEventListener("keyup",n.handleEsc)},n.handleTouchStart=function(e){e.preventDefault(),n.touchIndex=e.targetTouches.length-1,n.props.onChange(n.eventToValue(e.targetTouches[n.touchIndex])),document.addEventListener("touchmove",n.handleTouchMove,{passive:!1}),document.addEventListener("touchend",n.handleTouchEnd),document.addEventListener("touchcancel",n.handleTouchEnd)},n.handleTouchMove=function(e){e.preventDefault(),n.props.onChange(n.eventToValue(e.targetTouches[n.touchIndex]))},n.handleTouchEnd=function(e){n.props.onChangeEnd(n.eventToValue(e)),document.removeEventListener("touchmove",n.handleTouchMove),document.removeEventListener("touchend",n.handleTouchEnd),document.removeEventListener("touchcancel",n.handleTouchEnd)},n.handleEsc=function(e){27===e.keyCode&&(e.preventDefault(),n.handleMouseUp())},n.handleTextInput=function(e){var a=Math.max(Math.min(+e.target.value,n.props.max),n.props.min)||n.props.min;n.props.onChange(a)},n.handleWheel=function(e){e.preventDefault(),e.deltaX>0||e.deltaY>0?n.props.onChange(n.coerceToStep(n.props.log?n.props.value*n.props.step:n.props.value+n.props.step)):(e.deltaX<0||e.deltaY<0)&&n.props.onChange(n.coerceToStep(n.props.log?n.props.value/n.props.step:n.props.value-n.props.step))},n.handleArrowKey=function(e){37===e.keyCode||40===e.keyCode?(e.preventDefault(),n.props.onChange(n.coerceToStep(n.props.log?n.props.value/n.props.step:n.props.value-n.props.step))):38!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),n.props.onChange(n.coerceToStep(n.props.log?n.props.value*n.props.step:n.props.value+n.props.step)))},n.inputStyle=function(){return{width:"".concat(n.w/2+4>>0,"px"),height:"".concat(n.w/3>>0,"px"),position:"absolute",verticalAlign:"middle",marginTop:"".concat(n.w/3>>0,"px"),marginLeft:"-".concat(3*n.w/4+2>>0,"px"),border:0,background:"none",font:"".concat(n.props.fontWeight," ").concat(n.w/n.digits>>0,"px ").concat(n.props.font),textAlign:"center",color:n.props.inputColor||n.props.fgColor,padding:"0px",WebkitAppearance:"none"}},n.renderCenter=function(){var e=n.props,a=e.displayCustom,t=e.displayInput,c=e.disableTextInput,r=e.readOnly,l=e.value;return t?s.a.createElement("input",{style:n.inputStyle(),type:"text",value:l,onChange:n.handleTextInput,onKeyDown:n.handleArrowKey,readOnly:r||c}):a&&"function"===typeof a?a():null},n.w=n.props.width||200,n.h=n.props.height||n.w,n.cursorExt=!0===n.props.cursor?.3:n.props.cursor/100,n.angleArc=n.props.angleArc*Math.PI/180,n.angleOffset=n.props.angleOffset*Math.PI/180,n.startAngle=1.5*Math.PI+n.angleOffset,n.endAngle=1.5*Math.PI+n.angleOffset+n.angleArc,n.digits=Math.max(String(Math.abs(n.props.min)).length,String(Math.abs(n.props.max)).length,2)+2,n}return Object(Ue.a)(t,[{key:"componentDidMount",value:function(){this.drawCanvas(),this.props.readOnly||this.canvasRef.addEventListener("touchstart",this.handleTouchStart,{passive:!1})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.width&&this.w!==e.width&&(this.w=e.width),e.height&&this.h!==e.height&&(this.h=e.height)}},{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentWillUnmount",value:function(){this.canvasRef.removeEventListener("touchstart",this.handleTouchStart)}},{key:"drawCanvas",value:function(){var e=this.canvasRef.getContext("2d"),a=this.getCanvasScale(e);this.canvasRef.width=this.w*a,this.canvasRef.height=this.h*a,e.scale(a,a),this.xy=this.w/2,this.lineWidth=this.xy*this.props.thickness,this.radius=this.xy-this.lineWidth/2,e.lineWidth=this.lineWidth,e.lineCap=this.props.lineCap,e.beginPath(),e.strokeStyle=this.props.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke();var t=this.getArcToValue(this.props.value);e.beginPath(),e.strokeStyle=this.props.fgColor,e.arc(this.xy,this.xy,this.radius,t.startAngle,t.endAngle,t.acw),e.stroke()}},{key:"render",value:function(){var e=this,a=this.props,t=a.canvasClassName,n=a.className,c=a.disableMouseWheel,r=a.readOnly,l=a.title,o=a.value;return s.a.createElement("div",{className:n,style:{width:this.w,height:this.h,display:"inline-block"},onWheel:r||c?null:this.handleWheel},s.a.createElement("canvas",{ref:function(a){e.canvasRef=a},className:t,style:{width:"100%",height:"100%"},onMouseDown:r?null:this.handleMouseDown,title:l?"".concat(l,": ").concat(o):o}),this.renderCenter())}}]),t}(s.a.Component);Ye.defaultProps={onChangeEnd:function(){},min:0,max:100,step:1,log:!1,width:200,height:200,thickness:.35,lineCap:"butt",bgColor:"#EEE",fgColor:"#EA2",inputColor:"",font:"Arial",fontWeight:"bold",clockwise:!0,cursor:!1,stopper:!0,readOnly:!1,disableTextInput:!1,displayInput:!0,angleArc:360,angleOffset:0,disableMouseWheel:!1,className:null,canvasClassName:null};var _e=Ye,Fe=t.p+"static/media/sunny.88ed0479.png",Je=t.p+"static/media/drizzle.b661151e.png",Ke=t.p+"static/media/cloudy.8689cdbd.png",Ve=t.p+"static/media/partly_cloudy.e89b42bf.png",He=t.p+"static/media/partly_cloudy_night.c2747133.png",Ze=t.p+"static/media/mostly_cloudy.1d475f2c.png",Xe=t.p+"static/media/mostly_cloudy_night.9aca41b3.png",qe=t.p+"static/media/heavy_snow.b490b750.png",ze=t.p+"static/media/light_snow.33555d78.png",$e=t.p+"static/media/light_rain.ca7090b7.png",ea=t.p+"static/media/heavy_rain.ea2f0db4.png",aa=t.p+"static/media/thunderstorm.30c83f95.png",ta=t.p+"static/media/home.df3810cf.png",na=t.p+"static/media/clear_night.4e649027.png",sa=t.p+"static/media/misty.546b5cf4.png";t(138);function ca(){const[e]=Object(n.useContext)(A),[a,t]=Object(n.useState)(!1),[c,r]=Object(n.useState)(),[l,o]=Object(n.useState)("");Object(n.useEffect)((()=>{t(m(e.garageCoords,e.userCoords)),u()})),me((()=>{t(m(e.garageCoords,e.userCoords)),u()}),2e4);const i={"light intensity drizzle":Je,drizzle:Je,"drizzle rain":Je,"heavy intensity drizzle":Je,mist:sa,"light intensity drizzle rain":Je,"shower drizzle":Je,"light rain":$e,"moderate rain":$e,"broken clouds":Ze,"heavy intensity rain":ea,"very heavy rain":ea,"extreme rain":ea,"shower rain":ea,"light snow":ze,"heavy intensity shower rain":ea,"clear sky":Fe,"few clouds":Ve,"scattered clouds":Ve,snow:ze,"heavy snow":qe,sleet:qe,"few clouds night":He,"clear sky night":na,"scattered clouds night":He,"broken clouds night":Xe},u=()=>{const t=e.forecastData.description.toLowerCase(),n=a?"".concat(t," night"):t;t.includes("thunderstorm")?(r(aa),o("thunderstorms")):n in i?(r(i[n]),o(i[n].replace(/_/g," ").replace(".png",""))):(r(Ke),o("cloudy"))};return s.a.createElement("div",{className:"temp-container"},s.a.createElement("div",{className:"temp-external-container"},s.a.createElement("img",{className:"weather-icon",alt:"description",src:c,label:l}),s.a.createElement("div",{className:"external-temp"},s.a.createElement("p",{className:"bottom-fade min-max text"},e.forecastData.maxTemp),s.a.createElement("p",{className:"external text"},e.forecastData.temp,"\xb0"),s.a.createElement("p",{className:"top-fade min-max text"},e.forecastData.minTemp))),s.a.createElement("div",{className:"temp-home-container"},s.a.createElement("img",{className:"home-icon",alt:"home",src:ta}),s.a.createElement("p",{className:"internal-temp text"},e.tempData.currentTemp,"\xb0")))}var ra=t.p+"static/media/TemperatureIcon.acfe210a.png",la=t(192),oa=t(157),ia=(t(139),t(200)),ma=Object(be.a)({switchBase:{color:"#fafafa","&$checked":{color:"#db5127"},"&$checked + $track":{backgroundColor:"#db5127"}},checked:{},track:{}})(ia.a),ua=Object(be.a)({switchBase:{color:"#fafafa","&$checked":{color:"#27aedb"},"&$checked + $track":{backgroundColor:"#27aedb"}},checked:{},track:{}})(ia.a),da=Object(be.a)({switchBase:{color:"#fafafa","&$checked":{color:"#00c774"},"&$checked + $track":{backgroundColor:"#00c774"}},checked:{},track:{}})(ia.a),pa=t(212);function Ea(){const[e,a]=Object(n.useContext)(A),[t,c]=Object(n.useState)(!1),[r]=Object(k.a)(ce,{volume:.25}),l=async t=>{if("auto"!==t||e.tasks.some((e=>"hvac"===e.task_type))){r();const n=e.tempData.mode===t?null:t;await a({type:"SET_TEMP_DATA",payload:{...e.tempData,mode:n}}),W(e.user.userId,e.auth.bearer,e.tempData.desiredTemp,n,e.tempData.isFahrenheit)}};return s.a.createElement("div",null,s.a.createElement(we.a,{"data-testid":"temperature-panel",className:"temperature-panel"},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null),onClick:()=>c(!t)},s.a.createElement("div",{className:"summary"},s.a.createElement("img",{alt:"temperature",className:"logo-image",src:ra}),s.a.createElement("div",null,s.a.createElement(Te.a,{className:"panel-text panel-header-text"},"Temperature"),!t&&s.a.createElement("div",{className:"small-text-container"},s.a.createElement("div",{className:"small-text-group"},s.a.createElement("p",{className:"small-text text"},"Outside:"),s.a.createElement("p",{className:"small-text text"},e.forecastData.temp,"\xb0")),s.a.createElement("div",{className:"small-text-group",style:{marginLeft:"1rem"}},s.a.createElement("p",{className:"small-text text"},"Inside:"),s.a.createElement("p",{className:"small-text text"},e.tempData.currentTemp,"\xb0")))))),s.a.createElement(oe.a,null),s.a.createElement("div",null,s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form-column image-column"},s.a.createElement(ca,null)),s.a.createElement("div",{className:"form-column gauge-column"},s.a.createElement(_e,{value:e.tempData.currentDesiredTemp,lineCap:"round",inputColor:e.tempData.gaugeColor,fgColor:e.tempData.gaugeColor,title:"Desired Temp",onChange:t=>{"heating"!==e.tempData.mode&&"cooling"!==e.tempData.mode||(a({type:"SET_TEMP_DATA",payload:{...e.tempData,desiredTemp:t}}),o((()=>W(e.user.userId,e.auth.bearer,t,e.tempData.mode,e.tempData.isFahrenheit))))},angleArc:240,angleOffset:240,min:e.tempData.minThermostatTemp,max:e.tempData.maxThermostatTemp}),e.tasks.some((e=>"hvac"===e.task_type))?s.a.createElement(la.a,null,s.a.createElement(oa.a,null,s.a.createElement(ve.a,{label:"Auto",control:s.a.createElement(da,{"data-testid":"auto-switch",checked:"auto"===e.tempData.mode&&e.tasks.some((e=>"hvac"===e.task_type)),onChange:()=>l("auto")})}))):null,s.a.createElement(pa.a,{in:"auto"!==e.tempData.mode||!e.tasks.some((e=>"hvac"===e.task_type)),timeout:400,classNames:"expansion",unmountOnExit:!0,appear:!0},s.a.createElement(la.a,null,s.a.createElement(oa.a,null,s.a.createElement(ve.a,{label:"Heat",control:s.a.createElement(ma,{"data-testid":"heating-switch",checked:"heating"===e.tempData.mode,onChange:()=>l("heating")})}),s.a.createElement(ve.a,{label:"Cool",control:s.a.createElement(ua,{"data-testid":"cooling-switch",checked:"cooling"===e.tempData.mode,onChange:()=>l("cooling")})})))))))))}var ga=t(219);t(218);var ha=Object(be.a)({root:{color:"#52af77",height:8,margin:"0 15px 0 15px"},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(ga.a);function va(e){const[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(e.data),[l]=Object(n.useState)(e.data.lightId),[i]=Object(n.useState)(e.data.groupId),[m,u]=Object(n.useState)(0);Object(n.useEffect)((()=>{const t=a.lights.find((a=>a.groupId===e.data.groupId));t.lights&&r(t.lights.find((e=>e.lightId===l)))}));return s.a.createElement("div",{className:"light-group"},s.a.createElement("div",{className:"light-spacer-one"}),s.a.createElement(V.a,{className:"light-button",onClick:async()=>{const e=!c.on,n=e?m:0;await P(a.auth.bearer,l,e,n),u(c.brightness);const s={...c,brightness:n,on:e},o=a.lights.map((e=>e.groupId===i?{...e,lights:e.lights.map((e=>e.lightId===l?s:e))}:e));r(s),t({type:"SET_LIGHTS",payload:o})}},s.a.createElement("p",{className:"light-text-small text"},c.lightName)),s.a.createElement(ha,{onChange:(e,n)=>((e,n)=>{const s={...c,brightness:2.55*n,on:n>0};r(s),o((()=>P(a.auth.bearer,l,!0,2.55*n)));const m=a.lights.map((e=>e.groupId===i?{...e,lights:e.lights.map((e=>e.lightId===l?s:e))}:e));t({type:"SET_LIGHTS",payload:m})})(0,n),value:Math.round(c.brightness/2.55),valueLabelDisplay:"auto","aria-label":"slider"}),s.a.createElement("div",{className:"light-spacer-two"}))}var Aa=t(88),ba=t.n(Aa);t(140);function ya(e){const a=Math.round(e.data.brightness/2.55),[t,c]=Object(n.useContext)(A),[r,l]=Object(n.useState)(e.data.on),[i]=Object(n.useState)(e.data.lights),[m]=Object(n.useState)(e.data.groupId),[u]=Object(n.useState)(e.data.groupName),[d,p]=Object(n.useState)(a),[E,g]=Object(n.useState)(a),[h,v]=Object(n.useState)(!1);return s.a.createElement("div",{"data-testid":"light-group"},s.a.createElement("div",{className:"light-group text"},s.a.createElement(z,{className:"light-chevron ".concat(h?"expanded":""),onClick:()=>v(!h)}),s.a.createElement(V.a,{className:"light-button",onClick:async()=>{const e=!r;if(l(!r),await U(t.auth.bearer,m,e),e){p(E);const e=t.lights.map((e=>e.groupId===m?{...e,brightness:E,lights:e.lights.map((e=>({...e,brightness:Math.round(2.55*E)})))}:e));c({type:"SET_LIGHTS",payload:e})}else{g(d),p(0);const e=t.lights.map((e=>e.groupId===m?{...e,brightness:0,lights:e.lights.map((e=>({...e,brightness:0})))}:e));c({type:"SET_LIGHTS",payload:e})}}},s.a.createElement("p",{className:"light-text text"},u)),s.a.createElement(ha,{"data-testid":"light-group-switch",onChange:async(e,a)=>{const n=Math.round(2.55*a);o((()=>U(t.auth.bearer,m,!0,n))),n>0&&l(!0),p(a);const s=t.lights.map((e=>e.groupId===m?{...e,brightness:n,lights:e.lights.map((e=>({...e,brightness:n})))}:e));c({type:"SET_LIGHTS",payload:s})},value:d,valueLabelDisplay:"auto","aria-label":"slider"}),s.a.createElement(ba.a,{className:"brightness-icon text"})),s.a.createElement(pa.a,{in:h,timeout:500,classNames:"expansion",unmountOnExit:!0,appear:!0},s.a.createElement("div",{"data-testid":"light-group-expansion",className:"light-group-expansion"},i&&i.length>0?i.map((e=>s.a.createElement(va,{key:"switch-".concat(e.lightId),data:e}))):s.a.createElement("p",{className:"panel-text text"},"No lights assigned to group"))))}var Na=t.p+"static/media/LightingIcon.f44cd925.png";t(141);function ka(){const[e]=Object(n.useContext)(A);return s.a.createElement("div",null,s.a.createElement(we.a,{"data-testid":"lighting-panel",className:"lighting-panel"},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null)},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,s.a.createElement("img",{alt:"lighting",className:"logo-image",src:Na})),s.a.createElement(Te.a,{className:"panel-text panel-header-text"},"Lighting"))),s.a.createElement(oe.a,null),s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",{className:"light-panel-group"},e.lights&&e.lights.length?e.lights.map((e=>s.a.createElement(ya,{key:"switch-".concat(e.groupId),data:e}))):s.a.createElement("p",{className:"text"},"No Light Groups were found")))))}var Ca=t.p+"static/media/SecurityIcon.07bfb1b6.png";function Sa(){return s.a.createElement("div",null,s.a.createElement(we.a,{"data-testid":"security-panel",className:"security-panel"},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null)},s.a.createElement("div",{className:"summary"},s.a.createElement("div",null,s.a.createElement("img",{alt:"security",className:"logo-image",src:Ca})),s.a.createElement(Te.a,{className:"panel-text panel-header-text"},"Security"))),s.a.createElement(oe.a,null),s.a.createElement(Oe.a,{className:"center"},s.a.createElement(Te.a,{className:"text"},"Test Detail line 2"))))}t(142);function wa(){var e=I().getUserRoles().map((function(e){return e.role_name}));return s.a.createElement("div",{"data-testid":"dashboard-panel"},e.includes("garage_door")?s.a.createElement("div",{className:"panel"},s.a.createElement(je,null)):null,e.includes("sump_pump")?s.a.createElement("div",{className:"panel"},s.a.createElement(Le,null)):null,e.includes("thermostat")?s.a.createElement("div",{className:"panel"},s.a.createElement(Ea,null)):null,e.includes("lighting")?s.a.createElement("div",{className:"panel"},s.a.createElement(ka,null)):null,e.includes("security")?s.a.createElement("div",{className:"panel"},s.a.createElement(Sa,null)):null)}t(143);function fa(){return I().setActivePage("Home Automation"),s.a.createElement("div",{className:"home-main"},s.a.createElement(he,null),s.a.createElement("div",{"data-testid":"home-body",className:"home-body body"},s.a.createElement("div",{className:"center"},s.a.createElement(wa,null))))}var Ta=t(89),Oa=t.n(Ta),Ia=t(42),xa=t.p+"static/media/pop.9a56306a.mp3";t(144);function Da(e){var a=Object(k.a)(xa,{volume:.25}),t=Object(Ia.a)(a,1)[0],c=Object(n.useState)(e.day.on),r=Object(Ia.a)(c,2),l=r[0],o=r[1];return s.a.createElement("button",{className:l?"day-picker selected":"day-picker",onClick:function(){var a=!l;e.toggleDay(e.day,a),o(a),e.setEdited(),t()}},e.day.day)}t(145);function ja(e){return s.a.createElement("div",{className:"weekday-picker"},e.daysOfWeek.map((function(a){return s.a.createElement(Da,{key:a.id+"-day-picker",day:a,toggleDay:e.toggleDay,setEdited:e.setEdited})})))}var Ba=t(90),Ma=t(16),Ra=t(207);t(146);function Ga(e){var a=Object(n.useState)(),t=Object(Ia.a)(a,2),c=t[0],r=t[1];Object(n.useEffect)((function(){if(void 0!==e.initialTime){var a=new Date,t=e.initialTime.split(":");a.setHours(t[0]),a.setMinutes(t[1]),r(a)}}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{"data-testid":"time-picker",className:"light-alarm-component"},s.a.createElement(Ma.a,{utils:Ba.a},s.a.createElement(Ra.a,{margin:"normal",label:e.label,value:c,onChange:function(a){r(a),e.setTime(a.toLocaleTimeString("it-IT",{hour12:!1}))},KeyboardButtonProps:{"aria-label":"change time"}}))))}var La=t(201),Wa=t(202),Ua=t(220);function Pa(e){const[a]=Object(k.a)(w,{volume:.25}),[t]=Object(k.a)(ce,{volume:.25}),[c,r]=Object(n.useContext)(A),[l,o]=Object(n.useState)(!1),[i,m]=Object(n.useState)(!1),[u,d]=Object(n.useState)(e.task.task_type),[p,E]=Object(n.useState)(e.task.alarm_days),[g,h]=Object(n.useState)(e.task.alarm_time),[v,b]=Object(n.useState)(e.task.enabled),[y,N]=Object(n.useState)([{id:"Sun",day:"S",on:!1},{id:"Mon",day:"M",on:!1},{id:"Tue",day:"T",on:!1},{id:"Wed",day:"W",on:!1},{id:"Thu",day:"T",on:!1},{id:"Fri",day:"F",on:!1},{id:"Sat",day:"S",on:!1}].map((a=>e.task.alarm_days.includes(a.id)?{...a,on:!0}:a))),C=async a=>{const t={taskId:e.task.task_id,alarmLightGroup:e.task.alarm_light_group,alarmGroupName:e.task.alarm_group_name,alarmDays:p,alarmTime:g,enabled:a,taskType:u},n=await Y(c.user.userId,c.auth.bearer,t);n&&(r({type:"DELETE_SCHEDULED_TASK",payload:e.task.task_id}),r({type:"ADD_SCHEDULED_TASK",payload:n}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(we.a,{className:"task-panel",expanded:l,onChange:()=>{o(!l)}},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null)},s.a.createElement("div",{className:"alarm-summary-panel"},s.a.createElement("div",{className:"alarm-setting-group"},s.a.createElement("p",{className:"text activity-group-name"},e.task.task_type)),s.a.createElement("div",{className:"alarm-setting-group","data-testid":"light-alarm-group"},s.a.createElement("div",{className:"alarm-column-one"},s.a.createElement("p",{className:"panel-header-text alarm-time"},g.slice(0,-3))),s.a.createElement("div",{className:"alarm-column-two"},s.a.createElement(ia.a,{onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),checked:v,onChange:async()=>{t();const e=!v;b(e),await C(e)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}))),s.a.createElement("div",{className:"alarm-setting-group"},s.a.createElement("div",{className:"alarm-column-one"},s.a.createElement("p",{className:"text activity-subtext"},p))))),s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",null,s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(_.a,{"data-testid":"task-type",className:"light-alarm-component",select:!0,variant:"outlined",value:u,onChange:e=>{m(!0),d(c.taskTypes.find((a=>a===e.target.value)))},label:"Task Type"},c.taskTypes.map((e=>s.a.createElement(Ua.a,{key:e,value:e},e)))),s.a.createElement(Ga,{className:"light-alarm-component",initialTime:g,setTime:e=>{m(!0),h(e)}})),s.a.createElement(ja,{daysOfWeek:y,toggleDay:(e,a)=>{const t=y.map((t=>t.id===e.id?{...t,on:a}:t));N(t),E(t.filter((e=>!0===e.on)).map((e=>e.id)).join(""))},setEdited:()=>m(!0)}),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"tasks-button-group text"},s.a.createElement("div",{className:"task-button-container",onClick:async()=>{a();(await Q(c.user.userId,c.auth.bearer,e.task.task_id)).ok&&r({type:"DELETE_SCHEDULED_TASK",payload:e.task.task_id})}},s.a.createElement(La.a,{className:"task-button task-delete"}),s.a.createElement("p",{className:"task-delete"},"Delete")),s.a.createElement("div",{className:"task-button-container",onClick:async()=>{i&&(a(),await C(v))}},s.a.createElement(Wa.a,{className:"task-button ".concat(i?"edited":"")}),s.a.createElement("p",{className:i?"edited":""},"Update")))))))}var Qa=t(214),Ya=(t(147),t(203));function _a(e){var a="#00c774",t=Object(n.useState)(!1),c=Object(Ia.a)(t,2),r=c[0],l=c[1],o=Object(n.useState)(72),i=Object(Ia.a)(o,2),m=i[0],u=i[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"MuiFormControl-root MuiTextField-root MuiFormControl-marginNormal temp-picker-gap"},s.a.createElement("label",{className:"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled","data-shrink":"true"},e.label),s.a.createElement("div",{className:"MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-formControl MuiInput-formControl MuiInputBase-adornedEnd"},s.a.createElement("input",{"aria-invalid":"false",className:"MuiInputBase-input MuiInput-input MuiInputBase-inputAdornedEnd",value:e.value,onChange:function(){}}),s.a.createElement("div",{className:"MuiInputAdornment-root MuiInputAdornment-positionEnd"},s.a.createElement("button",{className:"MuiButtonBase-root MuiIconButton-root",tabIndex:"0",type:"button","aria-label":"change time",onClick:function(){return l(!r)}},s.a.createElement("span",{className:"MuiIconButton-label"},s.a.createElement(Ya.a,null)),s.a.createElement("span",{className:"MuiTouchRipple-root"}))))),s.a.createElement(Qa.a,{open:r},s.a.createElement("div",{className:"MyuiDialogContent-root MyuiPickersModal-dialog"},s.a.createElement("div",{className:"MyuiPickersBasePicker-container"},s.a.createElement("div",{className:"MyuiToolbar-root MyuiToolbar-regular MyuiPickersToolbar-toolbar MyuiToolbar-gutters"},s.a.createElement("div",{className:"MyuiPickersTimePickerToolbar-hourMinuteLabel"},s.a.createElement("h2",{className:"header-text"},"Temperature"))),s.a.createElement("div",{className:"MyuiPickersBasePicker-pickerView"},s.a.createElement("div",{className:"MyuiPickersClock-container"},s.a.createElement(_e,{value:m,lineCap:"round",fgColor:a,inputColor:a,onChange:u,angleArc:240,angleOffset:240,min:50,max:90}))))),s.a.createElement("div",{className:"MyuiDialogActions-root MyuiDialogActions-spacing"},s.a.createElement("button",{className:"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary",type:"button",onClick:function(){return l(!1)}},s.a.createElement("span",{className:"MyuiButton-label"},"Cancel"),s.a.createElement("span",{className:"MyuiTouchRipple-root"})),s.a.createElement("button",{className:"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary",type:"button",onClick:function(){e.onChange(m),l(!1)}},s.a.createElement("span",{className:"MyuiButton-label"},"OK"),s.a.createElement("span",{className:"MyuiTouchRipple-root"})))))}function Fa(e){const[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!1),[i]=Object(n.useState)(e.task.task_type),[m,u]=Object(n.useState)(e.task.alarm_days),[d,p]=Object(n.useState)(e.task.enabled),[E,g]=Object(n.useState)(e.task.hvac_stop),[h,v]=Object(n.useState)(e.task.hvac_start),[b,y]=Object(n.useState)(e.task.hvac_start_temp),[N,C]=Object(n.useState)(e.task.hvac_stop_temp),[S]=Object(k.a)(w,{volume:.25}),[f]=Object(k.a)(ce,{volume:.25}),[T,O]=Object(n.useState)([{id:"Sun",day:"S",on:!1},{id:"Mon",day:"M",on:!1},{id:"Tue",day:"T",on:!1},{id:"Wed",day:"W",on:!1},{id:"Thu",day:"T",on:!1},{id:"Fri",day:"F",on:!1},{id:"Sat",day:"S",on:!1}].map((a=>e.task.alarm_days.includes(a.id)?{...a,on:!0}:a))),I=async n=>{const s={taskId:e.task.task_id,alarmLightGroup:e.task.alarm_light_group,alarmGroupName:e.task.alarm_group_name,alarmDays:m,hvacStart:h,hvacStop:E,hvacStartTemp:b,hvacStopTemp:N,enabled:n,taskType:i},c=await Y(a.user.userId,a.auth.bearer,s);c&&(t({type:"DELETE_SCHEDULED_TASK",payload:e.task.task_id}),t({type:"ADD_SCHEDULED_TASK",payload:c}))};return s.a.createElement(we.a,{className:"task-panel",expanded:c,onChange:()=>{r(!c)}},s.a.createElement(fe.a,{expandIcon:s.a.createElement(xe.a,null)},s.a.createElement("div",{className:"alarm-summary-panel"},s.a.createElement("div",{className:"alarm-setting-group"},s.a.createElement("p",{className:"text activity-group-name"},e.task.task_type)),s.a.createElement("div",{className:"alarm-setting-group","data-testid":"light-alarm-group"},s.a.createElement("div",{className:"alarm-column-one"},s.a.createElement("p",{className:"panel-header-text alarm-time"},"".concat(h.slice(0,-3)," - ").concat(E.slice(0,-3)))),s.a.createElement("div",{className:"alarm-column-two"},s.a.createElement(ia.a,{onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),checked:d,onChange:async()=>{f();const e=!d;p(e),await I(e)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}))),s.a.createElement("div",{className:"alarm-setting-group"},s.a.createElement("div",{className:"alarm-column-one"},s.a.createElement("p",{className:"text activity-subtext"},m))))),s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"picker-row"},s.a.createElement(Ga,{initialTime:h,setTime:e=>{o(!0),v(e)},label:"start time"}),s.a.createElement(Ga,{initialTime:E,setTime:e=>{o(!0),g(e)},label:"stop time"}))),s.a.createElement("div",null,s.a.createElement("div",{className:"picker-row"},s.a.createElement(_a,{value:b,onChange:y,label:"Start Temp"}),s.a.createElement(_a,{value:N,onChange:C,label:"Stop Temp"}))),s.a.createElement(ja,{daysOfWeek:T,toggleDay:(e,a)=>{const t=T.map((t=>t.id===e.id?{...t,on:a}:t));O(t),u(t.filter((e=>!0===e.on)).map((e=>e.id)).join(""))},setEdited:()=>o(!0)}),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"tasks-button-group text"},s.a.createElement("div",{className:"task-button-container",onClick:async()=>{S();(await Q(a.user.userId,a.auth.bearer,e.task.task_id)).ok&&t({type:"DELETE_SCHEDULED_TASK",payload:e.task.task_id})}},s.a.createElement(La.a,{className:"task-button task-delete"}),s.a.createElement("p",{className:"task-delete"},"Delete")),s.a.createElement("div",{className:"task-button-container",onClick:async()=>{l&&(S(),await I(d))}},s.a.createElement(Wa.a,{className:"task-button ".concat(l?"edited":"")}),s.a.createElement("p",{className:l?"edited":""},"Update"))))))}function Ja(e){const[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(!1),[l]=Object(k.a)(w,{volume:.25}),[o,i]=Object(n.useState)(),[m,u]=Object(n.useState)(),[d,p]=Object(n.useState)(""),[E,g]=Object(n.useState)([{id:"Sun",day:"S",on:!1},{id:"Mon",day:"M",on:!1},{id:"Tue",day:"T",on:!1},{id:"Wed",day:"W",on:!1},{id:"Thu",day:"T",on:!1},{id:"Fri",day:"F",on:!1},{id:"Sat",day:"S",on:!1}]),[h,v]=Object(n.useState)((new Date).toLocaleTimeString("it-IT",{hour12:!1}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"settings-row"},s.a.createElement(_.a,{className:"light-alarm-component task-room-picker-row",select:!0,variant:"outlined",value:d,onChange:e=>{r(!0),"All Rooms"===e.target.value?u("0"):u(a.lights.find((a=>a.groupName===e.target.value)).groupId),p(e.target.value)},label:"Room","data-testid":"alarm-room-picker"},s.a.createElement(Ua.a,{key:"all-rooms",value:"All Rooms"},"All Rooms"),a.lights.map((e=>s.a.createElement(Ua.a,{key:e.groupId,value:e.groupName},e.groupName)))),s.a.createElement(Ga,{className:"light-alarm-component",initialTime:h,setTime:e=>{r(!0),v(e)}})),s.a.createElement(ja,{daysOfWeek:E,toggleDay:(e,a)=>{const t=E.map((t=>t.id===e.id?{...t,on:a}:t));g(t),i(t.filter((e=>!0===e.on)).map((e=>e.id)).join(""))},setEdited:()=>r(!0)}),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"tasks-button-group text"},s.a.createElement("div",{className:"task-button-container",onClick:()=>{e.cancel(),l()}},s.a.createElement(La.a,{className:"task-button task-delete"}),s.a.createElement("p",{className:"task-delete"},"Cancel")),s.a.createElement("div",{className:"task-button-container",onClick:async()=>{if(c&&""!==d&&null!==o){const n=await(async(e,a,t,n,s,c,r,l)=>{const o={alarmLightGroup:s,alarmGroupName:c,alarmDays:r,alarmTime:l,enabled:t,taskType:n},i={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(o)};return(await fetch("".concat(x,"/userId/").concat(e,"/tasks"),i)).json()})(a.user.userId,a.auth.bearer,!0,e.type,m,d,o,h);t({type:"SET_SCHEDULED_TASK",payload:n}),e.save(),l()}}},s.a.createElement(Wa.a,{className:"task-button ".concat(c?"edited":"")}),s.a.createElement("p",{className:c?"edited":""},"Save"))))}t(148);function Ka(e){const[a,t]=Object(n.useContext)(A),[c,r]=Object(n.useState)(),[l,o]=Object(n.useState)(72),[i,m]=Object(n.useState)(72),[u,d]=Object(n.useState)(!1),[p]=Object(k.a)(w,{volume:.25}),[E,g]=Object(n.useState)([{id:"Sun",day:"S",on:!1},{id:"Mon",day:"M",on:!1},{id:"Tue",day:"T",on:!1},{id:"Wed",day:"W",on:!1},{id:"Thu",day:"T",on:!1},{id:"Fri",day:"F",on:!1},{id:"Sat",day:"S",on:!1}]),[h,v]=Object(n.useState)((new Date).toLocaleTimeString("it-IT",{hour12:!1})),[b,y]=Object(n.useState)((new Date).toLocaleTimeString("it-IT",{hour12:!1}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"settings-row"},s.a.createElement("div",{className:"picker-row"},s.a.createElement(Ga,{initialTime:h,setTime:e=>{d(!0),v(e)},label:"start time"}),s.a.createElement(Ga,{initialTime:b,setTime:e=>{d(!0),y(e)},label:"stop time"}))),s.a.createElement("div",{className:"settings-row"},s.a.createElement("div",{className:"picker-row"},s.a.createElement(_a,{value:l,onChange:o,label:"Start Temp"}),s.a.createElement(_a,{value:i,onChange:m,label:"Stop Temp"}))),s.a.createElement(ja,{daysOfWeek:E,toggleDay:(e,a)=>{const t=E.map((t=>t.id===e.id?{...t,on:a}:t));g(t),r(t.filter((e=>!0===e.on)).map((e=>e.id)).join(""))},setEdited:()=>d(!0)}),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"tasks-button-group text"},s.a.createElement("div",{className:"task-button-container",onClick:()=>{e.cancel(),p()}},s.a.createElement(La.a,{className:"task-button task-delete"}),s.a.createElement("p",{className:"task-delete"},"Cancel")),s.a.createElement("div",{className:"task-button-container",onClick:async()=>{if(u&&null!==c){const n=await(async(e,a,t,n,s,c,r,l,o,i)=>{const m={hvacMode:s,hvacStart:c,hvacStop:r,hvacStartTemp:l,hvacStopTemp:o,alarmDays:i,enabled:t,taskType:n},u={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(m)};return(await fetch("".concat(x,"/userId/").concat(e,"/tasks"),u)).json()})(a.user.userId,a.auth.bearer,!0,e.type,"",h,b,l,i,c);t({type:"SET_SCHEDULED_TASK",payload:n}),e.save(),p()}}},s.a.createElement(Wa.a,{className:"task-button ".concat(u?"edited":"")}),s.a.createElement("p",{className:u?"edited":""},"Save"))))}function Va(e){const[a]=Object(n.useContext)(A),[t,c]=Object(n.useState)("");return s.a.createElement(s.a.Fragment,null,s.a.createElement(we.a,{className:"task-panel",expanded:!0},s.a.createElement(fe.a,{style:{height:"0px",minHeight:"0px"}}),s.a.createElement(Oe.a,{className:"center"},s.a.createElement("div",{className:"settings-row"},s.a.createElement(_.a,{"data-testid":"task-type",className:"light-alarm-component task-room-picker-row",select:!0,variant:"outlined",value:t,onChange:e=>{c(a.taskTypes.find((a=>a===e.target.value)))},label:"Task Type"},a.taskTypes.map((e=>s.a.createElement(Ua.a,{key:e,value:e},e))))),"hvac"===t?s.a.createElement(Ka,{type:t,cancel:e.cancelNewTask,save:e.saveNewTask}):""!==t?s.a.createElement(Ja,{type:t,cancel:e.cancelNewTask,save:e.saveNewTask}):s.a.createElement("div",{className:"tasks-button-group text"},s.a.createElement("div",{className:"task-button-container",onClick:()=>e.cancelNewTask()},s.a.createElement(La.a,{className:"task-button task-delete"}),s.a.createElement("p",{className:"task-delete"},"Cancel"))))))}t(149);function Ha(){I().setActivePage("Activities");const[e]=Object(k.a)(ce,{volume:.25}),[a]=Object(n.useContext)(A),[t,c]=Object(n.useState)(!1);return s.a.createElement("div",null,s.a.createElement("div",{className:"activities-header"},s.a.createElement(he,null)),s.a.createElement("div",{className:"activities-body body"},s.a.createElement("div",{className:"activites-wrapper"},s.a.createElement("div",{className:"settings-group setting panel-header-text"},s.a.createElement("h2",{"data-testid":"activities-sub-header"},"Activities")),t&&s.a.createElement(Va,{saveNewTask:()=>{c(!1)},cancelNewTask:()=>{c(!1)}}),a.tasks.map((e=>{return"hvac"===(a=e).task_type?s.a.createElement(Fa,{key:a.task_id,task:a}):s.a.createElement(Pa,{key:a.task_id,task:a});var a}))),s.a.createElement("div",{className:"add-task-container"},s.a.createElement("div",{className:"add-task-button-border"},s.a.createElement("div",{className:"add-task-button success-ripple"},s.a.createElement(Oa.a,{"data-testid":"add-task-button",className:"add-task-button-plus",onClick:()=>{c(!0),e()}}))))))}var Za=t(205),Xa=t(217),qa=t(209),za=t(190),$a=t(204);t(150);function et(){const[e,a]=Object(n.useContext)(A),[t]=Object(n.useState)(I().getUserRoles()),[c,r]=Object(n.useState)([]),[l,o]=Object(n.useState)(""),[i,m]=Object(n.useState)([]),[u,d]=Object(n.useState)(void 0),[p,E]=Object(n.useState)(void 0);Object(n.useEffect)((()=>{(async()=>{const a=await(async(e,a)=>{const t={method:"GET",headers:{Authorization:"Bearer ".concat(a)}};return(await fetch("".concat(D,"/userId/").concat(e,"/childAccounts"),t)).json()})(e.user.userId,e.auth.bearer);m(a)})()}),[]);const g=async a=>{if(a.preventDefault(),u||p||0===c.length||null===l||""===l)d(""===l||null===l),E(0===c.length);else{const a=await(async(e,a,t,n)=>{const s={email:t,roles:n},c={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)};return(await fetch("".concat(D,"/userId/").concat(e,"/createChildAccount"),c)).json()})(e.user.userId,e.auth.bearer,l,c);m(a),o(""),r([])}},h=async a=>{(await(async(e,a,t)=>{const n={method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}};return await fetch("".concat(D,"/userId/").concat(e,"/childUserId/").concat(t),n)})(e.user.userId,e.auth.bearer,a)).ok&&m(i.filter((e=>e.user_id!==a)))};return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:g},s.a.createElement("h2",{className:"panel-header-text"},"Account Users"),s.a.createElement(oe.a,null),s.a.createElement("table",{className:"table-container"},s.a.createElement("tbody",null,i.map((e=>s.a.createElement("tr",{className:"table-rows",key:"user-".concat(e.user_name)},s.a.createElement("td",null,e.user_name),s.a.createElement("td",null,e.roles.join(", ")),s.a.createElement("td",{className:"table-end-item"},s.a.createElement(ee,{"aria-label":"user-".concat(e.user_name),onClick:()=>h(e.user_id)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(_.a,{inputProps:{"data-testid":"email-account-user"},error:u,onChange:e=>(e=>{o(e.target.value),d(""===e.target.value)})(e),value:l,label:"Email"})),s.a.createElement("td",{className:"account-roles"},s.a.createElement(la.a,{error:p},s.a.createElement(Xa.a,{className:"child-user-label",id:"demo-mutiple-name-label"},"Roles"),s.a.createElement(qa.a,{className:"child-user-input","data-testid":"roles-account-user",multiple:!0,value:c,onChange:e=>(e=>{r(e.target.value),E(""===e.target.value)})(e),input:s.a.createElement(za.a,null),renderValue:e=>e.join(", ")},t.map((e=>s.a.createElement(Ua.a,{key:e.role_name,value:e.role_name},s.a.createElement(ye.a,{checked:c.indexOf(e.role_name)>-1}),s.a.createElement($a.a,{primary:e.role_name}))))))),s.a.createElement("td",{className:"table-end-item"},s.a.createElement($,{onClick:e=>{g(e)}})))))))}t(151);function at(){I().setActivePage("Account");const[e]=Object(k.a)(w,{volume:.25}),[a]=Object(n.useContext)(A),[t,c]=Object(n.useState)(null),[r,l]=Object(n.useState)(!1),[o,i]=Object(n.useState)(null),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[E,g]=Object(n.useState)(""),[h,v]=Object(n.useState)(null),[b,y]=Object(n.useState)(!1);Object(n.useEffect)((()=>{""!==d&&""!==E&&c(E!==d),r&&""===m?i(!0):r&&""!==m?i(!1):b&&""===m&&i(!0)}),[d,E,r,m,b]);return s.a.createElement("div",null,s.a.createElement("div",{className:"account-header"},s.a.createElement(he,null)),s.a.createElement("div",{className:"account-body body"},s.a.createElement("div",{className:"account-wrapper account-text text"},s.a.createElement("form",{className:"account-group account-text panel-header-text",onSubmit:async n=>{if(n.preventDefault(),e(),y(!0),!o&&!t&&r){const e=await(async(e,a,t,n)=>{const s={oldPassword:t,newPassword:n},c={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)};return await fetch("".concat(D,"/userId/").concat(e,"/updateAccount"),c)})(a.user.userId,a.auth.bearer,m,E);v(e.ok)}}},s.a.createElement("h2",null,"Change Password"),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"account-row"},s.a.createElement(_.a,{"data-testid":"old-pass",error:o,value:m,variant:"outlined",label:"Old Password",type:"password",onChange:async e=>{u(e.target.value),l(!0)}})),s.a.createElement("div",{className:"account-row"},s.a.createElement(_.a,{"data-testid":"new-pass",error:t,value:d,variant:"outlined",label:"New Password",type:"password",onChange:e=>p(e.target.value)})),s.a.createElement("div",{className:"account-row"},s.a.createElement(_.a,{"data-testid":"confirm-pass",error:t,value:E,variant:"outlined",label:"Confirm New Password",type:"password",onChange:e=>g(e.target.value)})),h?s.a.createElement("div",{className:"account-message"},s.a.createElement(Ae.a,{className:"success-text"}),s.a.createElement("p",{className:"success-text"},"Updated Successfully!")):!1===h?s.a.createElement("div",{className:"account-message"},s.a.createElement(Za.a,{className:"failure-text"}),s.a.createElement("p",{className:"failure-text"},"Password Update Failed")):s.a.createElement("div",null,s.a.createElement("p",null)),s.a.createElement(Z,{type:"submit"},"Submit")),s.a.createElement(et,null))))}function tt(e){const[a]=Object(n.useContext)(A),[t]=Object(k.a)(w,{volume:.25});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"settings-group setting panel-header-text"},s.a.createElement("h2",null,"Garage")),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row text"},s.a.createElement("p",{className:"setting measure-unit"},"Open Door:"),s.a.createElement("p",{className:"setting temp-unit"},a.preferences.garage_door?a.preferences.garage_door:"None")),s.a.createElement("div",{className:"settings-group setting panel-header-text"},s.a.createElement("h2",null,"Temperature")),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row text"},s.a.createElement("p",{className:"setting temp-unit"},"Unit:"),s.a.createElement("p",{className:"setting temp-unit"},a.preferences.temp_unit)),s.a.createElement("div",{className:"settings-row text"},s.a.createElement("p",{className:"setting temp-city"},"City:"),s.a.createElement("p",{className:"setting temp-city"},a.preferences.city)),s.a.createElement("div",{className:"setting text panel-header-text"},s.a.createElement("h2",null,"Measurement")),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row text"},s.a.createElement("p",{className:"setting measure-unit"},"Unit:"),s.a.createElement("p",{className:"setting measure-unit"},a.preferences.measure_unit)),s.a.createElement("div",null,s.a.createElement(Z,{onClick:()=>{e.toggleEdit(),t()}},"Edit")))}t(152);var nt=t(206),st=t(211);function ct(e){const[a,t]=Object(n.useContext)(A),[c]=Object(k.a)(w,{volume:.25}),[r,l]=Object(n.useState)(),[o,i]=Object(n.useState)(a.preferences.garage_door?a.preferences.garage_door:""),[m,u]=Object(n.useState)(),[d,p]=Object(n.useState)(a.preferences.city),[E,g]=Object(n.useState)(a.preferences.temp_unit),[h,v]=Object(n.useState)(a.preferences.measure_unit),b=e=>{l(!0),g(e.target.value)},y=e=>{l(!0),v(e.target.value)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"settings-group setting text"},s.a.createElement("h2",{className:"panel-header-text"},"Garage"),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row"},s.a.createElement(_.a,{className:"garage-setting-row",variant:"outlined",select:!0,value:o,onChange:e=>{const t=a.garageDoors.find((a=>a.doorName===e.target.value));l(!0),i(e.target.value),u(t?t.doorId:null)},label:"Garage Door"},s.a.createElement(Ua.a,{value:""},"None"),a.garageDoors.map((e=>s.a.createElement(Ua.a,{key:e.doorName,value:e.doorName},e.doorName))))),s.a.createElement("h2",{className:"panel-header-text"},"Temperature"),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row"},s.a.createElement(la.a,null,s.a.createElement(nt.a,{label:"Unit:"},s.a.createElement(ve.a,{onChange:b,value:"fahrenheit",checked:"fahrenheit"===E,control:s.a.createElement(st.a,{color:"primary"}),label:"Fahrenheit"}),s.a.createElement(ve.a,{onChange:b,value:"celsius",checked:"celsius"===E,control:s.a.createElement(st.a,{color:"primary"}),label:"Celsius"})))),s.a.createElement("div",{className:"settings-row"},s.a.createElement(_.a,{variant:"outlined",label:"City",value:d,onChange:e=>{l(!0),p(e.target.value)}})),s.a.createElement("h2",{className:"panel-header-text"},"Measurement"),s.a.createElement(oe.a,null),s.a.createElement("div",{className:"settings-row"},s.a.createElement(la.a,null,s.a.createElement(nt.a,{label:"Unit:"},s.a.createElement(ve.a,{onChange:y,value:"imperial",checked:"imperial"===h,control:s.a.createElement(st.a,{color:"primary"}),label:"Imperial"}),s.a.createElement(ve.a,{onChange:y,value:"metric",checked:"metric"===h,control:s.a.createElement(st.a,{color:"primary"}),label:"Metric"}))))),s.a.createElement("div",{className:"settings-button-group"},s.a.createElement(Z,{disabled:!r,onClick:()=>{c();const n={isImperial:"imperial"===h,isFahrenheit:"fahrenheit"===E,city:d,garageDoor:o,garageId:m};(async(e,a,t)=>{const n={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)};await fetch("".concat(x,"/userId/").concat(e,"/preferences/update"),n)})(a.user.userId,a.auth.bearer,n),t({type:"SET_USER_PREFERENCES",payload:{...a.preferences,city:d,temp_unit:E,measure_unit:h,garage_id:m,garage_door:o}}),e.setEditMode(!e.isEditMode)}},"Save"),s.a.createElement(q,{onClick:()=>{c(),p(e.city),g(e.tempUnit),v(e.measureUnit),e.setEditMode(!e.isEditMode)}},"Cancel")))}t(153);function rt(){I().setActivePage("Settings");const[e]=Object(n.useContext)(A),[a,t]=Object(n.useState)(!1),[c,r]=Object(n.useState)(!1),[l,o]=Object(n.useState)();Object(n.useEffect)((()=>{r("theme-dark"===localStorage.getItem("theme")),t("true"===localStorage.getItem("auto-theme"))}));return s.a.createElement("div",null,s.a.createElement("div",{className:"settings-header"},s.a.createElement(he,null)),s.a.createElement("div",{className:"settings-body body"},s.a.createElement("div",{className:"settings-wrapper body"},s.a.createElement("div",{className:"settings-group setting panel-header-text"},s.a.createElement("h2",null,"Preferences")),s.a.createElement("div",{className:"settings-row text"},s.a.createElement(la.a,null,s.a.createElement(ve.a,{label:"Dark Mode",control:s.a.createElement(ma,{onChange:()=>{"theme-dark"===localStorage.getItem("theme")?p("theme-light"):p("theme-dark"),r(!c)},disabled:a,checked:c&&!a})}))),s.a.createElement("div",{className:"settings-row text"},s.a.createElement(la.a,null,s.a.createElement(ve.a,{label:"Auto Theme",control:s.a.createElement(ua,{onChange:()=>{localStorage.setItem("auto-theme",!a),t(!a),m(e.garageCoords,e.userCoords)?p("theme-dark"):p("theme-light"),!1!==!a||c||p("theme-light")},checked:a})}))),l?s.a.createElement(ct,{isEditMode:l,setEditMode:o}):s.a.createElement(tt,{toggleEdit:()=>{o(!l)}}))))}function lt(){const[e]=Object(n.useContext)(A);return s.a.createElement(le.a,null,s.a.createElement("header",{className:"App-header","data-testid":"app-routes"},s.a.createElement(f.b,{exact:!0,path:"/home-automation-ui",render:()=>s.a.createElement(te,null)}),s.a.createElement("div",null,s.a.createElement(se,{authed:e.auth.isAuthenticated,path:"/home-automation-ui/home",component:fa}),s.a.createElement(se,{authed:e.auth.isAuthenticated,path:"/home-automation-ui/activities",component:Ha}),s.a.createElement(se,{authed:e.auth.isAuthenticated,path:"/home-automation-ui/settings",component:rt}),s.a.createElement(se,{authed:e.auth.isAuthenticated,path:"/home-automation-ui/account",component:at}))))}function ot(){const e=localStorage.hasOwnProperty("theme")?localStorage.getItem("theme"):"theme-light";return p(e),s.a.createElement(b,null,s.a.createElement(lt,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[154,1,2]]]);
//# sourceMappingURL=main.dea749d0.chunk.js.map