{"version":3,"sources":["utilities/Services.js","state/Reducer.js","state/Store.js","resources/CompanyLogo.png","components/header/LogoHeader.js","resources/click.mp3","state/GlobalState.js","utilities/RestApi.js","components/controls/Buttons.js","pages/Login/UserPass.js","pages/Login/Login.js","components/routes/PrivateRoutes.js","resources/singleClick.mp3","components/header/AccountIcon.js","components/header/AccountMenu.js","utilities/UseInterval.js","resources/ding.mp3","pages/Home/segments/UserLocation.js","utilities/Location.js","utilities/StateUtil.js","components/header/Header.js","components/controls/CheckBox.js","pages/Home/segments/AddGarage.js","pages/Home/segments/RegisterDevice.js","resources/panelIcons/GarageDoorIcon.png","pages/Home/segments/GarageDoor.js","resources/panelIcons/UpDown.png","pages/Home/panels/GaragePanel.js","resources/panelIcons/BasementIcon.png","resources/panelIcons/SumpPumpLowIcon.png","resources/panelIcons/SumpPumpMediumLowIcon.png","resources/panelIcons/SumpPumpMediumHighIcon.png","resources/panelIcons/SumpPumpHighIcon.png","pages/Home/panels/BasementPanel.js","components/controls/Knob.js","resources/weatherIcons/sunny.png","resources/weatherIcons/drizzle.png","resources/weatherIcons/cloudy.png","resources/weatherIcons/partly_cloudy.png","resources/weatherIcons/partly_cloudy_night.png","resources/weatherIcons/mostly_cloudy.png","resources/weatherIcons/mostly_cloudy_night.png","resources/weatherIcons/heavy_snow.png","resources/weatherIcons/light_snow.png","resources/weatherIcons/light_rain.png","resources/weatherIcons/heavy_rain.png","resources/weatherIcons/thunderstorm.png","resources/weatherIcons/home.png","resources/weatherIcons/clear_night.png","resources/weatherIcons/misty.png","pages/Home/segments/TemperatureImage.js","resources/panelIcons/TemperatureIcon.png","components/controls/Switches.js","pages/Home/panels/TemperaturePanel.js","components/controls/Slider.js","pages/Home/segments/SwitchSlider.js","components/controls/LightSwitch.js","resources/panelIcons/LightingIcon.png","pages/Home/panels/LightingPanel.js","resources/panelIcons/SecurityIcon.png","pages/Home/panels/SecurityPanel.js","pages/Home/panels/DashboardPanels.js","pages/Home/Home.js","resources/pop.mp3","components/controls/DayPicker.js","components/controls/WeekPicker.js","components/controls/TimePicker.js","pages/Activities/LightActivity.js","components/controls/TempPicker.js","pages/Activities/HvacActivity.js","pages/Activities/CreateLightActivity.js","pages/Activities/CreateHvacActivity.js","pages/Activities/CreateNewActivity.js","pages/Activities/Activities.js","pages/Account/AccountChildUser.js","pages/Account/Account.js","pages/Settings/SettingsPanel.js","pages/Settings/SettingsEditPanel.js","pages/Settings/Settings.js","components/routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["debounchApi","func","wait","timeout","context","this","args","arguments","later","apply","clearTimeout","setTimeout","debounce","fn","parseDate","time","hours","minutes","seconds","split","date","Date","setHours","setMinutes","isNightTime","garageCoords","userCoords","today","sunrise","calculateSunrise","latitude","longitude","calculateSunset","getHours","setDate","getDate","getSunrise","getSunset","setTheme","themeName","localStorage","setItem","document","documentElement","className","toggleColor","mode","state","tasks","some","x","task_type","determineDesired","payload","now","name","toLocaleString","weekday","substring","filter","activeTask","find","hvac_start","hvac_stop","alarm_days","includes","hvac_start_temp","length","hvac_stop_temp","minThermostatTemp","maxThermostatTemp","desiredTemp","Reducer","action","type","activePage","auth","user","deviceId","startedGarageRegistration","devicesToRegister","garageRole","addedGarageNode","lights","doorIndex","garageDoors","findIndex","door","doorName","map","isOpen","duration","task","task_id","sumpData","color","current","tempData","gaugeColor","currentDesiredTemp","forecastData","loadedUtils","preferences","initialState","bearer","refresh","isAuthenticated","userId","firstName","lastName","roles","description","taskTypes","Context","createContext","Store","children","dispatch","useReducer","Provider","value","LogoHeader","data-testid","alt","src","Logo","GlobalState","constructor","setActivePage","page","getActivePage","setUserRoles","userRoles","getUserRoles","currentState","getStore","baseUrl","accountBaseUrl","deviceBaseUrl","garageBaseUrl","lightBaseUrl","sumpBaseUrl","thermostatBaseUrl","updateGarageState","async","shouldOpen","garageId","request","options","method","headers","body","JSON","stringify","response","fetch","json","setUserTemperature","isFahrenheit","setLightGroupState","groupId","brightness","deleteScheduledTask","taskId","updateScheduledTasks","GreenButton","props","ButtonBase","disabled","onClick","BlueButton","RedButton","ExpandButton","IconButton","aria-label","ChevronRight","AddButton","rotate","setRotate","React","useState","event","onAnimationEnd","Add","RemoveButton","Remove","UserPass","click","useSound","clickSound","volume","useContext","username","setUsername","password","setPassword","isUsernameInvalid","setIsUsernameInvalid","undefined","isPasswordInvalid","setIsPasswordInvalid","isValidLogin","setIsValidLogin","getBearerTokenFromLogin","userInvalid","passInvalid","ok","jsonResponse","bearerToken","dataStore","decodedToken","jwt_decode","getBearerToken","user_id","first_name","last_name","role_name","unregisteredDevices","device_id","refresh_token","exp","devices","to","onSubmit","preventDefault","TextField","inputProps","error","onChange","target","variant","label","Login","PrivateRoute","Component","component","authed","rest","render","pathname","from","location","Account","singleClickSound","firstInitial","trim","charAt","lastInitial","toggle","AccountSettings","wrapperRef","useEffect","addEventListener","handleClickOutside","parentRef","contains","ref","node","Divider","useInterval","callback","delay","savedCallback","useRef","id","setInterval","clearInterval","UserLocation","ding","dingSound","cancel","setCancel","opened","setOpened","firstCheck","setFirstCheck","secondCheck","setSecondCheck","displayMenu","setDisplayMenu","calculateDistance","navigator","geolocation","getCurrentPosition","position","coords","userDistance","lat1","long1","lat2","long2","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","atan2","sqrt","toFixed","calculateDistanceInMeters","distance","console","log","garage_id","alert","enableHighAccuracy","StateUtil","getGarageData","refreshBearerToken","getTempData","getForecastData","getLights","getSumpData","getPreferences","getActivities","doors","forEach","garageStatus","getGarageStatus","node_device","coordinates","node_name","doorId","isGarageOpen","statusDuration","sump","getSumpLevels","currentDepth","averageDepth","temp","getCurrentTemperature","updatedTemp","round","currentTemp","forecast","getUserForecast","updatedForecast","minTemp","maxTemp","getUserPreferences","activities","getScheduledTasks","groups","getLightGroups","refreshInterval","refreshToken","getRefreshedBearerToken","Header","settingsActive","setSettingsActive","accountWrapperRef","setAccountWrapperRef","getItem","GreenCheckbox","withStyles","root","checked","Checkbox","AddGarage","succeeded","setSucceeded","preferred","setPreferred","garageName","setGarageName","isNameValid","setIsNameValid","garageTouched","setGarageTouched","availableNodes","setAvailableNodes","updateGarageNode","nodeName","addUserDeviceNode","updateRoles","close","getRolesByUserId","CheckCircle","input","FormControlLabel","control","checkedG","RegisterDevice","setWrapperRef","ipAddress","setIpAddress","touched","setTouched","isIpValid","setIsIpValid","startedRegistration","setStartedRegistration","transitionComponent","setTransitionComponent","removeEventListener","roleName","addUserDevice","responseObj","test","isValidIpAddress","GarageDoor","statusDays","setStatusDays","statusMins","setStatusMins","statusHours","setStatusHours","updateGarageDuration","diffMs","device","floor","openCloseGarageDoor","newState","ExpansionPanelDetails","toggleGarageDoor","GaragePanel","open","setOpen","displayRegister","setDisplayRegister","ExpansionPanel","ExpansionPanelSummary","expandIcon","GarageIcon","Typography","key","renderDoors","BasementPanel","warningLevel","depthUnit","SumpPumpLowIcon","SumpPumpMediumLowIcon","SumpPumpMediumHighIcon","SumpPumpHighIcon","Knob","getArcToValue","v","startAngle","endAngle","angle","pow","min","angleArc","max","clockwise","cursor","cursorExt","acw","getCanvasScale","ctx","window","devicePixelRatio","screen","deviceXDPI","logicalXDPI","webkitBackingStorePixelRatio","coerceToStep","val","step","abs","isNaN","eventToValue","e","bounds","canvasRef","getBoundingClientRect","clientX","left","y","clientY","top","w","angleOffset","handleMouseDown","handleMouseMove","handleMouseUp","handleEsc","onChangeEnd","handleTouchStart","touchIndex","targetTouches","handleTouchMove","passive","handleTouchEnd","keyCode","handleTextInput","handleWheel","deltaX","deltaY","handleArrowKey","inputStyle","width","height","verticalAlign","marginTop","marginLeft","border","background","font","fontWeight","digits","textAlign","inputColor","fgColor","padding","WebkitAppearance","renderCenter","displayCustom","displayInput","disableTextInput","readOnly","style","onKeyDown","h","String","drawCanvas","nextProps","getContext","scale","xy","lineWidth","thickness","radius","lineCap","beginPath","strokeStyle","bgColor","arc","stroke","canvasClassName","disableMouseWheel","title","display","onWheel","onMouseDown","defaultProps","stopper","TemperatureImage","isNight","setIsNight","weatherIcon","setWeatherIcon","weatherDesc","setWeatherDesc","getWeatherImage","weatherTypes","DrizzleIcon","MistIcon","LightRainIcon","MostlyCloudyIcon","HeavyRainIcon","LightSnowIcon","ClearIcon","PartlyCloudyIcon","SnowyIcon","PartlyCloudNightIcon","ClearNightIcon","MostlyCloudyNightIcon","toLowerCase","weatherType","ThunderstormIcon","replace","CloudyIcon","HomeIcon","HeatSwitch","switchBase","backgroundColor","track","Switch","CoolSwitch","AutoSwitch","TemperaturePanel","toggleHvac","newMode","modeState","TemperatureIcon","newValue","FormControl","FormGroup","CSSTransition","in","classNames","unmountOnExit","appear","CustomSlider","margin","thumb","boxShadow","active","valueLabel","borderRadius","rail","Slider","SwitchSlider","light","setLight","data","lightId","group","updateSlider","newLight","setLightState","newList","lightName","valueLabelDisplay","LightSwitch","initalBrightness","isOn","setIsOn","on","groupName","setBrightness","prevBrightness","setPrevBrightness","areLightsOpen","setLightsOpen","newBrightness","LightingPanel","LightingIcon","SecurityPanel","SecurityIcon","DashboardPanel","roleNames","Home","DayPicker","PopSound","pop","day","setOn","updatedState","toggleDay","setEdited","WeekPicker","daysOfWeek","TimePicker","dateValue","setDateValue","initialTime","initialDate","utils","DateFnsUtils","setTime","toLocaleTimeString","hour12","KeyboardButtonProps","LightActivity","ClickSound","singleClick","SingleClickSound","edited","setType","days","setDays","alarm_time","enabled","setEnabled","setDaysOfWeek","updateTask","alarm_light_group","alarm_group_name","isEnabled","expanded","slice","stopPropagation","onFocus","updated","select","item","MenuItem","dateTime","newProjects","join","Delete","Save","TempPicker","displayColor","setDesiredTemp","data-shrink","aria-invalid","tabIndex","AcUnitOutlined","Dialog","HvacActivity","stopTime","setStopTime","startTime","setStartTime","inTemp","setInTemp","outTemp","setOutTemp","CreateLightActivity","setGroupId","selectedRoom","setSelectedRoom","userLightGroups","taskType","alarmLightGroup","alarmGroupName","alarmDays","alarmTime","insertLightTask","save","CreateHvacActivity","hvacMode","hvacStart","hvacStop","hvacStartTemp","hvacStopTemp","insertHvacTask","CreateNewActivityPanel","minHeight","cancelNewTask","saveNewTask","ActivitiesPage","addTask","setAddTask","createActivities","AccountChildUser","_","selectedRole","setSelectedRole","email","setEmail","setTest","isEmailInvalid","setIsEmailInvalid","isRoleInvalid","setIsRoleInvalid","getUserChildAccounts","getData","submitChildAccount","addUserChildAccount","deleteChildUser","childAccountId","deleteUserChildAccount","childUserId","user_name","validateEmail","InputLabel","Select","multiple","validateRole","Input","renderValue","role","indexOf","ListItemText","primary","arePasswordsMismatched","setPasswordsMismatched","changed","setChanged","oldPasswordError","setPasswordError","oldPassword","setOldPassword","firstNewPassword","setFirstPassword","secondNewPassword","setSecondPassword","submitted","setSubmitted","oldPass","newPass","updateUserAccount","Error","SettingsPanel","garage_door","temp_unit","city","measure_unit","toggleEdit","SettingsEditPanel","garage","setGarage","setGarageId","newCity","setNewCity","newTempUnit","setNewTempUnit","newMeasureUnit","setNewMeasureUnit","updateTempRadioButton","updateMeasureRadioButton","RadioGroup","Radio","isImperial","updateUserPreferences","setEditMode","isEditMode","tempUnit","measureUnit","Settings","isAutoMode","setIsAutoMode","darkMode","setDarkMode","Routes","exact","path","Activities","App","theme","Boolean","hostname","match","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.bdc668a4.chunk.js","sourcesContent":["import { getSunrise, getSunset } from 'sunrise-sunset-js';\r\n\r\n\r\nexport const debounce = (func, wait) => {\r\n    let timeout;\r\n    return function () {\r\n        const context = this;\r\n        const args = arguments;\r\n        const later = function () {\r\n            timeout = null;\r\n            func.apply(context, args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n    };\r\n};\r\n\r\nexport const debounchApi = debounce(fn => {\r\n    fn();\r\n}, 300);\r\n\r\nexport const isValidIpAddress = (ipAddress) => {\r\n    return (/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipAddress));\r\n}\r\n\r\nexport const parseDate = (time) => {\r\n    const [hours, minutes, seconds] = time.split(\":\");\r\n    const date = new Date();\r\n    date.setHours(hours);\r\n    date.setMinutes(minutes);\r\n    return date;\r\n}\r\n\r\n//TODO: test this function???\r\nexport const isNightTime = (garageCoords, userCoords) => {\r\n    if (garageCoords !== null) {\r\n        const today = new Date();\r\n        const sunrise = calculateSunrise(garageCoords.latitude, garageCoords.longitude)\r\n        const sunset = calculateSunset(garageCoords.latitude, garageCoords.longitude);\r\n        return (today >= sunset && today < sunrise);\r\n    } else if (userCoords !== null) {\r\n        const today = new Date();\r\n        const sunrise = calculateSunrise(userCoords.latitude, userCoords.longitude);\r\n        const sunset = calculateSunset(userCoords.latitude, userCoords.longitude);\r\n        return (today >= sunset && today < sunrise);\r\n    }\r\n}\r\n\r\nconst calculateSunrise = (latitude, longitude) => {\r\n    const today = new Date();\r\n    if (today.getHours() < 12) {\r\n        return getSunrise(latitude, longitude, today);\r\n    } else {\r\n        today.setDate(new Date().getDate() + 1);\r\n        return getSunrise(latitude, longitude, today);\r\n    }\r\n}\r\n\r\nconst calculateSunset = (latitude, longitude) => {\r\n    const today = new Date();\r\n    if (today.getHours() < 12) {\r\n        today.setDate(new Date().getDate() - 1);\r\n        return getSunset(latitude, longitude, today);\r\n    } else {\r\n        today.setDate(new Date().getDate())\r\n        return getSunset(latitude, longitude, today);\r\n    }\r\n}\r\n\r\nexport const toggleDarkMode = () => {\r\n    localStorage.getItem('theme') === 'theme-dark'\r\n        ? setTheme('theme-light')\r\n        : setTheme('theme-dark')\r\n}\r\n\r\n\r\nexport const setTheme = (themeName) => {\r\n    localStorage.setItem('theme', themeName);\r\n    document.documentElement.className = themeName;\r\n}","import { parseDate } from \"../utilities/Services\";\r\n\r\nconst Reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ACTIVE_PAGE':\r\n            return {\r\n                ...state,\r\n                activePage: action.payload\r\n            };\r\n        case 'SET_AUTH_DATA':\r\n            return {\r\n                ...state,\r\n                auth: action.payload\r\n            }\r\n        case 'SET_USER_DATA':\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            }\r\n        case 'SET_DEVICE_ID':\r\n            return {\r\n                ...state,\r\n                deviceId: action.payload\r\n            };\r\n        case 'SET_STARTED_GARAGE_REGISTRATION':\r\n            return {\r\n                ...state,\r\n                startedGarageRegistration: action.payload\r\n            };\r\n        case 'SET_DEVICES_TO_REGISTER':\r\n            return {\r\n                ...state,\r\n                devicesToRegister: action.payload\r\n            };\r\n        case 'SET_GARAGE_ROLE':\r\n            return {\r\n                ...state,\r\n                garageRole: action.payload\r\n            };\r\n        case 'SET_ADDED_GARAGE_NODE':\r\n            return {\r\n                ...state,\r\n                addedGarageNode: action.payload\r\n            };\r\n        case 'SET_GARAGE_COORDS':\r\n            return {\r\n                ...state,\r\n                garageCoords: action.payload\r\n            };\r\n        case 'SET_USER_COORDS':\r\n            return {\r\n                ...state,\r\n                userCoords: action.payload\r\n            };\r\n        case 'SET_LIGHTS':\r\n            return {\r\n                ...state,\r\n                lights: action.payload\r\n            }\r\n        case 'UPDATE_GARAGE_DOORS':\r\n            const doorIndex = state.garageDoors.findIndex(door => door.doorName === action.payload.doorName);\r\n            return {\r\n                ...state,\r\n                garageDoors: doorIndex > -1 ? state.garageDoors.map(door => door.doorName === action.payload.doorName ? { ...door, isOpen: action.payload.isOpen, duration: action.payload.duration } : door) : [...state.garageDoors, action.payload]\r\n            }\r\n        case 'SET_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: action.payload\r\n            }\r\n        case 'DELETE_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: state.tasks.filter(task => task.task_id !== action.payload)\r\n            }\r\n        case 'ADD_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: [...state.tasks, action.payload]\r\n            }\r\n        case 'SET_SUMP_DATA':\r\n            return {\r\n                ...state,\r\n                sumpData: action.payload\r\n            }\r\n        case 'SET_TEMP_DATA':\r\n            const color = toggleColor(action.payload.mode, state);\r\n            const current = determineDesired(state, action.payload);\r\n            return {\r\n                ...state,\r\n                tempData: { ...action.payload, gaugeColor: color, currentDesiredTemp: current }\r\n            }\r\n        case 'SET_FORECAST_DATA':\r\n            return {\r\n                ...state,\r\n                forecastData: action.payload\r\n            }\r\n        case 'SET_LOADED_UTILS':\r\n            return {\r\n                ...state,\r\n                loadedUtils: action.payload\r\n            }\r\n        case 'SET_USER_PREFERENCES':\r\n            return {\r\n                ...state,\r\n                preferences: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst toggleColor = (mode, state) => {\r\n    if (mode === \"cooling\")\r\n        return \"#27aedb\";\r\n    else if (mode === \"heating\")\r\n        return \"#db5127\";\r\n    else if (mode === \"auto\" && state.tasks.some(x => x.task_type === 'hvac'))\r\n        return \"#00c774\";\r\n    else\r\n        return \"#A0A0A0\";\r\n}\r\n\r\n\r\n//TODO: doesnt handle multiple hvac events well..what if more than one are active?\r\nconst determineDesired = (state, payload) => {\r\n    const now = new Date();\r\n    const name = now.toLocaleString('en-us', { weekday: 'long' }).substring(0, 3);\r\n    const tasks = state.tasks.filter(x => x.task_type === 'hvac');\r\n    const activeTask = tasks.find(x => now > parseDate(x.hvac_start) && now < parseDate(x.hvac_stop) && x.alarm_days.includes(name));\r\n    if (payload.mode === 'auto' && activeTask)\r\n        return activeTask.hvac_start_temp;\r\n    else if (payload.mode === 'auto' && tasks.length > 0 && tasks.find(x => x.alarm_days.includes(name)))\r\n        return tasks.find(x => x.task_type === 'hvac').hvac_stop_temp;\r\n    else if (payload.minThermostatTemp && payload.mode === 'auto')\r\n        return (payload.minThermostatTemp + payload.maxThermostatTemp) / 2;\r\n    else\r\n        return payload.desiredTemp;\r\n}\r\n\r\nexport default Reducer;","import React, { createContext, useReducer } from \"react\";\r\nimport Reducer from './Reducer'\r\n\r\n\r\nconst initialState = {\r\n    activePage: null,\r\n    auth: { bearer: null, refresh: null, isAuthenticated: false },\r\n    user: { userId: null, firstName: '', lastName: '', roles: [] },\r\n    deviceId: null,\r\n    startedGarageRegistration: false,\r\n    devicesToRegister: false,\r\n    garageRole: [],\r\n    addedGarageNode: false,\r\n    garageCoords: null,\r\n    garageDoors: [],\r\n    userCoords: null,\r\n    lights: [],\r\n    sumpData: {},\r\n    tempData: { gaugeColor: '#A0A0A0', currentDesiredTemp: 0.0 },\r\n    forecastData: { description: '' },\r\n    preferences: {},\r\n    tasks: [],\r\n    loadedUtils: false,\r\n    taskTypes: ['sunrise alarm', 'turn on', 'turn off', 'hvac']\r\n};\r\n\r\nconst Store = ({ children }) => {\r\n    const [state, dispatch] = useReducer(Reducer, initialState);\r\n    return (\r\n        <Context.Provider value={[state, dispatch]}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n};\r\n\r\nexport const Context = createContext(initialState);\r\nexport default Store;","export default __webpack_public_path__ + \"static/media/CompanyLogo.dbd96a99.png\";","import React from 'react';\r\nimport './LogoHeader.css';\r\nimport Logo from '../../resources/CompanyLogo.png';\r\n\r\n\r\nexport default function LogoHeader() {\r\n    return (\r\n        <div>\r\n            <div data-testid={\"white-header\"} className=\"white-header\">\r\n                <div data-testid={\"logo-background\"} className=\"logo-background\">\r\n                    <img alt=\"Logo\" className=\"logo-image\" src={Logo} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/click.aa674493.mp3\";","class GlobalState {\r\n    constructor() {\r\n        this.state = {\r\n            activePage: null,\r\n            userRoles: []\r\n        }\r\n    }\r\n\r\n    setActivePage = (page) => {\r\n        this.state.activePage = page;\r\n    }\r\n\r\n    getActivePage = () => {\r\n        return this.state.activePage;\r\n    }\r\n\r\n    setUserRoles = (roles) => {\r\n        this.state.userRoles = roles;\r\n    }\r\n\r\n    getUserRoles = () => {\r\n        return this.state.userRoles;\r\n    }\r\n}\r\n\r\nlet currentState = null;\r\n\r\nexport const getStore = () => {\r\n    if (currentState === null) {\r\n        currentState = new GlobalState();\r\n    }\r\n    return currentState;\r\n}","import jwt_decode from 'jwt-decode';\r\nimport { getStore } from '../state/GlobalState';\r\n\r\n\r\n// const baseUrl = 'http://localhost:5000';\r\nconst baseUrl = 'https://www.soaringleafsolutions.com';\r\nconst accountBaseUrl = `${baseUrl}/account`;\r\nconst deviceBaseUrl = `${baseUrl}/devices`;\r\nconst garageBaseUrl = `${baseUrl}/garageDoor`;\r\nconst lightBaseUrl = `${baseUrl}/lights`;\r\nconst sumpBaseUrl = `${baseUrl}/sumpPump`;\r\nconst thermostatBaseUrl = `${baseUrl}/thermostat`;\r\n\r\nexport const getBearerToken = async (username, password) => {\r\n    const request = { 'grant_type': 'client_credentials', 'client_id': username, 'client_secret': password }\r\n    const options = {\r\n        method: 'POST',\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    const response = await fetch(`${baseUrl}/token`, options);\r\n    if (response.ok) {\r\n        const jsonResponse = await response.json();\r\n        const bearerToken = jsonResponse.bearerToken;\r\n        const dataStore = getStore();\r\n        const decodedToken = jwt_decode(bearerToken);\r\n        dataStore.setUserRoles(decodedToken.user.roles);\r\n        return jsonResponse;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const getRefreshedBearerToken = async (refreshToken) => {\r\n    const request = { 'grant_type': 'refresh_token', 'refresh_token': refreshToken };\r\n    const options = { method: 'POST', body: JSON.stringify(request) };\r\n\r\n    return await fetch(`${baseUrl}/token`, options);\r\n}\r\n\r\nexport const getGarageStatus = async (userId, bearer, garageId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/status`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const updateGarageState = async (userId, bearer, shouldOpen, garageId) => {\r\n    const request = { 'garageDoorOpen': shouldOpen };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/state`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const toggleGarageDoor = async (userId, bearer, garageId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } }\r\n    return await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/toggle`, options);\r\n}\r\n\r\nexport const getSumpLevels = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${sumpBaseUrl}/user/${userId}/depth`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const getCurrentTemperature = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${thermostatBaseUrl}/temperature/${userId}`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const setUserTemperature = async (userId, bearer, desiredTemp, mode, isFahrenheit) => {\r\n    const request = { 'desiredTemp': desiredTemp, 'mode': mode, 'isFahrenheit': isFahrenheit }\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${thermostatBaseUrl}/temperature/${userId}`, options);\r\n}\r\n\r\nexport const getUserForecast = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${thermostatBaseUrl}/forecast/${userId}`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const getUserPreferences = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/preferences`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const updateUserPreferences = async (userId, bearer, request) => {\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    }\r\n\r\n    return await fetch(`${baseUrl}/userId/${userId}/preferences/update`, options);\r\n}\r\n\r\nexport const getLightGroups = async (bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${lightBaseUrl}/groups`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const setLightGroupState = async (bearer, groupId, state, brightness = null) => {\r\n    const request = { 'groupId': groupId, 'on': state, ...(brightness !== null && { 'brightness': brightness }) };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${lightBaseUrl}/group/state`, options);\r\n}\r\n\r\nexport const setLightState = async (bearer, lightId, state, brightness) => {\r\n    const request = { 'lightId': lightId, 'on': state, 'brightness': brightness };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${lightBaseUrl}/group/light`, options);\r\n}\r\n\r\nexport const updateUserAccount = async (userId, bearer, oldPass, newPass) => {\r\n    const request = { 'oldPassword': oldPass, 'newPassword': newPass };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${accountBaseUrl}/userId/${userId}/updateAccount`, options);\r\n}\r\n\r\nexport const addUserDevice = async (userId, bearer, roleName, ipAddress) => {\r\n    const request = { 'roleName': roleName, 'ipAddress': ipAddress }\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    return await fetch(`${deviceBaseUrl}/userId/${userId}/devices`, options);\r\n}\r\n\r\nexport const addUserDeviceNode = async (userId, bearer, deviceId, nodeName, preferred) => {\r\n    const request = { 'nodeName': nodeName, 'preferred': preferred };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    return await fetch(`${deviceBaseUrl}/userId/${userId}/devices/${deviceId}/node`, options);\r\n}\r\n\r\nexport const getRolesByUserId = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/roles`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const addUserChildAccount = async (userId, bearer, email, roles) => {\r\n    const request = { 'email': email, 'roles': roles };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/createChildAccount`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const getUserChildAccounts = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/childAccounts`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const deleteUserChildAccount = async (userId, bearer, childAccountId) => {\r\n    const options = { method: 'DELETE', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    return await fetch(`${accountBaseUrl}/userId/${userId}/childUserId/${childAccountId}`, options);\r\n}\r\n\r\nexport const deleteScheduledTask = async (userId, bearer, taskId) => {\r\n    const options = { method: 'DELETE', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    return await fetch(`${baseUrl}/userId/${userId}/tasks/${taskId}`, options);\r\n}\r\n\r\nexport const getScheduledTasks = async (userId, bearer) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${bearer}` } };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const insertLightTask = async (userId, bearer, enabled, taskType, alarmLightGroup, alarmGroupName, alarmDays, alarmTime) => {\r\n    const request = { 'alarmLightGroup': alarmLightGroup, 'alarmGroupName': alarmGroupName, 'alarmDays': alarmDays, 'alarmTime': alarmTime, 'enabled': enabled, 'taskType': taskType };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const insertHvacTask = async (userId, bearer, enabled, taskType, hvacMode, hvacStart, hvacStop, hvacStartTemp, hvacStopTemp, alarmDays) => {\r\n    const request = { 'hvacMode': hvacMode, 'hvacStart': hvacStart, 'hvacStop': hvacStop, 'hvacStartTemp': hvacStartTemp, 'hvacStopTemp': hvacStopTemp, 'alarmDays': alarmDays, 'enabled': enabled, 'taskType': taskType };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const updateScheduledTasks = async (userId, bearer, request) => {\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${bearer}` },\r\n        body: JSON.stringify(request)\r\n    }\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks/update`, options);\r\n    return response.json();\r\n}","import React from 'react';\r\nimport { Add, Remove, ChevronRight } from '@material-ui/icons';\r\nimport { ButtonBase, IconButton } from \"@material-ui/core\";\r\nimport './Buttons.css';\r\n\r\n\r\nexport function GreenButton(props) {\r\n    return (\r\n        <div className=\"button-container\">\r\n            <ButtonBase type=\"submit\" className=\"green my-button\" disabled={props.disabled} onClick={props.onClick}>{props.children}</ButtonBase>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function BlueButton(props) {\r\n    return (\r\n        <div className=\"button-container\">\r\n            <ButtonBase type=\"submit\" className=\"blue my-button\" disabled={props.disabled} onClick={props.onClick}>{props.children}</ButtonBase>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function RedButton(props) {\r\n    return (\r\n        <div className=\"button-container\">\r\n            <ButtonBase type=\"submit\" className=\"red my-button\" disabled={props.disabled} onClick={props.onClick}>{props.children}</ButtonBase>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function ExpandButton(props) {\r\n    return (\r\n        <IconButton aria-label=\"expand\" className={props.className} onClick={props.onClick}>\r\n            <ChevronRight />\r\n        </IconButton>\r\n    )\r\n}\r\n\r\nexport function AddButton(props) {\r\n    const [rotate, setRotate] = React.useState(0)\r\n    const myClick = (event) => {\r\n        props.onClick(event);\r\n        setRotate(1);\r\n    }\r\n\r\n    return (\r\n        <ButtonBase aria-label=\"Add\" className=\"button-border\" onClick={myClick}>\r\n            <div className=\"button-item add-item\" rotate={rotate} onAnimationEnd={() => setRotate(0)}>\r\n                <Add className=\"button-icon\" />\r\n            </div>\r\n        </ButtonBase>\r\n    )\r\n}\r\n\r\nexport function RemoveButton(props) {\r\n    const [rotate, setRotate] = React.useState(0)\r\n    const myClick = (event) => {\r\n        props.onClick(event);\r\n        setRotate(1);\r\n    }\r\n\r\n    return (\r\n        <ButtonBase aria-label={props['aria-label']} className=\"button-border\" onClick={myClick}>\r\n            <div className=\"button-item remove-item\" rotate={rotate} onAnimationEnd={() => setRotate(0)}>\r\n                <Remove className=\"button-icon\" />\r\n            </div>\r\n        </ButtonBase>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Context } from '../../state/Store';\r\nimport { getBearerToken } from '../../utilities/RestApi';\r\nimport { TextField } from '@material-ui/core';\r\nimport { GreenButton } from '../../components/controls/Buttons';\r\nimport './UserPass.css';\r\n\r\n\r\nexport default function UserPass() {\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [state, dispatch] = useContext(Context);\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isUsernameInvalid, setIsUsernameInvalid] = useState(undefined);\r\n    const [isPasswordInvalid, setIsPasswordInvalid] = useState(undefined);\r\n    const [isValidLogin, setIsValidLogin] = useState(true);\r\n\r\n    const validateCredentials = async (event) => {\r\n        event.preventDefault();\r\n        click();\r\n        const userInvalid = username === '';\r\n        const passInvalid = password === '';\r\n        setIsUsernameInvalid(userInvalid);\r\n        setIsPasswordInvalid(passInvalid)\r\n        await getBearerTokenFromLogin(userInvalid, passInvalid);\r\n    };\r\n\r\n    const getBearerTokenFromLogin = async (userInvalid, passInvalid) => {\r\n        if (userInvalid === false && passInvalid === false) {\r\n            const response = await getBearerToken(username, password);\r\n            setIsValidLogin(response);\r\n            if (response) {\r\n                const decodedToken = jwt_decode(response.bearerToken);\r\n                await dispatch({ type: 'SET_USER_DATA', payload: { userId: decodedToken.user.user_id, firstName: decodedToken.user.first_name, lastName: decodedToken.user.last_name, roles: decodedToken.user.roles } });\r\n                const garageRole = decodedToken.user.roles.find(x => x.role_name === 'garage_door');\r\n                await dispatch({ type: 'SET_GARAGE_ROLE', payload: garageRole });\r\n                await dispatch({ type: 'SET_DEVICES_TO_REGISTER', payload: unregisteredDevices(decodedToken.user.roles) });\r\n                await dispatch({ type: 'SET_STARTED_GARAGE_REGISTRATION', payload: garageRole && garageRole.device_id ? true : false });\r\n                await dispatch({ type: 'SET_DEVICE_ID', payload: garageRole && garageRole.device_id ? garageRole.device_id : null });\r\n                await dispatch({ type: 'SET_AUTH_DATA', payload: { bearer: response.bearerToken, refresh: decodedToken.refresh_token, isAuthenticated: true, exp: decodedToken.exp } });\r\n            }\r\n        }\r\n    };\r\n\r\n    const unregisteredDevices = (roles) => {\r\n        const garageRole = roles.find(x => x.role_name === 'garage_door');\r\n        if (garageRole) {\r\n            if (!garageRole.devices || garageRole.devices.length === 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    if (state.auth.isAuthenticated) {\r\n        return <Redirect to='/home-automation-ui/home' />\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={validateCredentials} className=\"user-pass-body\">\r\n                <div className=\"column\">\r\n                    <TextField inputProps={{ \"data-testid\": \"user-name\" }} className=\"user-pass-input\" error={isUsernameInvalid} onChange={(event) => setUsername(event.target.value)} value={username} variant=\"outlined\" label=\"Username\" />\r\n                </div>\r\n                <div className=\"column\">\r\n                    <TextField inputProps={{ \"data-testid\": \"password\" }} className=\"user-pass-input\" error={isPasswordInvalid} onChange={(event) => setPassword(event.target.value)} value={password} variant=\"outlined\" label=\"Password\" type=\"password\" />\r\n                </div>\r\n                <div className=\"error-text\">\r\n                    {isValidLogin\r\n                        ? <p></p>\r\n                        : <p>ERROR: Username or Password is invalid!</p>\r\n                    }\r\n                </div>\r\n                <GreenButton className=\"column button\">Login</GreenButton>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './Login.css';\r\nimport LogoHeader from '../../components/header/LogoHeader';\r\nimport UserPass from './UserPass';\r\nimport { getStore } from '../../state/GlobalState';\r\n\r\n\r\nexport default function Login() {\r\n    getStore().setActivePage('Login');\r\n\r\n    return (\r\n        <div className=\"login-menu column\">\r\n            <div data-testid={\"login-header\"} className=\"login-header header-text\">\r\n                <LogoHeader />\r\n                <h1>Member Login</h1>\r\n            </div>\r\n            <div className=\"login-body body\">\r\n                <UserPass />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({component: Component, authed, ...rest}) {\r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={(props) => authed === true\r\n            ? <Component {...props} />\r\n            : <Redirect to={{pathname: '/home-automation-ui', state: {from: props.location}}} />}\r\n        />\r\n      )\r\n}","export default __webpack_public_path__ + \"static/media/singleClick.4b7e387e.mp3\";","import React, { useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport './AccountIcon.css';\r\nimport useSound from 'use-sound';\r\nimport singleClickSound from '../../resources/singleClick.mp3';\r\n\r\n\r\nexport default function Account(props) {\r\n    const [state,] = useContext(Context);\r\n    const [click] = useSound(singleClickSound, { volume: 0.25 });\r\n    const firstInitial = state.user.firstName.trim().charAt(0);\r\n    const lastInitial = state.user.lastName.trim().charAt(0);\r\n\r\n    const handleClick = () => {\r\n        click();\r\n        props.toggle();\r\n    }\r\n\r\n    return (\r\n        <div className=\"account-container\" onClick={handleClick} >\r\n            <div data-testid={\"account-border\"} className=\"account-border\">\r\n                <div data-testid={\"account-center\"} className=\"account-center header-text ripple\">\r\n                    <p data-testid={\"user-initials\"}>{firstInitial + lastInitial}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './AccountMenu.css';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { Context } from '../../state/Store';\r\nimport { Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function AccountSettings(props) {\r\n    let wrapperRef;\r\n    const [activePage,] = useState(getStore().getActivePage());\r\n    const [state, dispatch] = useContext(Context);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n    });\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (wrapperRef && !props.parentRef.contains(event.target) && !wrapperRef.contains(event.target)) {\r\n            props.toggle();\r\n        }\r\n    }\r\n\r\n    const logOut = async () => {\r\n        dispatch({ type: 'SET_AUTH_DATA', payload: { ...state.auth, isAuthenticated: false } });\r\n    }\r\n\r\n    const getLinks = () => {\r\n        if (activePage === \"Home Automation\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else if (activePage === \"Settings\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else if (activePage === \"Activities\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n            </div>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"account-menu\" ref={(node) => { wrapperRef = node }}>\r\n            <ul className=\"text\">{getLinks()}</ul>\r\n            <Divider />\r\n            <ul>\r\n                <Link to='/home-automation-ui'>\r\n                    <li><div className=\"account-button\" onClick={logOut}>Sign Out</div></li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    );\r\n}","import { useEffect, useRef } from 'react';\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    };\r\n  }, [delay]);\r\n}","export default __webpack_public_path__ + \"static/media/ding.34c9c941.mp3\";","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport dingSound from '../../../resources/ding.mp3';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { updateGarageState } from '../../../utilities/RestApi';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport { calculateDistanceInMeters } from '../../../utilities/Location';\r\nimport './UserLocation.css';\r\n\r\nexport default function UserLocation() {\r\n    const [ding] = useSound(dingSound, { volume: 0.25 });\r\n    const [state, dispatch] = useContext(Context);\r\n    const [cancel, setCancel] = useState(false);\r\n    const [opened, setOpened] = useState(false);\r\n    const [firstCheck, setFirstCheck] = useState(false);\r\n    const [secondCheck, setSecondCheck] = useState(false);\r\n    const [displayMenu, setDisplayMenu] = useState(false);\r\n\r\n    useEffect(() => {\r\n        calculateDistance();\r\n    }, []);\r\n\r\n    //TODO: may not need this with watch position\r\n    useInterval(() => {\r\n        calculateDistance();\r\n    }, 5000);\r\n\r\n    const cancelDoorOpen = () => {\r\n        setCancel(true);\r\n        setDisplayMenu(false);\r\n    }\r\n\r\n    const shouldOpenGarage = (distance) => {\r\n        // DISTANCE COMES IN AS MILES!!!\r\n        // not in garage\r\n        if (distance >= 0.02 && distance < 0.35) {\r\n            if (distance > 0.1 && distance <= 0.3 && !firstCheck && !secondCheck) {\r\n                setFirstCheck(true);\r\n                return false;\r\n            } else if (distance > 0.06 && distance <= 0.1 && firstCheck && !secondCheck) {\r\n                setSecondCheck(true);\r\n                setDisplayMenu(true);\r\n                return false;\r\n            } else if (distance <= 0.04 && secondCheck && firstCheck && !cancel && !opened) {\r\n                ding();\r\n                setDisplayMenu(false);\r\n                setOpened(true);\r\n                return true;\r\n            }\r\n        } else {\r\n            setFirstCheck(false);\r\n            setSecondCheck(false);\r\n            setDisplayMenu(false);\r\n            setCancel(false);\r\n            setOpened(false)\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const calculateDistance = () => {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            // navigator.geolocation.watchPosition((position) => {\r\n            const userCoords = position.coords;\r\n            dispatch({ type: \"SET_USER_COORDS\", payload: userCoords });\r\n            if (state.garageCoords !== null) {\r\n                const garageCoords = state.garageCoords;\r\n                const userDistance = calculateDistanceInMeters(garageCoords.latitude, garageCoords.longitude, userCoords.latitude, userCoords.longitude);\r\n                if (shouldOpenGarage(userDistance)) {\r\n                    console.log('gonna open')\r\n                    updateGarageState(state.user.userId, state.auth.bearer, true, state.preferences.garage_id);\r\n                }\r\n            }\r\n        }, (error) => { alert('Enable GPS position feature.') }, { enableHighAccuracy: true });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                displayMenu &&\r\n                <div className=\"auto-open-menu\">\r\n                    <CloseIcon className=\"location-close-icon\" onClick={() => setDisplayMenu(false)} />\r\n                    <div className=\"location-menu-group\">\r\n                        <p className=\"auto-open-menu-text text reduce-margin\">Garage will open in 250ft</p>\r\n                        <button className=\"auto-open-menu-button reduce-margin\" onClick={cancelDoorOpen}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","export const calculateDistanceInMeters = (lat1, long1, lat2, long2) => {\r\n    const meterConversion = 6371e3;\r\n    const φ1 = lat2 * Math.PI / 180;\r\n    const φ2 = lat1 * Math.PI / 180;\r\n    const Δφ = (lat1 - lat2) * Math.PI / 180;\r\n    const Δλ = (long1 - long2) * Math.PI / 180;\r\n\r\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n        Math.cos(φ1) * Math.cos(φ2) *\r\n        Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n    return ((meterConversion * c) * 0.000621371).toFixed(2);\r\n}","\r\nimport { useContext, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Context } from '../state/Store';\r\nimport { useInterval } from './UseInterval';\r\nimport {\r\n    getGarageStatus, getSumpLevels, getCurrentTemperature, getUserPreferences,\r\n    getScheduledTasks, getRefreshedBearerToken, getLightGroups, getUserForecast\r\n} from './RestApi';\r\n\r\n\r\n\r\nexport default function StateUtil() {\r\n    const [state, dispatch] = useContext(Context);\r\n\r\n    useInterval(async () => {\r\n        await getGarageData();\r\n        await refreshBearerToken();\r\n    }, 20000);\r\n\r\n    useInterval(async () => {\r\n        getTempData();\r\n        getForecastData();\r\n        getLights();\r\n    }, 60000);\r\n\r\n    useInterval(async () => {\r\n        await getSumpData();\r\n        await getPreferences();\r\n        await getActivities();\r\n    }, 120000);\r\n\r\n    useEffect(() => {\r\n        if (!state.loadedUtils) {\r\n            getLights();\r\n            getGarageData();\r\n            getSumpData();\r\n            getTempData();\r\n            getForecastData();\r\n            getPreferences();\r\n            getActivities();\r\n            dispatch({ type: 'SET_LOADED_UTILS', payload: true });\r\n        }\r\n    }, []);\r\n\r\n    const getGarageData = async () => {\r\n        const doors = state.garageRole.devices;\r\n        if (doors) {\r\n            doors.forEach(async (door) => {\r\n                const garageStatus = await getGarageStatus(state.user.userId, state.auth.bearer, door.node_device);\r\n                dispatch({ type: 'SET_GARAGE_COORDS', payload: garageStatus.coordinates });\r\n                dispatch({ type: 'UPDATE_GARAGE_DOORS', payload: { doorName: door.node_name, doorId: door.node_device, isOpen: garageStatus.isGarageOpen, duration: garageStatus.statusDuration } });\r\n            });\r\n        }\r\n    };\r\n\r\n    const getSumpData = async () => {\r\n        const sump = await getSumpLevels(state.user.userId, state.auth.bearer);\r\n        dispatch({ type: 'SET_SUMP_DATA', payload: { ...sump, currentDepth: sump.currentDepth.toFixed(1), averageDepth: sump.averageDepth.toFixed(1) } });\r\n    }\r\n\r\n    const getTempData = async () => {\r\n        const temp = await getCurrentTemperature(state.user.userId, state.auth.bearer);\r\n        const updatedTemp = {\r\n            ...temp,\r\n            desiredTemp: Math.round(temp.desiredTemp),\r\n            currentTemp: Math.round(temp.currentTemp),\r\n        };\r\n        dispatch({ type: 'SET_TEMP_DATA', payload: updatedTemp });\r\n    }\r\n\r\n    const getForecastData = async () => {\r\n        const forecast = await getUserForecast(state.user.userId, state.auth.bearer);\r\n        const updatedForecast = {\r\n            ...forecast,\r\n            temp: Math.round(forecast.temp),\r\n            minTemp: Math.round(forecast.minTemp),\r\n            maxTemp: Math.round(forecast.maxTemp)\r\n        };\r\n        dispatch({ type: 'SET_FORECAST_DATA', payload: updatedForecast });\r\n    }\r\n\r\n    const getPreferences = async () => {\r\n        const preferences = await getUserPreferences(state.user.userId, state.auth.bearer);\r\n        dispatch({ type: 'SET_USER_PREFERENCES', payload: preferences })\r\n    }\r\n\r\n    const getActivities = async () => {\r\n        const activities = await getScheduledTasks(state.user.userId, state.auth.bearer);\r\n        dispatch({ type: 'SET_SCHEDULED_TASK', payload: activities });\r\n    }\r\n\r\n    const getLights = async () => {\r\n        const groups = await getLightGroups(state.auth.bearer);\r\n        if (groups && groups.length) {\r\n            dispatch({ type: 'SET_LIGHTS', payload: groups });\r\n        }\r\n\r\n    }\r\n\r\n    const refreshBearerToken = async () => {\r\n        const fiveMinutes = 300000;\r\n        const refreshInterval = Date.now() + fiveMinutes;\r\n        const newDate = state.auth.exp * 1000\r\n        if (newDate <= refreshInterval) {\r\n            const response = await getRefreshedBearerToken(state.auth.refresh);\r\n            if (response.ok) {\r\n                const bearer = await response.json()\r\n                const decodedToken = jwt_decode(bearer.bearerToken);\r\n                dispatch({ type: 'SET_AUTH_DATA', payload: { bearer: bearer.bearerToken, refresh: decodedToken.refresh_token, isAuthenticated: true, exp: decodedToken.exp } });\r\n            } else {\r\n                dispatch({ type: 'SET_AUTH_DATA', payload: { isAuthenticated: false } });\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport LogoHeader from '../header/LogoHeader';\r\nimport AccountIcon from './AccountIcon';\r\nimport { Context } from '../../state/Store';\r\nimport AccountMenu from '../header/AccountMenu';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { setTheme, isNightTime } from '../../utilities/Services';\r\nimport { useInterval } from '.././../utilities/UseInterval';\r\nimport UserLocation from '../../pages/Home/segments/UserLocation';\r\nimport './Header.css';\r\nimport StateUtil from '../../utilities/StateUtil';\r\n\r\n\r\nexport default function Header() {\r\n    const [state,] = useContext(Context);\r\n    const activePage = getStore().getActivePage();\r\n    const [settingsActive, setSettingsActive] = useState(null);\r\n    const [accountWrapperRef, setAccountWrapperRef] = useState(null);\r\n\r\n    StateUtil();\r\n\r\n    useInterval(async () => {\r\n        const isAuto = localStorage.getItem('auto-theme');\r\n        if (isAuto === 'true') {\r\n            isNightTime(state.garageCoords, state.userCoords)\r\n                ? setTheme('theme-dark')\r\n                : setTheme('theme-light')\r\n        }\r\n    }, 60000);\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"home-header\">\r\n                <div className=\"logo-container\">\r\n                    <LogoHeader />\r\n                </div>\r\n                <div></div>\r\n                <div>\r\n                    <h1 className=\"home-header-text header-text\">{activePage}</h1>\r\n                </div>\r\n                <div ref={(node) => { setAccountWrapperRef(node) }}>\r\n                    <AccountIcon toggle={() => setSettingsActive(!settingsActive)} />\r\n                </div>\r\n            </div>\r\n            {settingsActive\r\n                ? <AccountMenu toggle={() => setSettingsActive(!settingsActive)} parentRef={accountWrapperRef} />\r\n                : <div></div>\r\n            }\r\n            <UserLocation />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Checkbox } from '@material-ui/core';\r\n\r\n\r\nexport const GreenCheckbox = withStyles({\r\n    root: {\r\n        color: '#00c774',\r\n        '&$checked': {\r\n            color: '#00c774',\r\n        },\r\n    },\r\n    checked: {},\r\n})((props) => <Checkbox color=\"default\" {...props} />);","import React, { useState, useContext } from 'react';\r\nimport { TextField, FormControlLabel } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { addUserDeviceNode, getRolesByUserId } from '../../../utilities/RestApi';\r\nimport { CheckCircle } from '@material-ui/icons';\r\nimport { Context } from '../../../state/Store';\r\nimport { GreenCheckbox } from '../../../components/controls/CheckBox';\r\nimport './AddGarage.css';\r\nimport { GreenButton } from '../../../components/controls/Buttons';\r\n\r\nexport default function AddGarage(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [succeeded, setSucceeded] = useState();\r\n    const [preferred, setPreferred] = useState(false);\r\n    const [garageName, setGarageName] = useState('');\r\n    const [isNameValid, setIsNameValid] = useState(true);\r\n    const [garageTouched, setGarageTouched] = useState(false);\r\n    const [availableNodes, setAvailableNodes] = useState(1);\r\n\r\n    const checkGarageName = (input) => {\r\n        if (availableNodes > 0) {\r\n            const name = input.target.value;\r\n            setGarageTouched(true);\r\n            setIsNameValid(name !== \"\");\r\n            setGarageName(name);\r\n        }\r\n    }\r\n\r\n    const submitGarageDoor = async (event) => {\r\n        event.preventDefault();\r\n        (garageTouched && isNameValid)\r\n            ? updateGarageNode()\r\n            : setIsNameValid(false);\r\n    }\r\n\r\n    const updateGarageNode = async () => {\r\n        const response = await addUserDeviceNode(state.user.userId, state.auth.bearer, state.deviceId, garageName, preferred);\r\n        updateRoles();\r\n        setSucceeded(response.ok);\r\n        setPreferred(false);\r\n        const jsonResponse = await response.json();\r\n        setAvailableNodes(jsonResponse.availableNodes);\r\n        dispatch({ type: \"SET_ADDED_GARAGE_NODE\", payload: true })\r\n        if (jsonResponse.availableNodes === 0) {\r\n            props.close();\r\n        }\r\n    }\r\n\r\n    const updateRoles = async () => {\r\n        const userRoles = await getRolesByUserId(state.user.userId, state.auth.bearer);\r\n        await dispatch({ type: 'SET_USER_DATA', payload: { ...state.user, roles: userRoles.roles } });\r\n        const garageRole = userRoles.roles.find(x => x.role_name === 'garage_door');\r\n        await dispatch({ type: 'SET_GARAGE_ROLE', payload: garageRole });\r\n    }\r\n\r\n    const resetDevices = () => {\r\n        setSucceeded(false);\r\n        setGarageName('');\r\n        setGarageTouched(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {succeeded\r\n                ? <div>\r\n                    <div className=\"device-group\">\r\n                        <div className=\"device-group\">\r\n                            <CheckCircle className=\"success-text\" />\r\n                            <h2 className=\"device-text text success-text\">Successfully Added</h2>\r\n                        </div>\r\n                        <CloseIcon data-testid={\"garage-close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <div className=\"device-row\">\r\n                        <p className=\"device-text text\">Would you like to setup the remaining ({availableNodes}) openers?</p>\r\n                    </div>\r\n                    <GreenButton onClick={resetDevices}>Add</GreenButton>\r\n                </div>\r\n                : <div>\r\n                    <div className=\"device-group\">\r\n                        <h2 className=\" device-text text\">Add Garage Door</h2>\r\n                        <CloseIcon data-testid={\"garage-close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <form onSubmit={submitGarageDoor}>\r\n                        <div className=\"account-row\">\r\n                            <TextField value={garageName} error={!isNameValid} onChange={checkGarageName} variant=\"outlined\" label=\"Garage Name\" />\r\n                        </div>\r\n                        <div className=\"account-row\">\r\n                            <FormControlLabel control={<GreenCheckbox checked={state.checkedG} onChange={() => setPreferred(!preferred)} name=\"checkedG\" />} label=\"Preferred Garage Door\" />\r\n                        </div>\r\n                        <GreenButton>Add</GreenButton>\r\n                    </form>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport { isValidIpAddress, debounchApi } from '../../../utilities/Services';\r\nimport { addUserDevice } from '../../../utilities/RestApi';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddGarage from './AddGarage';\r\nimport './RegisterDevice.css';\r\nimport { Context } from '../../../state/Store';\r\nimport { GreenButton } from '../../../components/controls/Buttons';\r\n\r\n\r\nexport default function RegisterDevice(props) {\r\n    const [wrapperRef, setWrapperRef] = useState(null);\r\n    const [state, dispatch] = useContext(Context);\r\n    const [ipAddress, setIpAddress] = useState('');\r\n    const [touched, setTouched] = useState(false);\r\n    const [isIpValid, setIsIpValid] = useState(true);\r\n    const [startedRegistration, setStartedRegistration] = useState(false);\r\n    const [transitionComponent, setTransitionComponent] = useState(null);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        setStartedRegistration(state.startedGarageRegistration);\r\n\r\n        return function cleanupListener() {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        }\r\n    });\r\n\r\n    const checkIpAddress = (input) => {\r\n        const ipAddress = input.target.value;\r\n        debounchApi(() => setIsIpValid(isValidIpAddress(ipAddress)));\r\n        setIpAddress(ipAddress);\r\n        setTouched(true);\r\n    }\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (wrapperRef && !props.parentRef.contains(event.target) && !wrapperRef.contains(event.target)) {\r\n            props.close();\r\n        }\r\n    }\r\n\r\n    const submitDevice = async (event) => {\r\n        event.preventDefault();\r\n        if (isIpValid && touched) {\r\n            const response = await addUserDevice(state.user.userId, state.auth.bearer, 'garage_door', ipAddress)\r\n            const responseObj = await response.json();\r\n            dispatch({ type: 'SET_STARTED_GARAGE_REGISTRATION', payload: true })\r\n            dispatch({ type: 'SET_DEVICE_ID', payload: responseObj.deviceId });\r\n            setTransitionComponent(response.ok);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"device-menu\" ref={(node) => { setWrapperRef(node) }}>\r\n            {transitionComponent || startedRegistration\r\n                ? <AddGarage close={props.close} />\r\n                : <div>\r\n                    <div className=\"device-group\">\r\n                        <h2 className=\" device-text text\">Add Device</h2>\r\n                        <CloseIcon data-testid={\"close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <form onSubmit={submitDevice}>\r\n                        <div className=\"account-row\">\r\n                            <TextField value={ipAddress} error={!isIpValid} onChange={checkIpAddress} variant=\"outlined\" label=\"IP Address\" />\r\n                        </div>\r\n                        <GreenButton>Next</GreenButton>\r\n                    </form>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/GarageDoorIcon.a5f44f42.png\";","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport useSound from 'use-sound';\r\nimport dingSound from '../../../resources/ding.mp3';\r\nimport clickSound from '../../../resources/click.mp3';\r\nimport { ExpansionPanelDetails } from '@material-ui/core';\r\nimport UpDownIcon from '../../../resources/panelIcons/UpDown.png';\r\nimport { BlueButton, GreenButton, RedButton } from '../../../components/controls/Buttons';\r\nimport { toggleGarageDoor, updateGarageState } from '../../../utilities/RestApi';\r\nimport './GarageDoor.css'\r\n\r\n\r\nexport default function GarageDoor(props) {\r\n    const [ding] = useSound(dingSound, { volume: 0.25 });\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [state, dispatch] = useContext(Context);\r\n    const [statusDays, setStatusDays] = useState();\r\n    const [statusMins, setStatusMins] = useState();\r\n    const [statusHours, setStatusHours] = useState();\r\n\r\n    useInterval(() => {\r\n        updateGarageDuration();\r\n    }, 2000);\r\n\r\n    const updateGarageDuration = () => {\r\n        const diffMs = new Date() - new Date(props.device.duration);\r\n        setStatusDays(Math.floor(diffMs / 86400000));\r\n        setStatusHours(Math.floor((diffMs % 86400000) / 3600000));\r\n        setStatusMins(Math.round(((diffMs % 86400000) % 3600000) / 60000));\r\n    };\r\n\r\n    const openCloseGarageDoor = async (newState) => {\r\n        newState ? ding() : click();\r\n        const response = await updateGarageState(state.user.userId, state.auth.bearer, newState, props.device.doorId);\r\n        dispatch({ type: 'UPDATE_GARAGE_DOORS', payload: { doorName: props.device.doorName, doorId: props.device.doorId, isOpen: response.isGarageOpen, duration: new Date() } });\r\n    }\r\n\r\n    const toggleDoor = () => {\r\n        toggleGarageDoor(state.user.userId, state.auth.bearer, props.device.doorId);\r\n        click();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanelDetails className=\"center\">\r\n                <div className=\"other\">\r\n                    <div className=\"status-text-group\">\r\n                        <p className=\"garage-text-bold text\">{props.device.doorName}</p>\r\n                        {props.device.isOpen\r\n                            ? <p className=\"garage-big-text text\">Opened</p>\r\n                            : <p className=\"garage-big-text text\">Closed</p>}\r\n                        {statusDays === 0\r\n                            ? <p className=\"status-text text\">{statusHours}Hrs {statusMins}Min</p>\r\n                            : <p className=\"status-text text\">{statusDays}Days {statusHours}Hrs</p>}\r\n                    </div>\r\n                    <div className=\"status-button-group\">\r\n                        {props.device.isOpen\r\n                            ? <RedButton onClick={() => openCloseGarageDoor(false)}>Close</RedButton>\r\n                            : <GreenButton onClick={() => openCloseGarageDoor(true)}>Open</GreenButton>}\r\n                        <BlueButton onClick={toggleDoor}>\r\n                            <img alt=\"UpDown\" className=\"icon-image\" src={UpDownIcon} />\r\n                        </BlueButton>\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanelDetails>\r\n        </div>\r\n    );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport RegisterDevice from '../segments/RegisterDevice';\r\nimport GarageIcon from '../../../resources/panelIcons/GarageDoorIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport './GaragePanel.css';\r\nimport GarageDoor from '../segments/GarageDoor';\r\nimport { GreenButton } from '../../../components/controls/Buttons';\r\n\r\n\r\nexport default function GaragePanel() {\r\n    const [open, setOpen] = useState(false);\r\n    const [state, dispatch] = useContext(Context);\r\n    const [displayRegister, setDisplayRegister] = useState(false);\r\n    const [wrapperRef, setWrapperRef] = useState(null);\r\n\r\n    const renderDoors = () => {\r\n        //TODO: need to test all of this behavior\r\n        const devices = state.garageDoors;\r\n        if (devices && devices.length > 0) {\r\n            return devices.map(x => <GarageDoor key={`door-${x.doorName}`} device={x} />);\r\n        }\r\n        return <p>No Garge devices have been registered</p>\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setDisplayRegister(false);\r\n        if (state.addedGarageNode)\r\n            dispatch({ type: 'SET_DEVICES_TO_REGISTER', payload: false });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel className=\"garage-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => { setOpen(!open) }}>\r\n                    <div className=\"summary\">\r\n                        <img data-testid={\"garage-icon\"} alt=\"garage\" className=\"logo-image\" src={GarageIcon} />\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Garage</Typography>\r\n                            <div className=\"small-text-container\">\r\n                                {!open &&\r\n                                    state.garageDoors.map(x => {\r\n                                        return <div className=\"small-text-group\" key={`door-notify-${x.doorName}`}>\r\n                                            <p className=\"small-text text\">{x.doorName}:</p>\r\n                                            <p className={\"small-text text \" + (x.isOpen ? 'alert' : 'healthy')}>{x.isOpen ? 'Open' : 'Closed'}</p>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                {state.devicesToRegister\r\n                    ? <ExpansionPanelDetails className=\"center\">\r\n                        <h2 className=\"status-text-bold text\">Register New Device!</h2>\r\n                        <Divider />\r\n                        <div>\r\n                            <p className=\"status-text text\">A new device has been detected and needs to be registered.</p>\r\n                        </div>\r\n                        <div>\r\n                            <GreenButton onClick={() => setDisplayRegister(true)}>Register</GreenButton>\r\n                        </div>\r\n                        <div ref={(node) => { setWrapperRef(node) }}>\r\n                            {displayRegister && <RegisterDevice close={closeModal} parentRef={wrapperRef} />}\r\n                        </div>\r\n                    </ExpansionPanelDetails>\r\n                    : <div className=\"door-groups\">{renderDoors()}</div>\r\n                }\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/SumpPumpLowIcon.ce93c918.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpMediumLowIcon.244a4245.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpMediumHighIcon.fbe6f63b.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpHighIcon.a84adbb0.png\";","import React, { useContext, useState } from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport BasementIcon from '../../../resources/panelIcons/BasementIcon.png';\r\nimport SumpPumpLowIcon from '../../../resources/panelIcons/SumpPumpLowIcon.png';\r\nimport SumpPumpMediumLowIcon from '../../../resources/panelIcons/SumpPumpMediumLowIcon.png';\r\nimport SumpPumpMediumHighIcon from '../../../resources/panelIcons/SumpPumpMediumHighIcon.png';\r\nimport SumpPumpHighIcon from '../../../resources/panelIcons/SumpPumpHighIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport './BasementPanel.css';\r\nimport { Context } from '../../../state/Store';\r\n\r\n\r\nexport default function BasementPanel() {\r\n    const [open, setOpen] = useState(false);\r\n    const [state,] = useContext(Context);\r\n\r\n    const getSumpIcon = () => {\r\n        if (state.sumpData.warningLevel === 0) {\r\n            return <img data-testid={\"warning-low\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpLowIcon} label=\"warning-low\" />\r\n        } else if (state.sumpData.warningLevel === 1) {\r\n            return <img data-testid={\"warning-medium-low\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpMediumLowIcon} label=\"warning-medium-low\" />\r\n        } else if (state.sumpData.warningLevel === 2) {\r\n            return <img data-testid={\"warning-medium-high\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpMediumHighIcon} label=\"warning-medium-high\" />\r\n        } else if (state.sumpData.warningLevel === 3) {\r\n            return <img data-testid={\"warning-high\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpHighIcon} label=\"warning-high\" />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"basement-panel\"} className=\"basement-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => { setOpen(!open) }}>\r\n                    <div className=\"summary\">\r\n                        <img data-testid={\"sump-logo\"} alt=\"basement\" className=\"logo-image\" src={BasementIcon} />\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Basement</Typography>\r\n                            {!open &&\r\n                                <div className=\"small-text-group\">\r\n                                    <p className=\"small-text text\">Depth:</p>\r\n                                    <p className={\"small-text text \" + (state.sumpData.warningLevel === 3 ? 'alert' : 'healthy')}>{state.sumpData.currentDepth}</p>\r\n                                    <p className={\"small-text text \" + (state.sumpData.warningLevel === 3 ? 'alert' : 'healthy')}>{state.sumpData.depthUnit}</p>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div className=\"sump-group\">\r\n                        {getSumpIcon()}\r\n                        <div className=\"sump-measure-group\">\r\n                            <div className=\"sump-text-group\">\r\n                                <p className=\"current-text sump-text text\">Current: </p>\r\n                                <p className={\"current-depth sump-text text \" + (state.sumpData.warningLevel === 3 ? 'alert' : 'healthy')}>{state.sumpData.currentDepth}</p>\r\n                                <p className={\"current-text sump-text text \" + (state.sumpData.warningLevel === 3 ? 'alert' : 'healthy')}>{state.sumpData.depthUnit}</p>\r\n                            </div>\r\n                            <div className=\"sump-text-group\">\r\n                                <p className=\"average-text sump-text text\">Average: </p>\r\n                                <p className=\"average-depth sump-text text\">{state.sumpData.averageDepth}</p>\r\n                                <p className=\"average-text sump-text text\">{state.sumpData.depthUnit}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Knob extends React.Component {\r\n    static propTypes = {\r\n        value: PropTypes.number.isRequired,\r\n        onChange: PropTypes.func.isRequired,\r\n        onChangeEnd: PropTypes.func,\r\n        min: PropTypes.number,\r\n        max: PropTypes.number,\r\n        step: PropTypes.number,\r\n        log: PropTypes.bool,\r\n        width: PropTypes.number,\r\n        height: PropTypes.number,\r\n        thickness: PropTypes.number,\r\n        lineCap: PropTypes.oneOf(['butt', 'round']),\r\n        bgColor: PropTypes.string,\r\n        fgColor: PropTypes.string,\r\n        inputColor: PropTypes.string,\r\n        font: PropTypes.string,\r\n        fontWeight: PropTypes.string,\r\n        clockwise: PropTypes.bool,\r\n        cursor: PropTypes.oneOfType([\r\n            PropTypes.number,\r\n            PropTypes.bool,\r\n        ]),\r\n        stopper: PropTypes.bool,\r\n        readOnly: PropTypes.bool,\r\n        disableTextInput: PropTypes.bool,\r\n        displayInput: PropTypes.bool,\r\n        displayCustom: PropTypes.func,\r\n        angleArc: PropTypes.number,\r\n        angleOffset: PropTypes.number,\r\n        disableMouseWheel: PropTypes.bool,\r\n        title: PropTypes.string,\r\n        className: PropTypes.string,\r\n        canvasClassName: PropTypes.string,\r\n    };\r\n\r\n    static defaultProps = {\r\n        onChangeEnd: () => { },\r\n        min: 0,\r\n        max: 100,\r\n        step: 1,\r\n        log: false,\r\n        width: 200,\r\n        height: 200,\r\n        thickness: 0.35,\r\n        lineCap: 'butt',\r\n        bgColor: '#EEE',\r\n        fgColor: '#EA2',\r\n        inputColor: '',\r\n        font: 'Arial',\r\n        fontWeight: 'bold',\r\n        clockwise: true,\r\n        cursor: false,\r\n        stopper: true,\r\n        readOnly: false,\r\n        disableTextInput: false,\r\n        displayInput: true,\r\n        angleArc: 360,\r\n        angleOffset: 0,\r\n        disableMouseWheel: false,\r\n        className: null,\r\n        canvasClassName: null,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.w = this.props.width || 200;\r\n        this.h = this.props.height || this.w;\r\n        this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\r\n        this.angleArc = this.props.angleArc * Math.PI / 180;\r\n        this.angleOffset = this.props.angleOffset * Math.PI / 180;\r\n        this.startAngle = (1.5 * Math.PI) + this.angleOffset;\r\n        this.endAngle = (1.5 * Math.PI) + this.angleOffset + this.angleArc;\r\n        this.digits = Math.max(\r\n            String(Math.abs(this.props.min)).length,\r\n            String(Math.abs(this.props.max)).length,\r\n            2\r\n        ) + 2;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawCanvas();\r\n        if (!this.props.readOnly) {\r\n            this.canvasRef.addEventListener('touchstart', this.handleTouchStart, { passive: false });\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.width && this.w !== nextProps.width) {\r\n            this.w = nextProps.width;\r\n        }\r\n        if (nextProps.height && this.h !== nextProps.height) {\r\n            this.h = nextProps.height;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawCanvas();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\r\n    }\r\n\r\n    getArcToValue = (v) => {\r\n        let startAngle;\r\n        let endAngle;\r\n        const angle = !this.props.log\r\n            ? ((v - this.props.min) * this.angleArc) / (this.props.max - this.props.min)\r\n            : Math.log(Math.pow((v / this.props.min), this.angleArc)) / Math.log(this.props.max / this.props.min);\r\n        if (!this.props.clockwise) {\r\n            startAngle = this.endAngle + 0.00001;\r\n            endAngle = startAngle - angle - 0.00001;\r\n        } else {\r\n            startAngle = this.startAngle - 0.00001;\r\n            endAngle = startAngle + angle + 0.00001;\r\n        }\r\n        if (this.props.cursor) {\r\n            startAngle = endAngle - this.cursorExt;\r\n            endAngle += this.cursorExt;\r\n        }\r\n        return {\r\n            startAngle,\r\n            endAngle,\r\n            acw: !this.props.clockwise && !this.props.cursor,\r\n        };\r\n    };\r\n\r\n    // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\r\n    getCanvasScale = (ctx) => {\r\n        const devicePixelRatio = window.devicePixelRatio ||\r\n            window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\r\n            1;\r\n        const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\r\n        return devicePixelRatio / backingStoreRatio;\r\n    };\r\n\r\n    coerceToStep = (v) => {\r\n        let val = !this.props.log\r\n            ? (~~(((v < 0) ? -0.5 : 0.5) + (v / this.props.step))) * this.props.step\r\n            : Math.pow(this.props.step, ~~(((Math.abs(v) < 1) ? -0.5 : 0.5) + (Math.log(v) / Math.log(this.props.step))));\r\n        val = Math.max(Math.min(val, this.props.max), this.props.min);\r\n        if (isNaN(val)) { val = 0; }\r\n        return Math.round(val * 1000) / 1000;\r\n    };\r\n\r\n    eventToValue = (e) => {\r\n        const bounds = this.canvasRef.getBoundingClientRect();\r\n        const x = e.clientX - bounds.left;\r\n        const y = e.clientY - bounds.top;\r\n        let a = Math.atan2(x - (this.w / 2), (this.w / 2) - y) - this.angleOffset;\r\n        if (!this.props.clockwise) {\r\n            a = this.angleArc - a - (2 * Math.PI);\r\n        }\r\n        if (this.angleArc !== Math.PI * 2 && (a < 0) && (a > -0.5)) {\r\n            a = 0;\r\n        } else if (a < 0) {\r\n            a += Math.PI * 2;\r\n        }\r\n        const val = !this.props.log\r\n            ? (a * (this.props.max - this.props.min) / this.angleArc) + this.props.min\r\n            : Math.pow(this.props.max / this.props.min, a / this.angleArc) * this.props.min;\r\n        return this.coerceToStep(val);\r\n    };\r\n\r\n    handleMouseDown = (e) => {\r\n        this.props.onChange(this.eventToValue(e));\r\n        document.addEventListener('mousemove', this.handleMouseMove);\r\n        document.addEventListener('mouseup', this.handleMouseUp);\r\n        document.addEventListener('keyup', this.handleEsc);\r\n    };\r\n\r\n    handleMouseMove = (e) => {\r\n        e.preventDefault();\r\n        this.props.onChange(this.eventToValue(e));\r\n    };\r\n\r\n    handleMouseUp = (e) => {\r\n        this.props.onChangeEnd(this.eventToValue(e));\r\n        document.removeEventListener('mousemove', this.handleMouseMove);\r\n        document.removeEventListener('mouseup', this.handleMouseUp);\r\n        document.removeEventListener('keyup', this.handleEsc);\r\n    };\r\n\r\n    handleTouchStart = (e) => {\r\n        e.preventDefault();\r\n        this.touchIndex = e.targetTouches.length - 1;\r\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n        document.addEventListener('touchmove', this.handleTouchMove, { passive: false });\r\n        document.addEventListener('touchend', this.handleTouchEnd);\r\n        document.addEventListener('touchcancel', this.handleTouchEnd);\r\n    };\r\n\r\n    handleTouchMove = (e) => {\r\n        e.preventDefault();\r\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n    };\r\n\r\n    handleTouchEnd = (e) => {\r\n        this.props.onChangeEnd(this.eventToValue(e));\r\n        document.removeEventListener('touchmove', this.handleTouchMove);\r\n        document.removeEventListener('touchend', this.handleTouchEnd);\r\n        document.removeEventListener('touchcancel', this.handleTouchEnd);\r\n    };\r\n\r\n    handleEsc = (e) => {\r\n        if (e.keyCode === 27) {\r\n            e.preventDefault();\r\n            this.handleMouseUp();\r\n        }\r\n    };\r\n\r\n    handleTextInput = (e) => {\r\n        const val = Math.max(Math.min(+e.target.value, this.props.max), this.props.min) || this.props.min;\r\n        this.props.onChange(val);\r\n    };\r\n\r\n    handleWheel = (e) => {\r\n        e.preventDefault();\r\n        if (e.deltaX > 0 || e.deltaY > 0) {\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value + this.props.step\r\n                    : this.props.value * this.props.step\r\n            ));\r\n        } else if (e.deltaX < 0 || e.deltaY < 0) {\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value - this.props.step\r\n                    : this.props.value / this.props.step\r\n            ));\r\n        }\r\n    };\r\n\r\n    handleArrowKey = (e) => {\r\n        if (e.keyCode === 37 || e.keyCode === 40) {\r\n            e.preventDefault();\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value - this.props.step\r\n                    : this.props.value / this.props.step\r\n            ));\r\n        } else if (e.keyCode === 38 || e.keyCode === 39) {\r\n            e.preventDefault();\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value + this.props.step\r\n                    : this.props.value * this.props.step\r\n            ));\r\n        }\r\n    };\r\n\r\n    inputStyle = () => ({\r\n        width: `${((this.w / 2) + 4) >> 0}px`,\r\n        height: `${(this.w / 3) >> 0}px`,\r\n        position: 'absolute',\r\n        verticalAlign: 'middle',\r\n        marginTop: `${(this.w / 3) >> 0}px`,\r\n        marginLeft: `-${((this.w * 3 / 4) + 2) >> 0}px`,\r\n        border: 0,\r\n        background: 'none',\r\n        font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${this.props.font}`,\r\n        textAlign: 'center',\r\n        color: this.props.inputColor || this.props.fgColor,\r\n        padding: '0px',\r\n        WebkitAppearance: 'none',\r\n    });\r\n\r\n    drawCanvas() {\r\n        const ctx = this.canvasRef.getContext('2d');\r\n        const scale = this.getCanvasScale(ctx);\r\n        this.canvasRef.width = this.w * scale; // clears the canvas\r\n        this.canvasRef.height = this.h * scale;\r\n        ctx.scale(scale, scale);\r\n        this.xy = this.w / 2; // coordinates of canvas center\r\n        this.lineWidth = this.xy * this.props.thickness;\r\n        this.radius = this.xy - (this.lineWidth / 2);\r\n        ctx.lineWidth = this.lineWidth;\r\n        ctx.lineCap = this.props.lineCap;\r\n        // background arc\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = this.props.bgColor;\r\n        ctx.arc(\r\n            this.xy,\r\n            this.xy,\r\n            this.radius,\r\n            this.endAngle - 0.00001,\r\n            this.startAngle + 0.00001,\r\n            true\r\n        );\r\n        ctx.stroke();\r\n        // foreground arc\r\n        const a = this.getArcToValue(this.props.value);\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = this.props.fgColor;\r\n        ctx.arc(\r\n            this.xy,\r\n            this.xy,\r\n            this.radius,\r\n            a.startAngle,\r\n            a.endAngle,\r\n            a.acw\r\n        );\r\n        ctx.stroke();\r\n    }\r\n\r\n    renderCenter = () => {\r\n        const {\r\n            displayCustom,\r\n            displayInput,\r\n            disableTextInput,\r\n            readOnly,\r\n            value,\r\n        } = this.props;\r\n\r\n        if (displayInput) {\r\n            return (\r\n                <input\r\n                    style={this.inputStyle()}\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={this.handleTextInput}\r\n                    onKeyDown={this.handleArrowKey}\r\n                    readOnly={readOnly || disableTextInput}\r\n                />\r\n            );\r\n        } else if (displayCustom && typeof displayCustom === 'function') {\r\n            return displayCustom();\r\n        }\r\n        return null;\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            canvasClassName,\r\n            className,\r\n            disableMouseWheel,\r\n            readOnly,\r\n            title,\r\n            value,\r\n        } = this.props;\r\n\r\n        return (\r\n            <div\r\n                className={className}\r\n                style={{ width: this.w, height: this.h, display: 'inline-block' }}\r\n                onWheel={readOnly || disableMouseWheel ? null : this.handleWheel}\r\n            >\r\n                <canvas\r\n                    ref={(ref) => { this.canvasRef = ref; }}\r\n                    className={canvasClassName}\r\n                    style={{ width: '100%', height: '100%' }}\r\n                    onMouseDown={readOnly ? null : this.handleMouseDown}\r\n                    title={title ? `${title}: ${value}` : value}\r\n                />\r\n                {this.renderCenter()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Knob;","export default __webpack_public_path__ + \"static/media/sunny.88ed0479.png\";","export default __webpack_public_path__ + \"static/media/drizzle.b661151e.png\";","export default __webpack_public_path__ + \"static/media/cloudy.8689cdbd.png\";","export default __webpack_public_path__ + \"static/media/partly_cloudy.e89b42bf.png\";","export default __webpack_public_path__ + \"static/media/partly_cloudy_night.c2747133.png\";","export default __webpack_public_path__ + \"static/media/mostly_cloudy.1d475f2c.png\";","export default __webpack_public_path__ + \"static/media/mostly_cloudy_night.9aca41b3.png\";","export default __webpack_public_path__ + \"static/media/heavy_snow.b490b750.png\";","export default __webpack_public_path__ + \"static/media/light_snow.33555d78.png\";","export default __webpack_public_path__ + \"static/media/light_rain.ca7090b7.png\";","export default __webpack_public_path__ + \"static/media/heavy_rain.ea2f0db4.png\";","export default __webpack_public_path__ + \"static/media/thunderstorm.30c83f95.png\";","export default __webpack_public_path__ + \"static/media/home.df3810cf.png\";","export default __webpack_public_path__ + \"static/media/clear_night.4e649027.png\";","export default __webpack_public_path__ + \"static/media/misty.546b5cf4.png\";","import React, { useState, useEffect, useContext } from 'react';\r\nimport { isNightTime } from '../../../utilities/Services';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport { Context } from '../../../state/Store';\r\nimport ClearIcon from '../../../resources/weatherIcons/sunny.png';\r\nimport DrizzleIcon from '../../../resources/weatherIcons/drizzle.png';\r\nimport CloudyIcon from '../../../resources/weatherIcons/cloudy.png';\r\nimport PartlyCloudyIcon from '../../../resources/weatherIcons/partly_cloudy.png';\r\nimport PartlyCloudNightIcon from '../../../resources/weatherIcons/partly_cloudy_night.png';\r\nimport MostlyCloudyIcon from '../../../resources/weatherIcons/mostly_cloudy.png';\r\nimport MostlyCloudyNightIcon from '../../../resources/weatherIcons/mostly_cloudy_night.png';\r\nimport SnowyIcon from '../../../resources/weatherIcons/heavy_snow.png';\r\nimport LightSnowIcon from '../../../resources/weatherIcons/light_snow.png';\r\nimport LightRainIcon from '../../../resources/weatherIcons/light_rain.png';\r\nimport HeavyRainIcon from '../../../resources/weatherIcons/heavy_rain.png';\r\nimport ThunderstormIcon from '../../../resources/weatherIcons/thunderstorm.png';\r\nimport HomeIcon from '../../../resources/weatherIcons/home.png';\r\nimport ClearNightIcon from '../../../resources/weatherIcons/clear_night.png';\r\nimport MistIcon from '../../../resources/weatherIcons/misty.png';\r\nimport './TemperatureImage.css'\r\n\r\n\r\nexport default function TemperatureImage() {\r\n    const [state,] = useContext(Context);\r\n    const [isNight, setIsNight] = useState(false);\r\n    const [weatherIcon, setWeatherIcon] = useState();\r\n    const [weatherDesc, setWeatherDesc] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setIsNight(isNightTime(state.garageCoords, state.userCoords));\r\n        getWeatherImage();\r\n    });\r\n\r\n    useInterval(() => {\r\n        setIsNight(isNightTime(state.garageCoords, state.userCoords));\r\n        getWeatherImage();\r\n    }, 20000);\r\n\r\n    const weatherTypes = {\r\n        \"light intensity drizzle\": DrizzleIcon, \"drizzle\": DrizzleIcon, \"drizzle rain\": DrizzleIcon, \"heavy intensity drizzle\": DrizzleIcon, \"mist\": MistIcon, \r\n        \"light intensity drizzle rain\": DrizzleIcon, \"shower drizzle\": DrizzleIcon, \"light rain\": LightRainIcon, \"moderate rain\": LightRainIcon, \"broken clouds\": MostlyCloudyIcon, \r\n        \"heavy intensity rain\": HeavyRainIcon, \"very heavy rain\": HeavyRainIcon, \"extreme rain\": HeavyRainIcon, \"shower rain\": HeavyRainIcon, \"light snow\": LightSnowIcon,\r\n        \"heavy intensity shower rain\": HeavyRainIcon, \"clear sky\": ClearIcon, \"few clouds\": PartlyCloudyIcon, \"scattered clouds\": PartlyCloudyIcon, \"snow\": LightSnowIcon,\r\n        \"heavy snow\": SnowyIcon, \"sleet\": SnowyIcon, \"few clouds night\": PartlyCloudNightIcon, \"clear sky night\": ClearNightIcon, \"scattered clouds night\": PartlyCloudNightIcon,\r\n        \"broken clouds night\": MostlyCloudyNightIcon,\r\n    };\r\n\r\n    const getWeatherLabel = (weather) => {\r\n        return weather.replace(/_/g, \" \").replace(\".png\", \"\");\r\n    }\r\n\r\n    const getWeatherImage = () => {\r\n        const weatherDesc = state.forecastData.description.toLowerCase();\r\n        const weatherType = isNight ? `${weatherDesc} night` : weatherDesc;\r\n        if (weatherDesc.includes(\"thunderstorm\")) {\r\n            setWeatherIcon(ThunderstormIcon);\r\n            setWeatherDesc(\"thunderstorms\");\r\n        } else if (weatherType in weatherTypes) {\r\n            setWeatherIcon(weatherTypes[weatherType]);\r\n            setWeatherDesc(getWeatherLabel(weatherTypes[weatherType]));\r\n        } else {\r\n            setWeatherIcon(CloudyIcon);\r\n            setWeatherDesc(\"cloudy\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"temp-container\">\r\n            <div className=\"temp-external-container\">\r\n                <img className=\"weather-icon\" alt=\"description\" src={weatherIcon} label={weatherDesc} />\r\n                <div className=\"external-temp\">\r\n                    <p className=\"bottom-fade min-max text\">{state.forecastData.maxTemp}</p>\r\n                    <p className=\"external text\">{state.forecastData.temp}&deg;</p>\r\n                    <p className=\"top-fade min-max text\">{state.forecastData.minTemp}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"temp-home-container\">\r\n                <img className=\"home-icon\" alt=\"home\" src={HomeIcon} />\r\n                <p className=\"internal-temp text\">{state.tempData.currentTemp}&deg;</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/TemperatureIcon.acfe210a.png\";","import { withStyles } from '@material-ui/core/styles';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\n\r\nexport const HeatSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#db5127\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#db5127\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);\r\n\r\nexport const CoolSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#27aedb\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#27aedb\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);\r\n\r\nexport const AutoSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#00c774\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#00c774\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport Knob from '../../../components/controls/Knob';\r\nimport { debounchApi } from '../../../utilities/Services';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport TemperatureImage from '../segments/TemperatureImage';\r\nimport singleClickSound from '../../../resources/singleClick.mp3';\r\nimport TemperatureIcon from '../../../resources/panelIcons/TemperatureIcon.png';\r\nimport { setUserTemperature } from '../../../utilities/RestApi';\r\nimport { ExpansionPanel, Typography, ExpansionPanelSummary, Divider, FormControl, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport './TemperaturePanel.css';\r\nimport { AutoSwitch, CoolSwitch, HeatSwitch } from '../../../components/controls/Switches';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Context } from '../../../state/Store';\r\n\r\n\r\nexport default function TemperaturePanel() {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [open, setOpen] = useState(false);\r\n    const [click] = useSound(singleClickSound, { volume: 0.25 });\r\n\r\n    const knobChange = (newValue) => {\r\n        if (state.tempData.mode === 'heating' || state.tempData.mode === 'cooling') {\r\n            dispatch({ type: 'SET_TEMP_DATA', payload: { ...state.tempData, desiredTemp: newValue } });\r\n            debounchApi(() => setUserTemperature(state.user.userId, state.auth.bearer, newValue, state.tempData.mode, state.tempData.isFahrenheit));\r\n        }\r\n    }\r\n\r\n    const toggleHvac = async (newMode) => {\r\n        if (newMode !== 'auto' || state.tasks.some(x => x.task_type === 'hvac')) {\r\n            click();\r\n            const modeState = state.tempData.mode === newMode ? null : newMode;\r\n            await dispatch({ type: 'SET_TEMP_DATA', payload: { ...state.tempData, mode: modeState } });\r\n            setUserTemperature(state.user.userId, state.auth.bearer, state.tempData.desiredTemp, modeState, state.tempData.isFahrenheit);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"temperature-panel\"} className=\"temperature-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => setOpen(!open)}>\r\n                    <div className=\"summary\">\r\n                        <img alt=\"temperature\" className=\"logo-image\" src={TemperatureIcon} />\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Temperature</Typography>\r\n                            {!open &&\r\n                                <div className=\"small-text-container\">\r\n                                    <div className=\"small-text-group\">\r\n                                        <p className=\"small-text text\">Outside:</p>\r\n                                        <p className=\"small-text text\">{state.forecastData.temp}&deg;</p>\r\n                                    </div>\r\n                                    <div className=\"small-text-group\" style={{ marginLeft: '1rem' }}>\r\n                                        <p className=\"small-text text\">Inside:</p>\r\n                                        <p className=\"small-text text\">{state.tempData.currentTemp}&deg;</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <div>\r\n                    <div className=\"form-container\">\r\n                        <div className=\"form-column image-column\">\r\n                            <TemperatureImage />\r\n                        </div>\r\n                        <div className=\"form-column gauge-column\">\r\n                            <Knob value={state.tempData.currentDesiredTemp} lineCap={\"round\"} inputColor={state.tempData.gaugeColor} fgColor={state.tempData.gaugeColor} title=\"Desired Temp\"\r\n                                onChange={knobChange} angleArc={240} angleOffset={240} min={state.tempData.minThermostatTemp} max={state.tempData.maxThermostatTemp} />\r\n                            {\r\n                                state.tasks.some(x => x.task_type === 'hvac') ?\r\n                                    <FormControl>\r\n                                        <FormGroup>\r\n                                            <FormControlLabel label=\"Auto\" control={<AutoSwitch data-testid={\"auto-switch\"} checked={state.tempData.mode === 'auto' && state.tasks.some(x => x.task_type === 'hvac')} onChange={() => toggleHvac(\"auto\")} />} />\r\n                                        </FormGroup>\r\n                                    </FormControl>\r\n                                    : null\r\n                            }\r\n                            <CSSTransition in={state.tempData.mode !== 'auto' || !state.tasks.some(x => x.task_type === 'hvac')} timeout={400} classNames=\"expansion\" unmountOnExit appear >\r\n                                <FormControl>\r\n                                    <FormGroup>\r\n                                        <FormControlLabel label=\"Heat\" control={<HeatSwitch data-testid={\"heating-switch\"} checked={state.tempData.mode === 'heating'} onChange={() => toggleHvac(\"heating\")} />} />\r\n                                        <FormControlLabel label=\"Cool\" control={<CoolSwitch data-testid={\"cooling-switch\"} checked={state.tempData.mode === 'cooling'} onChange={() => toggleHvac(\"cooling\")} />} />\r\n                                    </FormGroup>\r\n                                </FormControl>\r\n                            </CSSTransition>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nValueLabelComponent.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nexport const CustomSlider = withStyles({\r\n  root: {\r\n    color: '#52af77',\r\n    height: 8,\r\n    margin: '0 15px 0 15px',\r\n  },\r\n  thumb: {\r\n    height: 24,\r\n    width: 24,\r\n    backgroundColor: '#fff',\r\n    border: '2px solid currentColor',\r\n    marginTop: -8,\r\n    marginLeft: -12,\r\n    '&:focus, &:hover, &$active': {\r\n      boxShadow: 'inherit',\r\n    },\r\n  },\r\n  active: {},\r\n  valueLabel: {\r\n    left: 'calc(-50% + 4px)',\r\n  },\r\n  track: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n  rail: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n})(Slider);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport { debounchApi } from '../../../utilities/Services';\r\nimport { setLightState } from '../../../utilities/RestApi';\r\nimport { CustomSlider } from '../../../components/controls/Slider';\r\n\r\n\r\nexport default function SwitchSlider(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [light, setLight] = useState(props.data);\r\n    const [lightId,] = useState(props.data.lightId);\r\n    const [groupId,] = useState(props.data.groupId);\r\n\r\n    useEffect(() => {\r\n        const group = state.lights.find(x => x.groupId === props.data.groupId)\r\n        if (group.lights)\r\n            setLight(group.lights.find(y => y.lightId === lightId));\r\n    });\r\n\r\n    const updateSlider = (event, value) => {\r\n        const newLight = { ...light, brightness: value * 2.55 };\r\n        setLight(newLight);\r\n        debounchApi(() => setLightState(state.auth.bearer, lightId, true, value * 2.55));\r\n        const newList = state.lights.map(x => (x.groupId === groupId) ? { ...x, lights: x.lights.map(y => (y.lightId === lightId) ? newLight : y) } : x);\r\n        dispatch({ type: 'SET_LIGHTS', payload: newList });\r\n    }\r\n\r\n    return (\r\n        <div className=\"light-group\">\r\n            <p className=\"light-text-small text\">{light.lightName}</p>\r\n            <CustomSlider onChange={(event, val) => updateSlider(event, val)} value={Math.round(light.brightness / 2.55)} valueLabelDisplay=\"auto\" aria-label=\"slider\" />\r\n            <div style={{ height: '18px', width: '18px' }} />\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport { debounchApi } from '../../utilities/Services';\r\nimport { CustomSlider } from '../../components/controls/Slider';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport SwitchSlider from '../../pages/Home/segments/SwitchSlider';\r\nimport { setLightGroupState } from '../../utilities/RestApi';\r\nimport { ExpandButton } from './Buttons';\r\nimport BrightnessMediumIcon from '@material-ui/icons/BrightnessMedium';\r\nimport './LightSwitch.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\n\r\nexport default function LightSwitch(props) {\r\n    const initalBrightness = Math.round(props.data.brightness / 2.55);\r\n    const [state, dispatch] = useContext(Context);\r\n    const [isOn, setIsOn] = useState(props.data.on);\r\n    const [lights,] = useState(props.data.lights);\r\n    const [groupId,] = useState(props.data.groupId);\r\n    const [groupName,] = useState(props.data.groupName);\r\n    const [brightness, setBrightness] = useState(initalBrightness);\r\n    const [prevBrightness, setPrevBrightness] = useState(initalBrightness);\r\n    const [areLightsOpen, setLightsOpen] = useState(false);\r\n\r\n    const sliderToggleLightGroup = async (event, value) => {\r\n        const newBrightness = Math.round(value * 2.55);\r\n        debounchApi(() => setLightGroupState(state.auth.bearer, groupId, true, newBrightness));\r\n        if (newBrightness > 0)\r\n            setIsOn(true);\r\n        setBrightness(value);\r\n        const newList = state.lights.map(x => (x.groupId === groupId) ? { ...x, brightness: newBrightness, lights: x.lights.map(y => ({ ...y, brightness: newBrightness })) } : x);\r\n        dispatch({ type: 'SET_LIGHTS', payload: newList });\r\n    };\r\n\r\n    const toggleLightGroup = async () => {\r\n        const newState = !isOn;\r\n        setIsOn(!isOn);\r\n        await setLightGroupState(state.auth.bearer, groupId, newState);\r\n        if (!newState) {\r\n            setPrevBrightness(brightness);            \r\n            setBrightness(0);\r\n            const newList = state.lights.map(x => (x.groupId === groupId) ? { ...x, brightness: 0, lights: x.lights.map(y => ({ ...y, brightness: 0 })) } : x);\r\n            dispatch({ type: 'SET_LIGHTS', payload: newList });\r\n        } else {\r\n            setBrightness(prevBrightness);\r\n            const newList = state.lights.map(x => (x.groupId === groupId) ? { ...x, brightness: prevBrightness, lights: x.lights.map(y => ({ ...y, brightness: Math.round(prevBrightness * 2.55) })) } : x);\r\n            dispatch({ type: 'SET_LIGHTS', payload: newList });\r\n        }\r\n    }\r\n\r\n    const getLightSwitches = () => {\r\n        if (lights && lights.length > 0) {\r\n            return lights.map(x => (\r\n                <SwitchSlider key={`switch-${x.lightId}`} data={x} />\r\n            ));\r\n        }\r\n        return <p className=\"panel-text text\">No lights assigned to group</p>\r\n    };\r\n\r\n    return (\r\n        <div data-testid=\"light-group\">\r\n            <div className=\"light-group text\">\r\n                <ExpandButton className={`light-chevron ${areLightsOpen ? \"expanded\" : \"\"}`} onClick={() => setLightsOpen(!areLightsOpen)}></ExpandButton>\r\n                <ButtonBase className=\"light-button\" onClick={toggleLightGroup}>\r\n                    <p className=\"light-text text\">{groupName}</p>\r\n                </ButtonBase>\r\n                <CustomSlider data-testid=\"light-group-switch\" onChange={sliderToggleLightGroup} value={brightness} valueLabelDisplay=\"auto\" aria-label=\"slider\" />\r\n                <BrightnessMediumIcon className=\"brightness-icon text\" />\r\n            </div>\r\n            <CSSTransition in={areLightsOpen} timeout={500} classNames=\"expansion\" unmountOnExit appear >\r\n                <div data-testid=\"light-group-expansion\" className=\"light-group-expansion\">{getLightSwitches()}</div>\r\n            </CSSTransition>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/LightingIcon.f44cd925.png\";","import React, { useContext } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport LightSwitch from '../../../components/controls/LightSwitch';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport LightingIcon from '../../../resources/panelIcons/LightingIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport './LightingPanel.css'\r\n\r\n\r\nexport default function LightingPanel() {\r\n    const [state,] = useContext(Context);\r\n\r\n    const renderGroups = () => {\r\n        if (state.lights && state.lights.length) {\r\n            return state.lights.map(group => <LightSwitch key={`switch-${group.groupId}`} data={group} />)\r\n        }\r\n        return <p className=\"text\">No Light Groups were found</p>\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"lighting-panel\"} className=\"lighting-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img alt=\"lighting\" className=\"logo-image\" src={LightingIcon} />\r\n                        </div>\r\n                        <Typography className=\"panel-text panel-header-text\">Lighting</Typography>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div>\r\n                        {renderGroups()}\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/SecurityIcon.07bfb1b6.png\";","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport SecurityIcon from '../../../resources/panelIcons/SecurityIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function SecurityPanel() {\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"security-panel\"} className=\"security-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img alt=\"security\" className=\"logo-image\" src={SecurityIcon} />\r\n                        </div>\r\n                        <Typography className=\"panel-text panel-header-text\">Security</Typography>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <Typography className=\"text\">Test Detail line 2</Typography>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport GaragePanel from './GaragePanel';\r\nimport BasementPanel from './BasementPanel';\r\nimport TemperaturePanel from './TemperaturePanel';\r\nimport LightingPanel from './LightingPanel';\r\nimport SecurityPanel from './SecurityPanel';\r\nimport { getStore } from '../../../state/GlobalState';\r\nimport './DashboardPanel.css';\r\n\r\nexport default function DashboardPanel() {\r\n\r\n    const roles = getStore().getUserRoles();\r\n    const roleNames = roles.map(x => x.role_name);\r\n    \r\n    return (\r\n        <div data-testid={\"dashboard-panel\"}>\r\n            {roleNames.includes(\"garage_door\") ?\r\n                <div className=\"panel\">\r\n                    <GaragePanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"sump_pump\") ?\r\n                <div className=\"panel\">\r\n                    <BasementPanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"thermostat\") ?\r\n                <div className=\"panel\">\r\n                    <TemperaturePanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"lighting\") ?\r\n                <div className=\"panel\">\r\n                    <LightingPanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"security\") ?\r\n                <div className=\"panel\">\r\n                    <SecurityPanel />\r\n                </div>\r\n                : null\r\n            }\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Header from '../../components/header/Header';\r\nimport DashboardPanel from './panels/DashboardPanels';\r\nimport './Home.css';\r\nimport { getStore } from '../../state/GlobalState';\r\n\r\n\r\nexport default function Home() {\r\n    getStore().setActivePage('Home Automation');\r\n\r\n    return (\r\n        <div className=\"home-main\" >\r\n            <Header />\r\n            <div data-testid={\"home-body\"} className=\"home-body body\">\r\n                <div className=\"center\">\r\n                    <DashboardPanel />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/pop.9a56306a.mp3\";","import React, { useState } from 'react';\r\nimport useSound from 'use-sound';\r\nimport PopSound from '../../resources/pop.mp3';\r\nimport './DayPicker.css';\r\n\r\n\r\nexport default function DayPicker(props) {\r\n    const [pop] = useSound(PopSound, {volume: 0.25});\r\n    const [on, setOn] = useState(props.day.on);\r\n\r\n    const toggleDay = () => {\r\n        const updatedState = !on;\r\n        props.toggleDay(props.day, updatedState);\r\n        setOn(updatedState);\r\n        props.setEdited();\r\n        pop();\r\n    }\r\n\r\n    return (\r\n        <button className={on ? \"day-picker selected\" : \"day-picker\"} onClick={toggleDay}>\r\n            {props.day.day}\r\n        </button>\r\n    )\r\n}","import React from 'react';\r\nimport DayPicker from './DayPicker';\r\nimport './WeekPicker.css'\r\n\r\n\r\nexport default function WeekPicker(props) {\r\n\r\n    return (\r\n        <div className=\"weekday-picker\">\r\n            {props.daysOfWeek.map((weekday) => (\r\n                <DayPicker key={weekday.id + \"-day-picker\"} day={weekday} toggleDay={props.toggleDay} setEdited={props.setEdited} />\r\n            ))}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { KeyboardTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport './TimePicker.css';\r\n\r\n\r\nexport default function TimePicker(props) {\r\n    const [dateValue, setDateValue] = useState();\r\n\r\n    useEffect(() => {\r\n        if (props.initialTime !== undefined) {\r\n            const date = new Date();\r\n            const initialDate = props.initialTime.split(\":\");\r\n            date.setHours(initialDate[0]);\r\n            date.setMinutes(initialDate[1]);\r\n            setDateValue(date);\r\n        }\r\n    }, []);\r\n\r\n    const handleDateChange = (date) => {\r\n        setDateValue(date);\r\n        props.setTime(date.toLocaleTimeString('it-IT', {hour12: false}));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div data-testid=\"time-picker\" className=\"light-alarm-component\">\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                    <KeyboardTimePicker\r\n                        margin=\"normal\"\r\n                        label={props.label}\r\n                        value={dateValue}\r\n                        onChange={handleDateChange}\r\n                        KeyboardButtonProps={{\r\n                            'aria-label': 'change time',\r\n                        }}\r\n                    />\r\n                </MuiPickersUtilsProvider>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport ClickSound from '../../resources/click.mp3';\r\nimport { Context } from '../../state/Store';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport SingleClickSound from '../../resources/singleClick.mp3';\r\nimport { deleteScheduledTask, updateScheduledTasks } from '../../utilities/RestApi';\r\nimport { ExpansionPanelDetails, ExpansionPanel, ExpansionPanelSummary, Divider, Switch, MenuItem, TextField } from '@material-ui/core';\r\n\r\n\r\nexport default function LightActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [click] = useSound(ClickSound, { volume: 0.25 });\r\n    const [singleClick] = useSound(SingleClickSound, { volume: 0.25 });\r\n    const [state, dispatch] = useContext(Context);\r\n    const [open, setOpen] = useState(false);\r\n    const [edited, setEdited] = useState(false);\r\n    const [type, setType] = useState(props.task.task_type);\r\n    const [days, setDays] = useState(props.task.alarm_days);\r\n    const [time, setTime] = useState(props.task.alarm_time);\r\n    const [enabled, setEnabled] = useState(props.task.enabled);\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays.map(day => props.task.alarm_days.includes(day.id) ? { ...day, on: true } : day));\r\n\r\n    const updateTime = (dateTime) => {\r\n        setEdited(true);\r\n        setTime(dateTime);\r\n    }\r\n\r\n    const saveTask = async () => {\r\n        if (edited) {\r\n            click();\r\n            await updateTask(enabled);\r\n        }\r\n    }\r\n\r\n    const toggleTask = async () => {\r\n        singleClick();\r\n        const updated = !enabled;\r\n        setEnabled(updated);\r\n        await updateTask(updated);\r\n    }\r\n\r\n    const updateTask = async (isEnabled) => {\r\n        const request = { 'taskId': props.task.task_id, 'alarmLightGroup': props.task.alarm_light_group, 'alarmGroupName': props.task.alarm_group_name, 'alarmDays': days, 'alarmTime': time, 'enabled': isEnabled, 'taskType': type };\r\n        const response = await updateScheduledTasks(state.user.userId, state.auth.bearer, request);\r\n        if (response) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n            dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n        }\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    const clickDelete = async () => {\r\n        click();\r\n        const response = await deleteScheduledTask(state.user.userId, state.auth.bearer, props.task.task_id);\r\n        if (response.ok) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n        }\r\n    }\r\n\r\n    const updateSelectedType = (item) => {\r\n        setEdited(true);\r\n        setType(state.taskTypes.find(x => x === item.target.value));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ExpansionPanel className=\"task-panel\" expanded={open} onChange={() => { setOpen(!open) }}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"alarm-summary-panel\">\r\n                        <div className=\"alarm-setting-group\" data-testid=\"light-alarm-group\">\r\n                            <div className=\"settings-row alarm-column-one\">\r\n                                <p className=\"setting panel-header-text alarm-time\">{time.slice(0, -3)}</p>\r\n                            </div>\r\n                            <div className=\"settings-row alarm-column-two\">\r\n                                <p className=\"setting text alarm-group-name\">{props.task.task_type}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"alarm-setting-group\">\r\n                            <div className=\"settings-row alarm-column-one\">\r\n                                <p className=\"setting text measure-unit\">{days}</p>\r\n                            </div>\r\n                            <div className=\"settings-row alarm-column-two\">\r\n                                <Switch className=\"task-switch\" onClick={(event) => event.stopPropagation()} onFocus={(event) => event.stopPropagation()}\r\n                                    checked={enabled} onChange={toggleTask} color=\"primary\" inputProps={{ 'aria-label': 'primary checkbox' }} />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <TextField data-testid=\"task-type\" className=\"light-alarm-component\" select variant=\"outlined\" value={type} onChange={updateSelectedType} label=\"Task Type\">\r\n                                {state.taskTypes.map(x => (\r\n                                    <MenuItem key={x} value={x}>\r\n                                        {x}\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </TextField>\r\n                            <TimePicker className=\"light-alarm-component\" initialTime={time} setTime={updateTime} />\r\n                        </div>\r\n                        <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n                        <Divider />\r\n                        <div className=\"tasks-button-group text\">\r\n                            <div className=\"task-button-container\" onClick={clickDelete}>\r\n                                <Delete className=\"task-button task-delete\" />\r\n                                <p className=\"task-delete\">Delete</p>\r\n                            </div>\r\n                            <div className=\"task-button-container\" onClick={saveTask}>\r\n                                <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                                <p className={edited ? \"edited\" : ''}>Update</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Dialog } from '@material-ui/core';\r\nimport Knob from '../controls/Knob';\r\nimport './TempPicker.css'\r\nimport { AcUnitOutlined } from '@material-ui/icons';\r\n\r\n\r\nexport default function TempPicker(props) {\r\n    const displayColor = \"#00c774\";\r\n    const minThermostatTemp = 50;\r\n    const maxThermostatTemp = 90;\r\n    const [open, setOpen] = useState(false);\r\n    const [desiredTemp, setDesiredTemp] = useState(72);\r\n\r\n    const knobChange = () => {\r\n        props.onChange(desiredTemp);\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"MuiFormControl-root MuiTextField-root MuiFormControl-marginNormal temp-picker-gap\">\r\n                <label className=\"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled\" data-shrink=\"true\">{props.label}</label>\r\n                <div className=\"MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-formControl MuiInput-formControl MuiInputBase-adornedEnd\">\r\n                    <input aria-invalid=\"false\" className=\"MuiInputBase-input MuiInput-input MuiInputBase-inputAdornedEnd\" value={props.value} onChange={() => { }} />\r\n                    <div className=\"MuiInputAdornment-root MuiInputAdornment-positionEnd\">\r\n                        <button className=\"MuiButtonBase-root MuiIconButton-root\" tabIndex=\"0\" type=\"button\" aria-label=\"change time\" onClick={() => setOpen(!open)}>\r\n                            <span className=\"MuiIconButton-label\">\r\n                                <AcUnitOutlined/>\r\n                            </span>\r\n                            <span className=\"MuiTouchRipple-root\"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Dialog open={open}>\r\n            <div className=\"MyuiDialogContent-root MyuiPickersModal-dialog\">\r\n                <div className=\"MyuiPickersBasePicker-container\">\r\n                    <div className=\"MyuiToolbar-root MyuiToolbar-regular MyuiPickersToolbar-toolbar MyuiToolbar-gutters\">\r\n                        <div className=\"MyuiPickersTimePickerToolbar-hourMinuteLabel\">\r\n                            <h2 className=\"header-text\">Temperature</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"MyuiPickersBasePicker-pickerView\">\r\n                        <div className=\"MyuiPickersClock-container\">\r\n                            <Knob value={desiredTemp} lineCap={\"round\"} fgColor={displayColor} inputColor={displayColor} onChange={setDesiredTemp} angleArc={240} angleOffset={240} min={minThermostatTemp} max={maxThermostatTemp} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"MyuiDialogActions-root MyuiDialogActions-spacing\">\r\n                <button className=\"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary\" type=\"button\" onClick={() => setOpen(false)}>\r\n                    <span className=\"MyuiButton-label\">Cancel</span>\r\n                    <span className=\"MyuiTouchRipple-root\"></span>\r\n                </button>\r\n                <button className=\"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary\" type=\"button\" onClick={knobChange}>\r\n                    <span className=\"MyuiButton-label\">OK</span>\r\n                    <span className=\"MyuiTouchRipple-root\"></span>\r\n                </button>\r\n            </div>\r\n        </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport SingleClickSound from '../../resources/singleClick.mp3';\r\nimport TempPicker from '../../components/controls/TempPicker';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { deleteScheduledTask, updateScheduledTasks } from '../../utilities/RestApi';\r\nimport { ExpansionPanelDetails, ExpansionPanel, ExpansionPanelSummary, Divider, Switch } from '@material-ui/core';\r\n\r\n\r\nexport default function HvacActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [state, dispatch] = useContext(Context);\r\n    const [open, setOpen] = useState(false);\r\n    const [edited, setEdited] = useState(false);\r\n    const [type,] = useState(props.task.task_type);\r\n    const [days, setDays] = useState(props.task.alarm_days);\r\n    const [enabled, setEnabled] = useState(props.task.enabled);\r\n    const [stopTime, setStopTime] = useState(props.task.hvac_stop);\r\n    const [startTime, setStartTime] = useState(props.task.hvac_start);\r\n    const [inTemp, setInTemp] = useState(props.task.hvac_start_temp);\r\n    const [outTemp, setOutTemp] = useState(props.task.hvac_stop_temp);\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [singleClick] = useSound(SingleClickSound, { volume: 0.25 });\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays.map(day => props.task.alarm_days.includes(day.id) ? { ...day, on: true } : day));\r\n\r\n    const updateStopTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStopTime(dateTime);\r\n    }\r\n\r\n    const updateStartTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStartTime(dateTime);\r\n    }\r\n\r\n    const clickDelete = async () => {\r\n        click();\r\n        const response = await deleteScheduledTask(state.user.userId, state.auth.bearer, props.task.task_id);\r\n        if (response.ok)\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n    }\r\n\r\n    const saveTask = async () => {\r\n        if (edited) {\r\n            click();\r\n            await updateTask(enabled);\r\n        }\r\n    }\r\n    \r\n    const toggleTask = async () => {\r\n        singleClick();\r\n        const updated = !enabled;\r\n        setEnabled(updated);\r\n        await updateTask(updated);\r\n    }\r\n\r\n    const updateTask = async (isEnabled) => {\r\n        const request = {\r\n            'taskId': props.task.task_id, 'alarmLightGroup': props.task.alarm_light_group, 'alarmGroupName': props.task.alarm_group_name,\r\n            'alarmDays': days, 'hvacStart': startTime, 'hvacStop': stopTime, 'hvacStartTemp': inTemp, 'hvacStopTemp': outTemp, 'enabled': isEnabled, 'taskType': type\r\n        };\r\n        const response = await updateScheduledTasks(state.user.userId, state.auth.bearer, request);\r\n        if (response) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n            dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n        }\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    return (\r\n        <ExpansionPanel className=\"task-panel\" expanded={open} onChange={() => { setOpen(!open) }}>\r\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                <div className=\"alarm-summary-panel\">\r\n                    <div className=\"alarm-setting-group\" data-testid=\"light-alarm-group\">\r\n                        <div className=\"settings-row alarm-column-one\">\r\n                            <p className=\"setting panel-header-text alarm-time\">{`${startTime.slice(0, -3)} - ${stopTime.slice(0, -3)}`}</p>\r\n                        </div>\r\n                        <div className=\"settings-row alarm-column-two\">\r\n                            <p className=\"setting text alarm-group-name\">{props.task.task_type}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"alarm-setting-group\">\r\n                        <div className=\"settings-row alarm-column-one\">\r\n                            <p className=\"setting text measure-unit\">{days}</p>\r\n                        </div>\r\n                        <div className=\"settings-row alarm-column-two\">\r\n                            <Switch className=\"task-switch\" onClick={(event) => event.stopPropagation()} onFocus={(event) => event.stopPropagation()}\r\n                                checked={enabled} onChange={toggleTask} color=\"primary\" inputProps={{ 'aria-label': 'primary checkbox' }} />\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails className=\"center\">\r\n                <div>\r\n                    <div className=\"settings-row\">\r\n                        <div className=\"picker-row\">\r\n                            <TimePicker initialTime={startTime} setTime={updateStartTime} label=\"start time\" />\r\n                            <TimePicker initialTime={stopTime} setTime={updateStopTime} label=\"stop time\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings-row\">\r\n                        <div className=\"picker-row\">\r\n                            <TempPicker value={inTemp} onChange={setInTemp} label=\"Start Temp\" />\r\n                            <TempPicker value={outTemp} onChange={setOutTemp} label=\"Stop Temp\" />\r\n                        </div>\r\n                    </div>\r\n                    <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n                    <Divider />\r\n                    <div className=\"tasks-button-group text\">\r\n                        <div className=\"task-button-container\" onClick={clickDelete}>\r\n                            <Delete className=\"task-button task-delete\" />\r\n                            <p className=\"task-delete\">Delete</p>\r\n                        </div>\r\n                        <div className=\"task-button-container\" onClick={saveTask}>\r\n                            <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                            <p className={edited ? \"edited\" : ''}>Update</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Context } from '../../state/Store';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport { insertLightTask } from '../../utilities/RestApi';\r\nimport { MenuItem, TextField, Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function CreateLightActivity(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [edited, setEdited] = useState(false);\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [days, setDays] = useState();\r\n    const [groupId, setGroupId] = useState();\r\n    const [selectedRoom, setSelectedRoom] = useState('');\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays);\r\n    const [time, setTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n\r\n\r\n    const saveActivity = async () => {\r\n        if (edited && selectedRoom !== '' && days !== null) {\r\n            const tasks = await insertLightTask(state.user.userId, state.auth.bearer, true, props.type, groupId, selectedRoom, days, time);\r\n            dispatch({ type: 'SET_SCHEDULED_TASK', payload: tasks });\r\n            props.save();\r\n            click();\r\n        }\r\n    }\r\n\r\n    const updateSelectedRoom = (item) => {\r\n        setEdited(true);\r\n        item.target.value === \"All Rooms\"\r\n            ? setGroupId(\"0\")\r\n            : setGroupId(state.userLightGroups.find(x => x.groupName === item.target.value).groupId)\r\n        setSelectedRoom(item.target.value);\r\n    }\r\n\r\n    const updateTime = (dateTime) => {\r\n        setEdited(true);\r\n        setTime(dateTime);\r\n    }\r\n\r\n    const deleteActivity = () => {\r\n        props.cancel();\r\n        click();\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-row\">\r\n                <TextField className=\"light-alarm-component task-room-picker-row\" select variant=\"outlined\" value={selectedRoom} onChange={updateSelectedRoom} label=\"Room\" data-testid=\"alarm-room-picker\">\r\n                    <MenuItem key=\"all-rooms\" value=\"All Rooms\">All Rooms</MenuItem>\r\n                    {state.lights.map((group) => (\r\n                        <MenuItem key={group.groupId} value={group.groupName}>\r\n                            {group.groupName}\r\n                        </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n                <TimePicker className=\"light-alarm-component\" initialTime={time} setTime={updateTime} />\r\n            </div>\r\n            <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n            <Divider />\r\n            <div className=\"tasks-button-group text\">\r\n                <div className=\"task-button-container\" onClick={deleteActivity}>\r\n                    <Delete className=\"task-button task-delete\" />\r\n                    <p className=\"task-delete\">Cancel</p>\r\n                </div>\r\n                <div className=\"task-button-container\" onClick={saveActivity}>\r\n                    <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                    <p className={edited ? \"edited\" : \"\"}>Save</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport TempPicker from '../../components/controls/TempPicker';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport { Divider } from '@material-ui/core';\r\nimport { insertHvacTask } from '../../utilities/RestApi';\r\nimport './CreateHvacActivity.css';\r\n\r\n\r\nexport default function CreateHvacActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [state, dispatch] = useContext(Context);\r\n    const [days, setDays] = useState();\r\n    const [inTemp, setInTemp] = useState(72);\r\n    const [outTemp, setOutTemp] = useState(72);\r\n    const [edited, setEdited] = useState(false);\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays);\r\n    const [startTime, setStartTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n    const [stopTime, setStopTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n\r\n    const saveActivity = async () => {\r\n        if (edited && days !== null) {\r\n            const tasks = await insertHvacTask(state.user.userId, state.auth.bearer, true, props.type, '', startTime, stopTime, inTemp, outTemp, days);\r\n            dispatch({ type: 'SET_SCHEDULED_TASK', payload: tasks });\r\n            props.save();\r\n            click();\r\n        }\r\n    }\r\n\r\n    const updateStopTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStopTime(dateTime);\r\n    }\r\n\r\n    const updateStartTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStartTime(dateTime);\r\n    }\r\n\r\n    const deleteActivity = () => {\r\n        props.cancel();\r\n        click();\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-row\">\r\n                <div className=\"picker-row\">\r\n                    <TimePicker initialTime={startTime} setTime={updateStartTime} label=\"start time\" />\r\n                    <TimePicker initialTime={stopTime} setTime={updateStopTime} label=\"stop time\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"settings-row\">\r\n                <div className=\"picker-row\">\r\n                    <TempPicker value={inTemp} onChange={setInTemp} label=\"Start Temp\" />\r\n                    <TempPicker value={outTemp} onChange={setOutTemp} label=\"Stop Temp\" />\r\n                </div>\r\n            </div>\r\n            <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n            <Divider />\r\n            <div className=\"tasks-button-group text\">\r\n                <div className=\"task-button-container\" onClick={deleteActivity}>\r\n                    <Delete className=\"task-button task-delete\" />\r\n                    <p className=\"task-delete\">Cancel</p>\r\n                </div>\r\n                <div className=\"task-button-container\" onClick={saveActivity}>\r\n                    <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                    <p className={edited ? \"edited\" : \"\"}>Save</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport CreateLightActivity from './CreateLightActivity';\r\nimport CreateHvacActivity from './CreateHvacActivity';\r\nimport { Delete } from '@material-ui/icons';\r\nimport { ExpansionPanelDetails, ExpansionPanel, TextField, MenuItem, ExpansionPanelSummary } from '@material-ui/core';\r\n\r\n\r\nexport default function CreateNewActivityPanel(props) {\r\n    const [state,] = useContext(Context);\r\n    const [type, setType] = useState('');\r\n\r\n    const updateSelectedType = (item) => {\r\n        setType(state.taskTypes.find(x => x === item.target.value));\r\n    }\r\n\r\n    const selectedComponents = () => {\r\n        if (type === 'hvac') {\r\n            return <CreateHvacActivity type={type} cancel={props.cancelNewTask} save={props.saveNewTask} />\r\n        } else if (type !== '') {\r\n            return <CreateLightActivity type={type} cancel={props.cancelNewTask} save={props.saveNewTask} />\r\n        } else {\r\n            return (\r\n                <div className=\"tasks-button-group text\">\r\n                    <div className=\"task-button-container\" onClick={() => props.cancelNewTask()}>\r\n                        <Delete className=\"task-button task-delete\" />\r\n                        <p className=\"task-delete\">Cancel</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ExpansionPanel className=\"task-panel\" expanded={true}>\r\n                <ExpansionPanelSummary style={{ height: \"0px\", minHeight: \"0px\" }} />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div className=\"settings-row\">\r\n                        <TextField data-testid=\"task-type\" className=\"light-alarm-component task-room-picker-row\" select variant=\"outlined\" value={type} onChange={updateSelectedType} label=\"Task Type\">\r\n                            {state.taskTypes.map(x => (\r\n                                <MenuItem key={x} value={x}>\r\n                                    {x}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    {selectedComponents()}\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/singleClick.mp3';\r\nimport Header from '../../components/header/Header';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport LightActivity from './LightActivity';\r\nimport HvacActivity from './HvacActivity';\r\nimport CreateNewActivityPanel from './CreateNewActivity';\r\nimport './Activities.css';\r\n\r\n\r\nexport default function ActivitiesPage() {\r\n    getStore().setActivePage('Activities');\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [state,] = useContext(Context);\r\n    const [addTask, setAddTask] = useState(false)\r\n\r\n    const createNewTask = () => {\r\n        setAddTask(true);\r\n        click();\r\n    }\r\n\r\n    const createActivities = (task) => {\r\n        return task.task_type === 'hvac'\r\n            ? <HvacActivity key={task.task_id} task={task} />\r\n            : <LightActivity key={task.task_id} task={task} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"activities-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"activities-body body\">\r\n                <div className=\"activites-wrapper\">\r\n                    <div className=\"settings-group setting panel-header-text\">\r\n                        <h2 data-testid=\"activities-sub-header\">Activities</h2>\r\n                    </div>\r\n                    {\r\n                        addTask &&\r\n                        <CreateNewActivityPanel saveNewTask={() => { setAddTask(false) }} cancelNewTask={() => { setAddTask(false) }} />\r\n                    }\r\n                    {\r\n                        state.tasks.map(x => createActivities(x))\r\n                    }\r\n                </div>\r\n                <div className=\"add-task-container\">\r\n                    <div className=\"add-task-button-border\">\r\n                        <div className=\"add-task-button success-ripple\">\r\n                            <AddIcon data-testid=\"add-task-button\" className=\"add-task-button-plus\" onClick={createNewTask} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { addUserChildAccount, getUserChildAccounts, deleteUserChildAccount } from '../../utilities/RestApi';\r\nimport { Context } from '../../state/Store';\r\nimport { Divider, MenuItem, Select, InputLabel, Input, FormControl, Checkbox, TextField, ListItemText } from '@material-ui/core';\r\nimport { AddButton, RemoveButton } from '../../components/controls/Buttons';\r\nimport \"./AccountChildUser.css\"\r\n\r\nexport default function AccountChildUser() {\r\n    const [state, _] = useContext(Context);\r\n    const [roles,] = useState(getStore().getUserRoles());\r\n    const [selectedRole, setSelectedRole] = useState([]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [test, setTest] = useState([]);\r\n    const [isEmailInvalid, setIsEmailInvalid] = useState(undefined);\r\n    const [isRoleInvalid, setIsRoleInvalid] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const response = await getUserChildAccounts(state.user.userId, state.auth.bearer);\r\n            setTest(response);\r\n        };\r\n        getData();\r\n    }, []);\r\n\r\n\r\n    const submitChildAccount = async (event) => {\r\n        event.preventDefault();\r\n        if ((!isEmailInvalid && !isRoleInvalid) && (selectedRole.length !== 0 && email !== null && email !== \"\")) {\r\n            const response = await addUserChildAccount(state.user.userId, state.auth.bearer, email, selectedRole);\r\n            setTest(response);\r\n            setEmail(\"\");\r\n            setSelectedRole([]);\r\n        } else {\r\n            setIsEmailInvalid(email === \"\" || email === null);\r\n            setIsRoleInvalid(selectedRole.length === 0);\r\n        }\r\n    }\r\n\r\n    const deleteChildUser = async (childUserId) => {\r\n        const response = await deleteUserChildAccount(state.user.userId, state.auth.bearer, childUserId);\r\n        if (response.ok)\r\n            setTest(test.filter(x => x.user_id !== childUserId));\r\n    }\r\n\r\n    const validateEmail = (input) => {\r\n        setEmail(input.target.value);\r\n        setIsEmailInvalid(input.target.value === \"\");\r\n    }\r\n\r\n    const validateRole = (input) => {\r\n        setSelectedRole(input.target.value);\r\n        setIsRoleInvalid(input.target.value === \"\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submitChildAccount}>\r\n                <h2 className=\"panel-header-text\">Account Users</h2>\r\n                <Divider />\r\n                <table className=\"table-container\">\r\n                    <tbody>\r\n                        {test.map(x => (\r\n                            <tr className=\"table-rows\" key={`user-${x.user_name}`}>\r\n                                <td>{x.user_name}</td>\r\n                                <td>{x.roles.join(', ')}</td>\r\n                                <td className=\"table-end-item\">\r\n                                    <RemoveButton aria-label={`user-${x.user_name}`} onClick={() => deleteChildUser(x.user_id)}></RemoveButton>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        <tr>\r\n                            <td>\r\n                                <TextField inputProps={{ \"data-testid\": \"email-account-user\" }} error={isEmailInvalid} onChange={(input) => validateEmail(input)} value={email} label=\"Email\" />\r\n                            </td>\r\n                            <td className=\"account-roles\">\r\n                                <FormControl error={isRoleInvalid}>\r\n                                    <InputLabel className=\"child-user-label\" id=\"demo-mutiple-name-label\">Roles</InputLabel>\r\n                                    <Select className=\"child-user-input\" data-testid=\"roles-account-user\" multiple value={selectedRole} onChange={(input) => validateRole(input)} input={<Input />}\r\n                                        renderValue={(selectedRole) => (selectedRole.join(', '))}>\r\n                                        {roles.map((role) => (\r\n                                            <MenuItem key={role.role_name} value={role.role_name}>\r\n                                                <Checkbox checked={selectedRole.indexOf(role.role_name) > -1} />\r\n                                                <ListItemText primary={role.role_name} />\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </td>\r\n                            <td className=\"table-end-item\">\r\n                                <AddButton onClick={(event) => { submitChildAccount(event) }}></AddButton>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </form>\r\n        </div >\r\n    );\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport Header from '../../components/header/Header';\r\nimport { Divider, TextField } from '@material-ui/core';\r\nimport { CheckCircle, Error } from '@material-ui/icons';\r\nimport { updateUserAccount } from '../../utilities/RestApi';\r\nimport AccountChildUser from '../../pages/Account/AccountChildUser';\r\nimport { GreenButton } from '../../components/controls/Buttons';\r\nimport './Account.css';\r\n\r\n\r\nexport default function Account() {\r\n    getStore().setActivePage('Account');\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [state,] = useContext(Context);\r\n    const [arePasswordsMismatched, setPasswordsMismatched] = useState(null);\r\n    const [changed, setChanged] = useState(false);\r\n    const [oldPasswordError, setPasswordError] = useState(null);\r\n    const [oldPassword, setOldPassword] = useState(\"\");\r\n    const [firstNewPassword, setFirstPassword] = useState(\"\");\r\n    const [secondNewPassword, setSecondPassword] = useState(\"\");\r\n    const [succeeded, setSucceeded] = useState(null);\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (firstNewPassword !== \"\" && secondNewPassword !== \"\") {\r\n            setPasswordsMismatched(secondNewPassword !== firstNewPassword);\r\n        }\r\n\r\n        if (changed && oldPassword === \"\") {\r\n            setPasswordError(true);\r\n        } else if (changed && oldPassword !== \"\") {\r\n            setPasswordError(false)\r\n        } else if (submitted && oldPassword === \"\") {\r\n            setPasswordError(true);\r\n        }\r\n    }, [firstNewPassword, secondNewPassword, changed, oldPassword, submitted]);\r\n\r\n    const onOldPasswordChange = async (input) => {\r\n        setOldPassword(input.target.value);\r\n        setChanged(true);\r\n    }\r\n\r\n    const submitAccountChange = async (event) => {\r\n        event.preventDefault();\r\n        click();\r\n        setSubmitted(true);\r\n        if (!oldPasswordError && !arePasswordsMismatched && changed) {\r\n            const response = await updateUserAccount(state.user.userId, state.auth.bearer, oldPassword, secondNewPassword);\r\n            setSucceeded(response.ok);\r\n        }\r\n    }\r\n\r\n    const passwordMessage = () => {\r\n        if (succeeded) {\r\n            return <div className=\"account-message\">\r\n                <CheckCircle className=\"success-text\" />\r\n                <p className=\"success-text\">Updated Successfully!</p>\r\n            </div>\r\n        } else if (succeeded === false) {\r\n            return <div className=\"account-message\">\r\n                <Error className=\"failure-text\" />\r\n                <p className=\"failure-text\">Password Update Failed</p>\r\n            </div>\r\n        } else {\r\n            return <div><p></p></div>\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"account-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"account-body body\">\r\n                <div className=\"account-wrapper account-text text\">\r\n                    <form className=\"account-group account-text panel-header-text\" onSubmit={submitAccountChange}>\r\n                        <h2>Change Password</h2>\r\n                        <Divider />\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid=\"old-pass\" error={oldPasswordError} value={oldPassword} variant=\"outlined\" label=\"Old Password\" type=\"password\" onChange={onOldPasswordChange} />\r\n                        </div>\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid=\"new-pass\" error={arePasswordsMismatched} value={firstNewPassword} variant=\"outlined\" label=\"New Password\" type=\"password\" onChange={(input) => setFirstPassword(input.target.value)} />\r\n                        </div>\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid=\"confirm-pass\" error={arePasswordsMismatched} value={secondNewPassword} variant=\"outlined\" label=\"Confirm New Password\" type=\"password\" onChange={(input) => setSecondPassword(input.target.value)} />\r\n                        </div>\r\n                        {passwordMessage()}\r\n                        <GreenButton type=\"submit\">Submit</GreenButton>\r\n                    </form>\r\n                    <AccountChildUser />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport { Context } from '../../state/Store';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Divider } from '@material-ui/core';\r\nimport { GreenButton } from '../../components/controls/Buttons';\r\n\r\n\r\nexport default function SettingsPanel(props) {\r\n    const [state,] = useContext(Context)\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n\r\n    const handleClick = () => {\r\n        props.toggleEdit();\r\n        click();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-group setting panel-header-text\">\r\n                <h2>Garage</h2>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting measure-unit\">Open Door:</p>\r\n                <p className=\"setting temp-unit\">{state.preferences.garage_door ? state.preferences.garage_door : \"None\"}</p>\r\n            </div>\r\n            <div className=\"settings-group setting panel-header-text\">\r\n                <h2>Temperature</h2>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting temp-unit\">Unit:</p>\r\n                <p className=\"setting temp-unit\">{state.preferences.temp_unit}</p>\r\n            </div>\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting temp-city\">City:</p>\r\n                <p className=\"setting temp-city\">{state.preferences.city}</p>\r\n            </div>\r\n            <div className=\"setting text panel-header-text\">\r\n                <h2>Measurement</h2>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting measure-unit\">Unit:</p>\r\n                <p className=\"setting measure-unit\">{state.preferences.measure_unit}</p>\r\n            </div>\r\n            <div>\r\n                <GreenButton onClick={handleClick}>Edit</GreenButton>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { updateUserPreferences } from '../../utilities/RestApi';\r\nimport './SettingsEditPanel.css'\r\nimport { Context } from '../../state/Store';\r\nimport { Divider, TextField, MenuItem, FormControlLabel, RadioGroup, FormControl, Radio } from '@material-ui/core';\r\nimport { GreenButton, RedButton } from '../../components/controls/Buttons';\r\n\r\n\r\nexport default function SettingsEditPanel(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [edited, setEdited] = useState();\r\n    const [garage, setGarage] = useState(state.preferences.garage_door ? state.preferences.garage_door : '');\r\n    const [garageId, setGarageId] = useState();\r\n    const [newCity, setNewCity] = useState(state.preferences.city);\r\n    const [newTempUnit, setNewTempUnit] = useState(state.preferences.temp_unit);\r\n    const [newMeasureUnit, setNewMeasureUnit] = useState(state.preferences.measure_unit);\r\n\r\n    const savePreferences = () => {\r\n        click();\r\n        const isFahrenheit = newTempUnit === \"fahrenheit\";\r\n        const isImperial = newMeasureUnit === \"imperial\";\r\n        const request = { isImperial, isFahrenheit, 'city': newCity, 'garageDoor': garage, 'garageId': garageId };\r\n        updateUserPreferences(state.user.userId, state.auth.bearer, request);\r\n\r\n        dispatch({ type: 'SET_USER_PREFERENCES', payload: { ...state.preferences, city: newCity, temp_unit: newTempUnit, measure_unit: newMeasureUnit, garage_id: garageId, garage_door: garage } });\r\n        props.setEditMode(!props.isEditMode);\r\n    }\r\n\r\n    const cancelPreferences = () => {\r\n        click();\r\n        setNewCity(props.city);\r\n        setNewTempUnit(props.tempUnit);\r\n        setNewMeasureUnit(props.measureUnit);\r\n        props.setEditMode(!props.isEditMode);\r\n    }\r\n\r\n    const updateCity = (input) => {\r\n        setEdited(true);\r\n        setNewCity(input.target.value);\r\n    }\r\n\r\n    const updateTempRadioButton = (input) => {\r\n        setEdited(true);\r\n        setNewTempUnit(input.target.value);\r\n    }\r\n\r\n    const updateMeasureRadioButton = (input) => {\r\n        setEdited(true);\r\n        setNewMeasureUnit(input.target.value);\r\n    }\r\n\r\n    const updateGarageDoor = (input) => {\r\n        const door = state.garageDoors.find(x => x.doorName === input.target.value);\r\n        setEdited(true);\r\n        setGarage(input.target.value);\r\n        setGarageId(door ? door.doorId : null);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-group setting text\">\r\n                <h2 className=\"panel-header-text\">Garage</h2>\r\n                <Divider />\r\n                <div className=\"settings-row\">\r\n                    <TextField className=\"garage-setting-row\" variant=\"outlined\" select value={garage} onChange={updateGarageDoor} label=\"Garage Door\">\r\n                        <MenuItem value=\"\">None</MenuItem>\r\n                        {state.garageDoors.map(x => (\r\n                            <MenuItem key={x.doorName} value={x.doorName}>\r\n                                {x.doorName}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                </div>\r\n                <h2 className=\"panel-header-text\">Temperature</h2>\r\n                <Divider />\r\n                <div className=\"settings-row\">\r\n                    <FormControl>\r\n                        <RadioGroup label=\"Unit:\">\r\n                            <FormControlLabel onChange={updateTempRadioButton} value=\"fahrenheit\" checked={newTempUnit === \"fahrenheit\"} control={<Radio color=\"primary\" />} label=\"Fahrenheit\" />\r\n                            <FormControlLabel onChange={updateTempRadioButton} value=\"celsius\" checked={newTempUnit === \"celsius\"} control={<Radio color=\"primary\" />} label=\"Celsius\" />\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </div>\r\n                <div className=\"settings-row\">\r\n                    <TextField variant=\"outlined\" label=\"City\" value={newCity} onChange={updateCity} />\r\n                </div>\r\n                <h2 className=\"panel-header-text\">Measurement</h2>\r\n                <Divider />\r\n                <div className=\"settings-row\">\r\n                    <FormControl>\r\n                        <RadioGroup label=\"Unit:\">\r\n                            <FormControlLabel onChange={updateMeasureRadioButton} value=\"imperial\" checked={newMeasureUnit === \"imperial\"} control={<Radio color=\"primary\" />} label=\"Imperial\" />\r\n                            <FormControlLabel onChange={updateMeasureRadioButton} value=\"metric\" checked={newMeasureUnit === \"metric\"} control={<Radio color=\"primary\" />} label=\"Metric\" />\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </div>\r\n            </div>\r\n            <div className=\"settings-button-group\">\r\n                <GreenButton disabled={!edited} onClick={savePreferences}>Save</GreenButton>\r\n                <RedButton onClick={cancelPreferences}>Cancel</RedButton>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport SettingsPanel from './SettingsPanel';\r\nimport Header from '../../components/header/Header';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport SettingsEditPanel from './SettingsEditPanel';\r\nimport { setTheme, toggleDarkMode, isNightTime } from '../../utilities/Services';\r\nimport { CoolSwitch, HeatSwitch } from '../../components/controls/Switches';\r\nimport { FormControlLabel, FormControl } from '@material-ui/core';\r\nimport './Settings.css'\r\n\r\n\r\nexport default function Settings() {\r\n    getStore().setActivePage('Settings');\r\n    const [state,] = useContext(Context);\r\n    const [isAutoMode, setIsAutoMode] = useState(false);\r\n    const [darkMode, setDarkMode] = useState(false);\r\n    const [isEditMode, setEditMode] = useState();\r\n\r\n    useEffect(() => {\r\n        setDarkMode(localStorage.getItem('theme') === 'theme-dark');\r\n        setIsAutoMode(localStorage.getItem('auto-theme') === 'true');\r\n    });\r\n\r\n    const toggleEditMode = () => {\r\n        setEditMode(!isEditMode);\r\n    }\r\n\r\n    const toggleTheme = () => {\r\n        toggleDarkMode()\r\n        setDarkMode(!darkMode);\r\n    }\r\n\r\n    const toggleAutoTheme = () => {\r\n        localStorage.setItem('auto-theme', !isAutoMode);\r\n        setIsAutoMode(!isAutoMode);\r\n        isNightTime(state.garageCoords, state.userCoords)\r\n            ? setTheme('theme-dark')\r\n            : setTheme('theme-light')\r\n        if (!isAutoMode === false && !darkMode)\r\n            setTheme('theme-light');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"settings-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"settings-body body\">\r\n                <div className=\"settings-wrapper body\">\r\n                    <div className=\"settings-group setting panel-header-text\">\r\n                        <h2>Preferences</h2>\r\n                    </div>\r\n                    <div className=\"settings-row text\">\r\n                        <FormControl>\r\n                            <FormControlLabel label=\"Dark Mode\" control={<HeatSwitch onChange={toggleTheme} disabled={isAutoMode} checked={darkMode && !isAutoMode} />} />\r\n                        </FormControl>\r\n                    </div>\r\n                    <div className=\"settings-row text\">\r\n                        <FormControl>\r\n                            <FormControlLabel label=\"Auto Theme\" control={<CoolSwitch onChange={toggleAutoTheme} checked={isAutoMode} />} />\r\n                        </FormControl>\r\n                    </div>\r\n                    {isEditMode\r\n                        ? <SettingsEditPanel isEditMode={isEditMode} setEditMode={setEditMode} />\r\n                        : <SettingsPanel toggleEdit={toggleEditMode} />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport Login from '../../pages/Login/Login';\r\nimport PrivateRoute from '../routes/PrivateRoutes';\r\nimport Home from '../../pages/Home/Home';\r\nimport Activities from '../../pages/Activities/Activities';\r\nimport Account from '../../pages/Account/Account';\r\nimport Settings from '../../pages/Settings/Settings';\r\nimport { Context } from '../../state/Store';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\n\r\nexport default function Routes() {\r\n  const [state,] = useContext(Context);\r\n\r\n  return (\r\n    <Router>\r\n      <header className=\"App-header\" data-testid=\"app-routes\">\r\n        <Route exact path=\"/home-automation-ui\" render={() => <Login />} />\r\n        <div>\r\n          <PrivateRoute authed={state.auth.isAuthenticated} path='/home-automation-ui/home' component={Home} />\r\n          <PrivateRoute authed={state.auth.isAuthenticated} path='/home-automation-ui/activities' component={Activities} />\r\n          <PrivateRoute authed={state.auth.isAuthenticated} path='/home-automation-ui/settings' component={Settings} />\r\n          <PrivateRoute authed={state.auth.isAuthenticated} path='/home-automation-ui/account' component={Account} />\r\n        </div>\r\n      </header>\r\n    </Router>\r\n  );\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Store from './state/Store';\r\nimport Routes from './components/routes/Routes';\r\nimport { setTheme } from './utilities/Services';\r\n\r\n\r\nexport default function App() {\r\n  const theme = localStorage.getItem('theme');\r\n  setTheme(theme);\r\n\r\n  return (\r\n    <Store>\r\n      <Routes />\r\n    </Store>\r\n  );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}