{"version":3,"sources":["state/Reducer.js","state/Store.js","resources/CompanyLogo.png","components/header/LogoHeader.js","resources/click.mp3","state/GlobalState.js","utilities/RestApi.js","pages/Login/UserPass.js","pages/Login/Login.js","components/routes/PrivateRoutes.js","resources/singleClick.mp3","components/header/AccountIcon.js","components/header/AccountMenu.js","utilities/Services.js","utilities/UseInterval.js","resources/ding.mp3","pages/Home/segments/UserLocation.js","utilities/Location.js","components/header/Header.js","pages/Home/segments/AddGarage.js","pages/Home/segments/RegisterDevice.js","resources/panelIcons/GarageDoorIcon.png","pages/Home/segments/GarageDoor.js","pages/Home/panels/GaragePanel.js","resources/panelIcons/BasementIcon.png","resources/panelIcons/SumpPumpLowIcon.png","resources/panelIcons/SumpPumpMediumLowIcon.png","resources/panelIcons/SumpPumpMediumHighIcon.png","resources/panelIcons/SumpPumpHighIcon.png","pages/Home/panels/BasementPanel.js","components/controls/Knob.js","resources/weatherIcons/sunny.png","resources/weatherIcons/drizzle.png","resources/weatherIcons/cloudy.png","resources/weatherIcons/partly_cloudy.png","resources/weatherIcons/partly_cloudy_night.png","resources/weatherIcons/heavy_snow.png","resources/weatherIcons/light_snow.png","resources/weatherIcons/light_rain.png","resources/weatherIcons/heavy_rain.png","resources/weatherIcons/thunderstorm.png","resources/weatherIcons/home.png","resources/weatherIcons/clear_night.png","resources/weatherIcons/misty.png","pages/Home/segments/TemperatureImage.js","resources/panelIcons/TemperatureIcon.png","components/controls/Switches.js","pages/Home/panels/TemperaturePanel.js","components/controls/Slider.js","pages/Home/segments/SwitchSlider.js","components/controls/LightSwitch.js","resources/panelIcons/LightingIcon.png","pages/Home/panels/LightingPanel.js","resources/panelIcons/SecurityIcon.png","pages/Home/panels/SecurityPanel.js","pages/Home/panels/DashboardPanels.js","pages/Home/Home.js","resources/pop.mp3","components/controls/DayPicker.js","components/controls/WeekPicker.js","components/controls/TimePicker.js","pages/Activities/LightActivity.js","components/controls/TempPicker.js","pages/Activities/HvacActivity.js","pages/Activities/CreateLightActivity.js","pages/Activities/CreateHvacActivity.js","pages/Activities/CreateNewActivity.js","pages/Activities/Activities.js","pages/Account/AccountChildUser.js","pages/Account/Account.js","pages/Settings/SettingsPanel.js","pages/Settings/SettingsEditPanel.js","pages/Settings/Settings.js","components/routes/Routes.js","App.js","serviceWorker.js","index.js"],"names":["Reducer","state","action","type","activePage","payload","bearerToken","userId","deviceId","firstName","lastName","isAuthenticated","roles","startedGarageRegistration","devicesToRegister","garageRole","addedGarageNode","garageCoords","userCoords","userLights","map","light","find","p","lightId","userLightGroups","doorIndex","garageDoors","findIndex","door","doorName","isOpen","tasks","filter","task","task_id","initialState","taskTypes","Context","createContext","Store","children","useReducer","dispatch","Provider","value","LogoHeader","data-testid","className","alt","src","Logo","GlobalState","setActivePage","page","getActivePage","updateAuth","setBearerToken","token","getBearerToken","setUserId","getUserId","setUserRoles","userRoles","getUserRoles","setFirstName","name","getFirstName","setLastName","getLastName","hasUnregisteredDevices","x","role_name","devices","length","device_id","getGarageDeviceId","this","currentState","getStore","baseUrl","accountBaseUrl","deviceBaseUrl","garageBaseUrl","lightBaseUrl","sumpBaseUrl","thermostatBaseUrl","username","password","a","options","method","headers","base64","encode","fetch","response","ok","json","jsonResponse","dataStore","decodedToken","jwt_decode","user","user_id","first_name","last_name","getGarageStatus","garageId","updateGarageState","shouldOpen","request","body","JSON","stringify","toggleGarageDoor","getSumpLevels","getCurrentTemperature","setUserTemperature","desiredTemp","mode","isFahrenheit","getUserPreferences","updateUserPreferences","isImperial","city","getLightGroups","setLightGroupState","groupId","brightness","setLightState","updateUserAccount","oldPass","newPass","addUserDevice","roleName","ipAddress","addUserDeviceNode","nodeName","getRolesByUserId","addUserChildAccount","email","getUserChildAccounts","deleteUserChildAccount","childAccountId","deleteScheduledTask","taskId","getScheduledTasks","insertLightTask","enabled","taskType","alarmLightGroup","alarmGroupName","alarmDays","alarmTime","insertHvacTask","hvacMode","hvacStart","hvacStop","hvacStartTemp","hvacStopTemp","updateScheduledTasks","UserPass","useSound","clickSound","volume","click","useContext","useState","setUsername","setPassword","undefined","isUsernameInvalid","setIsUsernameInvalid","isPasswordInvalid","setIsPasswordInvalid","isValidLogin","setIsValidLogin","validateCredentials","event","preventDefault","passInvalid","userInvalid","getBearerTokenFromLogin","unregisteredDevices","to","onSubmit","TextField","inputProps","error","onChange","target","variant","label","Login","PrivateRoute","Component","component","authed","rest","render","props","pathname","from","location","Account","singleClickSound","firstInitial","trim","charAt","lastInitial","onClick","toggle","AccountSettings","wrapperRef","useEffect","document","addEventListener","handleClickOutside","parentRef","contains","ref","node","debounchApi","func","wait","timeout","context","args","arguments","later","apply","clearTimeout","setTimeout","debounce","fn","isNightTime","today","Date","sunrise","calculateSunrise","latitude","longitude","calculateSunset","getHours","setDate","getDate","getSunrise","getSunset","setTheme","themeName","localStorage","setItem","documentElement","useInterval","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","UserLocation","dingSound","ding","cancel","setCancel","opened","setOpened","firstCheck","setFirstCheck","secondCheck","setSecondCheck","displayMenu","setDisplayMenu","calculateDistance","navigator","geolocation","getCurrentPosition","position","distance","coords","userDistance","lat1","long1","lat2","long2","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","toFixed","calculateDistanceInMeters","console","log","alert","enableHighAccuracy","Header","settingsActive","setSettingsActive","accountWrapperRef","setAccountWrapperRef","getItem","AddGarage","succeeded","setSucceeded","garageName","setGarageName","isNameValid","setIsNameValid","garageTouched","setGarageTouched","availableNodes","setAvailableNodes","submitGarageDoor","updateGarageNode","updateRoles","close","CheckCircle","input","RegisterDevice","setWrapperRef","setIpAddress","touched","setTouched","isIpValid","setIsIpValid","startedRegistration","setStartedRegistration","transitionComponent","setTransitionComponent","submitDevice","responseObj","test","isValidIpAddress","GarageDoor","setIsOpen","duration","setDuration","statusDays","setStatusDays","statusMins","setStatusMins","statusHours","setStatusHours","getGarageData","updateGarageDuration","diffMs","floor","round","device","node_device","garageStatus","isGarageOpen","statusDuration","coordinates","node_name","openCloseGarageDoor","newState","ExpansionPanelDetails","ExpansionPanelActions","GaragePanel","open","setOpen","displayRegister","setDisplayRegister","ExpansionPanel","ExpansionPanelSummary","expandIcon","GarageIcon","Typography","key","Divider","renderDoors","BasementPanel","depthUnit","setDepthUnit","warningLevel","setWarningLevel","currentSumpDepth","setCurrentSumpDepth","averageSumpDepth","setAverageSumpDepth","getSumpData","currentDepth","averageDepth","SumpPumpLowIcon","SumpPumpMediumLowIcon","SumpPumpMediumHighIcon","SumpPumpHighIcon","Knob","getArcToValue","v","startAngle","endAngle","angle","pow","min","angleArc","max","clockwise","cursor","cursorExt","acw","getCanvasScale","ctx","window","devicePixelRatio","screen","deviceXDPI","logicalXDPI","webkitBackingStorePixelRatio","coerceToStep","val","step","abs","isNaN","eventToValue","e","bounds","canvasRef","getBoundingClientRect","clientX","left","y","clientY","top","w","angleOffset","handleMouseDown","handleMouseMove","handleMouseUp","handleEsc","onChangeEnd","removeEventListener","handleTouchStart","touchIndex","targetTouches","handleTouchMove","passive","handleTouchEnd","keyCode","handleTextInput","handleWheel","deltaX","deltaY","handleArrowKey","inputStyle","width","height","verticalAlign","marginTop","marginLeft","border","background","font","fontWeight","digits","textAlign","color","inputColor","fgColor","padding","WebkitAppearance","renderCenter","displayCustom","displayInput","disableTextInput","readOnly","style","onKeyDown","h","String","drawCanvas","nextProps","getContext","scale","xy","lineWidth","thickness","radius","lineCap","beginPath","strokeStyle","bgColor","arc","stroke","canvasClassName","disableMouseWheel","title","display","onWheel","onMouseDown","React","defaultProps","stopper","TemperatureImage","isNight","setIsNight","weatherIcon","setWeatherIcon","weatherDesc","setWeatherDesc","getWeatherImage","weatherTypes","DrizzleIcon","MistIcon","LightRainIcon","HeavyRainIcon","LightSnowIcon","ClearIcon","PartlyCloudyIcon","SnowyIcon","PartlyCloudNightIcon","ClearNightIcon","getWeatherLabel","weather","replace","description","toLowerCase","includes","ThunderstormIcon","CloudyIcon","nightWeatherDesc","external","HomeIcon","internal","HeatSwitch","withStyles","switchBase","backgroundColor","checked","track","Switch","CoolSwitch","AutoSwitch","TemperaturePanel","setMode","setDescription","displayColor","setDisplayColor","isAuto","setIsAuto","isHeating","setIsHeating","isCooling","setIsCooling","setIsFahrenheit","setDesiredTemp","externalTemp","setExternalTemp","internalTemp","setInternalTemp","minThermostatTemp","setMinThermostatTemp","maxThermostatTemp","setMaxThermostatTemp","getTempData","temp","currentTemp","parseFloat","toggleColor","toggleHvac","newMode","heatState","coldState","autoState","modeState","getToggledMode","TemperatureIcon","newValue","FormControl","FormGroup","FormControlLabel","control","CSSTransition","in","classNames","unmountOnExit","appear","CustomSlider","root","margin","thumb","boxShadow","active","valueLabel","borderRadius","rail","Slider","SwitchSlider","data","setLight","lightName","newLight","toggleCheckedLight","valueLabelDisplay","aria-label","LightSwitch","lights","groupName","setBrightness","areLightsOpen","setLightsOpen","sliderToggleLightGroup","newBrightness","updatedLights","ButtonBase","LightingPanel","groups","setGroups","getData","flat","LightingIcon","group","SecurityPanel","SecurityIcon","DashboardPanel","roleNames","Home","DayPicker","PopSound","pop","day","on","setOn","updatedState","toggleDay","setEdited","WeekPicker","daysOfWeek","weekday","TimePicker","dateValue","setDateValue","initialTime","date","initialDate","split","setHours","setMinutes","utils","DateFnsUtils","setTime","toLocaleTimeString","hour12","KeyboardButtonProps","LightActivity","ClickSound","SingleClickSound","singleClick","edited","task_type","setType","alarm_days","days","setDays","alarm_time","time","setEnabled","setDaysOfWeek","saveTask","alarm_light_group","alarm_group_name","clickDelete","toggleTask","updated","expanded","slice","stopPropagation","onFocus","InputLabel","Select","item","MenuItem","dateTime","newProjects","join","Delete","Save","TempPicker","data-shrink","aria-invalid","tabIndex","AcUnitOutlined","Dialog","HvacActivity","inTemp","setInTemp","outTemp","setOutTemp","hvac_start","startTime","setStartTime","hvac_stop","stopTime","setStopTime","CreateLightActivity","setGroupId","selectedRoom","setSelectedRoom","saveActivity","save","CreateHvacActivity","CreateNewActivityPanel","minHeight","htmlFor","cancelNewTask","saveNewTask","ActivitiesPage","addTask","setAddTask","responseTasks","AccountChildUser","selectedRole","setSelectedRole","setEmail","setTest","isEmailInvalid","setIsEmailInvalid","isRoleInvalid","setIsRoleInvalid","submitChildAccount","deleteChildUser","childUserId","user_name","validateEmail","multiple","validateRole","Input","renderValue","role","Checkbox","indexOf","ListItemText","primary","arePasswordsMismatched","setPasswordsMismatched","changed","setChanged","oldPasswordError","setPasswordError","oldPassword","setOldPassword","firstNewPassword","setFirstPassword","secondNewPassword","setSecondPassword","submitted","setSubmitted","onOldPasswordChange","submitAccountChange","Error","SettingsPanel","tempUnit","measureUnit","toggleEdit","SettingsEditPanel","newCity","setNewCity","newTempUnit","setNewTempUnit","newMeasureUnit","setNewMeasureUnit","updateTempRadioButton","updateMeasureRadioButton","RadioGroup","Radio","disabled","setCity","setTempUnit","setEditMode","isEditMode","setMeasureUnit","Settings","isAutoMode","setIsAutoMode","darkMode","setDarkMode","temp_unit","measure_unit","Routes","exact","path","Activities","App","theme","Boolean","hostname","match","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.df630771.chunk.js","sourcesContent":["const Reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ACTIVE_PAGE':\r\n            return {\r\n                ...state,\r\n                activePage: action.payload\r\n            };\r\n        case 'SET_BEARER_TOKEN':\r\n            return {\r\n                ...state,\r\n                bearerToken: action.payload\r\n            };\r\n        case 'SET_USER_ID':\r\n            return {\r\n                ...state,\r\n                userId: action.payload\r\n            };\r\n        case 'SET_DEVICE_ID':\r\n            return {\r\n                ...state,\r\n                deviceId: action.payload\r\n            };\r\n        case 'SET_FIRST_NAME':\r\n            return {\r\n                ...state,\r\n                firstName: action.payload\r\n            };\r\n        case 'SET_LAST_NAME':\r\n            return {\r\n                ...state,\r\n                lastName: action.payload\r\n            };\r\n        case 'SET_AUTHENTICATION':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: action.payload\r\n            };\r\n        case 'SET_ROLES':\r\n            return {\r\n                ...state,\r\n                roles: action.payload\r\n            };\r\n        case 'SET_STARTED_GARAGE_REGISTRATION':\r\n            return {\r\n                ...state,\r\n                startedGarageRegistration: action.payload\r\n            };\r\n        case 'SET_DEVICES_TO_REGISTER':\r\n            return {\r\n                ...state,\r\n                devicesToRegister: action.payload\r\n            };\r\n        case 'SET_GARAGE_ROLE':\r\n            return {\r\n                ...state,\r\n                garageRole: action.payload\r\n            };\r\n        case 'SET_ADDED_GARAGE_NODE':\r\n            return {\r\n                ...state,\r\n                addedGarageNode: action.payload\r\n            };\r\n        case 'SET_GARAGE_COORDS':\r\n            return {\r\n                ...state,\r\n                garageCoords: action.payload\r\n            };\r\n        case 'SET_USER_COORDS':\r\n            return {\r\n                ...state,\r\n                userCoords: action.payload\r\n            };\r\n        case 'SET_ALL_USER_LIGHTS':\r\n            return {\r\n                ...state,\r\n                userLights: action.payload\r\n            };\r\n        case 'SET_USER_LIGHT':\r\n            return {\r\n                ...state,\r\n                userLights: state.userLights.map(light => [action.payload].find(p => p.lightId === light.lightId) || light)\r\n            };\r\n        case 'SET_USER_LIGHT_GROUPS':\r\n            return {\r\n                ...state,\r\n                userLightGroups: action.payload\r\n            };\r\n        case 'UPDATE_GARAGE_DOORS':\r\n            const doorIndex = state.garageDoors.findIndex(door => door.doorName === action.payload.doorName);\r\n            return {\r\n                ...state,\r\n                garageDoors: doorIndex > -1 ? state.garageDoors.map(door => door.doorName === action.payload.doorName ? {...door, \"isOpen\": action.payload.isOpen} : door) : [...state.garageDoors, action.payload]\r\n            }\r\n        case 'SET_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: action.payload\r\n            }\r\n        case 'DELETE_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: state.tasks.filter(task => task.task_id !== action.payload) \r\n            }\r\n        case 'ADD_SCHEDULED_TASK':\r\n            return {\r\n                ...state,\r\n                tasks: [...state.tasks, action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default Reducer;","import React, { createContext, useReducer } from \"react\";\r\nimport Reducer from './Reducer'\r\n\r\n\r\nconst initialState = {\r\n    activePage: null,\r\n    bearerToken: null,\r\n    userId: null,\r\n    isAuthenticated: false,\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    roles: [],\r\n    deviceId: null,\r\n    startedGarageRegistration: false,\r\n    devicesToRegister: false,\r\n    garageRole: [],\r\n    addedGarageNode: false,\r\n    garageCoords: null,\r\n    garageDoors: [],\r\n    userCoords: null,\r\n    userLights: [],\r\n    userLightGroups: [],\r\n    tasks: [],\r\n    taskTypes: ['sunrise alarm', 'turn on', 'turn off', 'hvac']\r\n};\r\n\r\nconst Store = ({ children }) => {\r\n    const [state, dispatch] = useReducer(Reducer, initialState);\r\n    return (\r\n        <Context.Provider value={[state, dispatch]}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n};\r\n\r\nexport const Context = createContext(initialState);\r\nexport default Store;","export default __webpack_public_path__ + \"static/media/CompanyLogo.dbd96a99.png\";","import React from 'react';\r\nimport './LogoHeader.css';\r\nimport Logo from '../../resources/CompanyLogo.png';\r\n\r\nexport default function LogoHeader() {\r\n    return (\r\n        <div>\r\n            <div data-testid={\"white-header\"} className=\"white-header\">\r\n                <div data-testid={\"logo-background\"} className=\"logo-background\">\r\n                    <img alt=\"Logo\" className=\"logo-image\" src={Logo} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/click.aa674493.mp3\";","class GlobalState {\r\n    constructor() {\r\n        this.state = {\r\n            activePage: null,\r\n            isAuthenticated: false,\r\n            bearerToken: null,\r\n            userId: null,\r\n            userRoles: [],\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n        }\r\n    }\r\n\r\n    setActivePage = (page) => {\r\n        this.state.activePage = page;\r\n    }\r\n\r\n    getActivePage = () => {\r\n        return this.state.activePage;\r\n    }\r\n\r\n    updateAuth = (isAuthenticated) => {\r\n        this.state.isAuthenticated = isAuthenticated;\r\n    }\r\n\r\n    isAuthenticated = () => {\r\n        return this.state.isAuthenticated;\r\n    }\r\n\r\n    setBearerToken = (token) => {\r\n        this.state.bearerToken = token;\r\n    }\r\n\r\n    getBearerToken = () => {\r\n        return this.state.bearerToken;\r\n    }\r\n\r\n    setUserId = (userId) => {\r\n        this.state.userId = userId;\r\n    }\r\n\r\n    getUserId = () => {\r\n        return this.state.userId;\r\n    }\r\n\r\n    setUserRoles = (roles) => {\r\n        this.state.userRoles = roles;\r\n    }\r\n\r\n    getUserRoles = () => {\r\n        return this.state.userRoles;\r\n    }\r\n\r\n    setFirstName = (name) => {\r\n        this.state.firstName = name;\r\n    }\r\n\r\n    getFirstName = () => {\r\n        return this.state.firstName;\r\n    }\r\n\r\n    setLastName = (name) => {\r\n        this.state.lastName = name;\r\n    }\r\n\r\n    getLastName = () => {\r\n        return this.state.lastName;\r\n    }\r\n\r\n    hasUnregisteredDevices = () => {\r\n        const garageRole = this.state.userRoles.find(x => x.role_name === 'garage_door');\r\n        if (garageRole) {\r\n            if (!garageRole.devices || garageRole.devices.length === 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    startedGarageRegistration = () => {\r\n        const garageRole = this.state.userRoles.find(x => x.role_name === 'garage_door');\r\n        return garageRole && garageRole.device_id;\r\n    }\r\n\r\n    getGarageDeviceId = () => {\r\n        const garageRole = this.state.userRoles.find(x => x.role_name === 'garage_door');\r\n        return garageRole && garageRole.device_id ? garageRole.device_id : null;\r\n    }\r\n}\r\n\r\nlet currentState = null;\r\n\r\nexport const getStore = () => {\r\n    if (currentState === null) {\r\n        currentState = new GlobalState();\r\n    }\r\n    return currentState;\r\n}","import base64 from 'base-64';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { getStore } from '../state/GlobalState';\r\n\r\n\r\nconst baseUrl = 'https://www.soaringleafsolutions.com';\r\nconst accountBaseUrl = `${baseUrl}/account`;\r\nconst deviceBaseUrl = `${baseUrl}/devices`;\r\nconst garageBaseUrl = `${baseUrl}/garageDoor`;\r\nconst lightBaseUrl = `${baseUrl}/lights`;\r\nconst sumpBaseUrl = `${baseUrl}/sumpPump`;\r\nconst thermostatBaseUrl = `${baseUrl}/thermostat`;\r\n\r\nexport const getBearerToken = async (username, password) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Basic ${base64.encode(username + \":\" + password)}` } };\r\n\r\n    const response = await fetch(`${baseUrl}/login`, options);\r\n    if (response.ok) {\r\n        const jsonResponse = await response.json();\r\n        const bearerToken = jsonResponse.bearerToken;\r\n        const dataStore = getStore();\r\n        dataStore.setBearerToken(bearerToken);\r\n        const decodedToken = jwt_decode(bearerToken);\r\n        dataStore.setUserId(decodedToken.user.user_id);\r\n        dataStore.setUserRoles(decodedToken.user.roles);\r\n        dataStore.setFirstName(decodedToken.user.first_name)\r\n        dataStore.setLastName(decodedToken.user.last_name)\r\n        return jsonResponse;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const getGarageStatus = async (userId, garageId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/status`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const updateGarageState = async (shouldOpen, userId, garageId) => {\r\n    const request = { 'garageDoorOpen': shouldOpen };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/state`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const toggleGarageDoor = async (userId, garageId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } }\r\n    return await fetch(`${garageBaseUrl}/${garageId}/user/${userId}/toggle`, options);\r\n}\r\n\r\nexport const getSumpLevels = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${sumpBaseUrl}/user/${userId}/depth`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const getCurrentTemperature = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${thermostatBaseUrl}/temperature/${userId}`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const setUserTemperature = async (userId, desiredTemp, mode, isFahrenheit) => {\r\n    const request = { 'desiredTemp': desiredTemp, 'mode': mode, 'isFahrenheit': isFahrenheit }\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${thermostatBaseUrl}/temperature/${userId}`, options);\r\n}\r\n\r\nexport const getUserPreferences = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/preferences`, options);\r\n    return await response.json();\r\n}\r\n\r\nexport const updateUserPreferences = async (userId, isFahrenheit, isImperial, city) => {\r\n    const request = { 'isFahrenheit': isFahrenheit, 'city': city, 'isImperial': isImperial }\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    }\r\n\r\n    return await fetch(`${baseUrl}/userId/${userId}/preferences/update`, options);\r\n}\r\n\r\nexport const getLightGroups = async () => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${lightBaseUrl}/groups`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const setLightGroupState = async (groupId, state, brightness) => {\r\n    const request = { 'groupId': groupId, 'on': state, 'brightness': brightness };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${lightBaseUrl}/group/state`, options);\r\n}\r\n\r\nexport const setLightState = async (lightId, state, brightness) => {\r\n    const request = { 'lightId': lightId, 'on': state, 'brightness': brightness };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${lightBaseUrl}/group/light`, options);\r\n}\r\n\r\nexport const updateUserAccount = async (userId, oldPass, newPass) => {\r\n    const request = { 'oldPassword': oldPass, 'newPassword': newPass };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n\r\n    return await fetch(`${accountBaseUrl}/userId/${userId}/updateAccount`, options);\r\n}\r\n\r\nexport const addUserDevice = async (userId, roleName, ipAddress) => {\r\n    const request = { 'roleName': roleName, 'ipAddress': ipAddress }\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    return await fetch(`${deviceBaseUrl}/userId/${userId}/devices`, options);\r\n}\r\n\r\nexport const addUserDeviceNode = async (userId, deviceId, nodeName) => {\r\n    const request = { 'nodeName': nodeName };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    return await fetch(`${deviceBaseUrl}/userId/${userId}/devices/${deviceId}/node`, options);\r\n}\r\n\r\nexport const getRolesByUserId = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/roles`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const addUserChildAccount = async (userId, email, roles) => {\r\n    const request = { 'email': email, 'roles': roles };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/createChildAccount`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const getUserChildAccounts = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${accountBaseUrl}/userId/${userId}/childAccounts`, options);\r\n    return response.json();\r\n}\r\n\r\nexport const deleteUserChildAccount = async (userId, childAccountId) => {\r\n    const options = { method: 'DELETE', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    return await fetch(`${accountBaseUrl}/userId/${userId}/childUserId/${childAccountId}`, options);\r\n}\r\n\r\nexport const deleteScheduledTask = async (userId, taskId) => {\r\n    const options = { method: 'DELETE', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    return await fetch(`${baseUrl}/userId/${userId}/tasks/${taskId}`, options);\r\n}\r\n\r\nexport const getScheduledTasks = async (userId) => {\r\n    const options = { method: 'GET', headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` } };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const insertLightTask = async (userId, enabled, taskType, alarmLightGroup, alarmGroupName, alarmDays, alarmTime) => {\r\n    const request = { 'alarmLightGroup': alarmLightGroup, 'alarmGroupName': alarmGroupName, 'alarmDays': alarmDays, 'alarmTime': alarmTime, 'enabled': enabled, 'taskType': taskType };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const insertHvacTask = async (userId, enabled, taskType, hvacMode, hvacStart, hvacStop, hvacStartTemp, hvacStopTemp, alarmDays) => {\r\n    const request = { 'hvacMode': hvacMode, 'hvacStart': hvacStart, 'hvacStop': hvacStop, 'hvacStartTemp': hvacStartTemp, 'hvacStopTemp': hvacStopTemp, 'alarmDays': alarmDays, 'enabled': enabled, 'taskType': taskType };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    };\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks`, options);\r\n    return response.json()\r\n}\r\n\r\nexport const updateScheduledTasks = async (userId, taskId, alarmLightGroup, alarmGroupName, alarmDays, alarmTime, enabled, taskType) => {\r\n    const request = { 'taskId': taskId, 'alarmLightGroup': alarmLightGroup, 'alarmGroupName': alarmGroupName, 'alarmDays': alarmDays, 'alarmTime': alarmTime, 'enabled': enabled, 'taskType': taskType };\r\n    const options = {\r\n        method: 'POST',\r\n        headers: { 'Authorization': `Bearer ${getStore().getBearerToken()}` },\r\n        body: JSON.stringify(request)\r\n    }\r\n    const response = await fetch(`${baseUrl}/userId/${userId}/tasks/update`, options);\r\n    return response.json();\r\n}","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Context } from '../../state/Store';\r\nimport { getBearerToken } from '../../utilities/RestApi';\r\nimport { TextField } from '@material-ui/core';\r\nimport './UserPass.css';\r\n\r\n\r\nexport default function UserPass() {\r\n    const [click] = useSound(clickSound, {volume: 0.25});\r\n    const [state, dispatch] = useContext(Context);\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isUsernameInvalid, setIsUsernameInvalid] = useState(undefined);\r\n    const [isPasswordInvalid, setIsPasswordInvalid] = useState(undefined);\r\n    const [isValidLogin, setIsValidLogin] = useState(true);\r\n\r\n    const validateCredentials = async (event) => {\r\n        event.preventDefault();\r\n        click();\r\n        const userInvalid = username === '';\r\n        const passInvalid = password === '';\r\n        setIsUsernameInvalid(userInvalid);\r\n        setIsPasswordInvalid(passInvalid)\r\n        await getBearerTokenFromLogin(userInvalid, passInvalid);\r\n    };\r\n\r\n    const getBearerTokenFromLogin = async (userInvalid, passInvalid) => {\r\n        if (userInvalid === false && passInvalid === false) {\r\n            const response = await getBearerToken(username, password);\r\n            setIsValidLogin(response);\r\n            if (response) {\r\n                const decodedToken = jwt_decode(response.bearerToken);\r\n                await dispatch({ type: 'SET_BEARER_TOKEN', payload: response.bearerToken });\r\n                await dispatch({ type: 'SET_USER_ID', payload: decodedToken.user.user_id });\r\n                await dispatch({ type: 'SET_ROLES', payload: decodedToken.user.roles });\r\n                const garageRole = decodedToken.user.roles.find(x => x.role_name === 'garage_door');\r\n                await dispatch({ type: 'SET_GARAGE_ROLE', payload: garageRole });\r\n                await dispatch({ type: 'SET_FIRST_NAME', payload: decodedToken.user.first_name });\r\n                await dispatch({ type: 'SET_LAST_NAME', payload: decodedToken.user.last_name });\r\n                await dispatch({ type: 'SET_DEVICES_TO_REGISTER', payload: unregisteredDevices(decodedToken.user.roles) });\r\n                await dispatch({ type: 'SET_AUTHENTICATION', payload: true });\r\n                await dispatch({ type: 'SET_STARTED_GARAGE_REGISTRATION', payload: garageRole && garageRole.device_id ? true : false });\r\n                await dispatch({ type: 'SET_DEVICE_ID', payload: garageRole && garageRole.device_id ? garageRole.device_id : null })\r\n            }\r\n        }\r\n    };\r\n\r\n    const unregisteredDevices = (roles) => {\r\n        const garageRole = roles.find(x => x.role_name === 'garage_door');\r\n        if (garageRole) {\r\n            if (!garageRole.devices || garageRole.devices.length === 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    if (state.isAuthenticated) {\r\n        return <Redirect to='/home-automation-ui/home' />\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={validateCredentials} className=\"user-pass-body\">\r\n                <div className=\"column\">\r\n                    <TextField inputProps={{\"data-testid\": \"user-name\"}} className=\"user-pass-input\" error={isUsernameInvalid} onChange={(event) => setUsername(event.target.value)} value={username} variant=\"outlined\" label=\"Username\"/>\r\n                </div>\r\n                <div className=\"column\">\r\n                    <TextField inputProps={{\"data-testid\":\"password\"}} className=\"user-pass-input\" error={isPasswordInvalid} onChange={(event) => setPassword(event.target.value)} value={password} variant=\"outlined\" label=\"Password\" type=\"password\"/>\r\n                </div>\r\n                <div className=\"error-text\">\r\n                    {isValidLogin\r\n                        ? <p></p>\r\n                        : <p>ERROR: Username or Password is invalid!</p>\r\n                    }\r\n                </div>\r\n                <button type=\"submit\" className=\"column success-ripple\">Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}   ","import React from 'react';\r\nimport './Login.css';\r\nimport LogoHeader from '../../components/header/LogoHeader';\r\nimport UserPass from './UserPass';\r\nimport { getStore } from '../../state/GlobalState';\r\n\r\n\r\nexport default function Login() {\r\n    getStore().setActivePage('Login');\r\n\r\n    return (\r\n        <div className=\"login-menu column\">\r\n            <div data-testid={\"login-header\"} className=\"login-header header-text\">\r\n                <LogoHeader />\r\n                <h1>Member Login</h1>\r\n            </div>\r\n            <div className=\"login-body body\">\r\n                <UserPass />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({component: Component, authed, ...rest}) {\r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={(props) => authed === true\r\n            ? <Component {...props} />\r\n            : <Redirect to={{pathname: '/home-automation-ui', state: {from: props.location}}} />}\r\n        />\r\n      )\r\n}","export default __webpack_public_path__ + \"static/media/singleClick.4b7e387e.mp3\";","import React from 'react';\r\nimport './AccountIcon.css';\r\nimport useSound from 'use-sound';\r\nimport singleClickSound from '../../resources/singleClick.mp3';\r\nimport { getStore } from '../../state/GlobalState';\r\n\r\n\r\nexport default function Account(props) {\r\n    const [click] = useSound(singleClickSound, {volume: 0.25});\r\n    const firstInitial = getStore().getFirstName().trim().charAt(0);\r\n    const lastInitial = getStore().getLastName().trim().charAt(0);\r\n\r\n    const handleClick = () => {\r\n        click();\r\n        props.toggle();\r\n    }\r\n\r\n    return (\r\n        <div className=\"account-container\" onClick={handleClick} >\r\n            <div data-testid={\"account-border\"} className=\"account-border\">\r\n                <div data-testid={\"account-center\"} className=\"account-center header-text ripple\">\r\n                    <p data-testid={\"user-initials\"}>{firstInitial + lastInitial}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './AccountMenu.css';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { Context } from '../../state/Store';\r\n\r\n\r\nexport default function AccountSettings(props) {\r\n    let wrapperRef;\r\n    const [activePage,] = useState(getStore().getActivePage());\r\n    const [, dispatch] = useContext(Context);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n    });\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (wrapperRef && !props.parentRef.contains(event.target) && !wrapperRef.contains(event.target)) {\r\n            props.toggle();\r\n        }\r\n    }\r\n\r\n    const getLinks = () => {\r\n        if (activePage === \"Home Automation\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else if (activePage === \"Settings\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else if (activePage === \"Activities\") {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/account'>\r\n                    <li><div className=\"account-button\">Account</div></li>\r\n                </Link>\r\n            </div>\r\n        } else {\r\n            return <div>\r\n                <Link to='/home-automation-ui/home'>\r\n                    <li><div className=\"account-button\">Home</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/activities'>\r\n                    <li><div className=\"account-button\">Activities</div></li>\r\n                </Link>\r\n                <Link to='/home-automation-ui/settings'>\r\n                    <li><div className=\"account-button\">Settings</div></li>\r\n                </Link>\r\n            </div>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"account-menu\" ref={(node) => { wrapperRef = node }}>\r\n            <ul className=\"text\">{getLinks()}\r\n                <Link to='/home-automation-ui'>\r\n                    <li><div className=\"account-button\" onClick={() => dispatch({ type: 'SET_AUTHENTICATION', payload: false })}>Sign Out</div></li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    );\r\n}","import { getSunrise, getSunset } from 'sunrise-sunset-js';\r\n\r\n\r\nexport const debounce = (func, wait) => {\r\n    let timeout;\r\n    return function () {\r\n        const context = this;\r\n        const args = arguments;\r\n        const later = function () {\r\n            timeout = null;\r\n            func.apply(context, args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n    };\r\n};\r\n\r\nexport const debounchApi = debounce(fn => {\r\n    fn();\r\n}, 200);\r\n\r\nexport const isValidIpAddress = (ipAddress) => {\r\n    return (/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipAddress));\r\n}\r\n\r\n//TODO: test this function???\r\nexport const isNightTime = (garageCoords, userCoords) => {\r\n    if (garageCoords !== null) {\r\n        const today = new Date();\r\n        const sunrise = calculateSunrise(garageCoords.latitude, garageCoords.longitude)\r\n        const sunset = calculateSunset(garageCoords.latitude, garageCoords.longitude);\r\n        const isNight = (today >= sunset && today < sunrise);\r\n        return isNight;\r\n    } else if (userCoords !== null) {\r\n        const today = new Date();\r\n        const sunrise = calculateSunrise(userCoords.latitude, userCoords.longitude);\r\n        const sunset = calculateSunset(userCoords.latitude, userCoords.longitude);\r\n        return (today >= sunset && today < sunrise);\r\n    }\r\n}\r\n\r\nconst calculateSunrise = (latitude, longitude) => {\r\n    const today = new Date();\r\n    if (today.getHours() < 12) {\r\n        return getSunrise(latitude, longitude, today);\r\n    } else {\r\n        today.setDate(new Date().getDate() +1);\r\n        return getSunrise(latitude, longitude, today);\r\n    }\r\n}\r\n\r\nconst calculateSunset = (latitude, longitude) => {\r\n    const today = new Date();\r\n    if (today.getHours() < 12) {\r\n        today.setDate(new Date().getDate() -1);\r\n        return getSunset(latitude, longitude, today);\r\n    } else {\r\n        today.setDate(new Date().getDate() +1)\r\n        return getSunset(latitude, longitude, today);\r\n    }\r\n}\r\n\r\nexport const toggleDarkMode = () => {\r\n    localStorage.getItem('theme') === 'theme-dark'\r\n    ? setTheme('theme-light')\r\n    : setTheme('theme-dark')\r\n}\r\n\r\n\r\nexport const setTheme = (themeName) =>  {\r\n    localStorage.setItem('theme', themeName);\r\n    document.documentElement.className = themeName;\r\n}","import { useEffect, useRef } from 'react';\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    };\r\n  }, [delay]);\r\n}","export default __webpack_public_path__ + \"static/media/ding.34c9c941.mp3\";","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport dingSound from '../../../resources/ding.mp3';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { updateGarageState } from '../../../utilities/RestApi';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport { calculateDistanceInMeters } from '../../../utilities/Location';\r\nimport './UserLocation.css';\r\n\r\nexport default function UserLocation() {\r\n    const [ding] = useSound(dingSound, {volume: 0.25});\r\n    const [state, dispatch] = useContext(Context);\r\n    const [cancel, setCancel] = useState(false);\r\n    const [opened, setOpened] = useState(false);\r\n    const [firstCheck, setFirstCheck] = useState(false);\r\n    const [secondCheck, setSecondCheck] = useState(false);\r\n    const [displayMenu, setDisplayMenu] = useState(false);\r\n\r\n    useEffect(() => {\r\n        calculateDistance();\r\n    }, []);\r\n\r\n    //TODO: may not need this with watch position\r\n    useInterval(() => {\r\n        calculateDistance();\r\n    }, 5000);\r\n\r\n    const cancelDoorOpen = () => {\r\n        setCancel(true);\r\n        setDisplayMenu(false);\r\n    }\r\n\r\n    const shouldOpenGarage = (distance) => {\r\n        // DISTANCE COMES IN AS MILES!!!\r\n        // not in garage\r\n        if (distance >= 0.02 && distance < 0.35) {\r\n            if (distance > 0.1 && distance <= 0.3 && !firstCheck && !secondCheck) {\r\n                setFirstCheck(true);\r\n                return false;\r\n            } else if (distance > 0.06 && distance <= 0.1 && firstCheck && !secondCheck) {\r\n                setSecondCheck(true);\r\n                setDisplayMenu(true);\r\n                return false;\r\n            } else if (distance <= 0.04 && secondCheck && firstCheck && !cancel && !opened) {\r\n                ding();\r\n                setDisplayMenu(false);\r\n                setOpened(true);\r\n                return true;\r\n            }\r\n        } else {\r\n            setFirstCheck(false);\r\n            setSecondCheck(false);\r\n            setDisplayMenu(false);\r\n            setCancel(false);\r\n            setOpened(false)\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const calculateDistance = () => {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            // navigator.geolocation.watchPosition((position) => {\r\n            const userCoords = position.coords;\r\n            dispatch({ type: \"SET_USER_COORDS\", payload: userCoords });\r\n            if (state.garageCoords !== null) {\r\n                const garageCoords = state.garageCoords;\r\n                const userDistance = calculateDistanceInMeters(garageCoords.latitude, garageCoords.longitude, userCoords.latitude, userCoords.longitude);\r\n                if (shouldOpenGarage(userDistance)) {\r\n                    console.log('gonna open')\r\n                    updateGarageState(true, state.userId, 1);\r\n                }\r\n            }\r\n        }, (error) => { alert('Enable GPS position feature.') }, { enableHighAccuracy: true });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                displayMenu &&\r\n                <div className=\"auto-open-menu\">\r\n                    <CloseIcon className=\"location-close-icon\" onClick={() => setDisplayMenu(false)} />\r\n                    <div className=\"location-menu-group\">\r\n                        <p className=\"auto-open-menu-text text reduce-margin\">Garage opens in 250ft</p>\r\n                        <button className=\"auto-open-menu-button reduce-margin\" onClick={cancelDoorOpen}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","export const calculateDistanceInMeters = (lat1, long1, lat2, long2) => {\r\n    const meterConversion = 6371e3;\r\n    const φ1 = lat2 * Math.PI / 180;\r\n    const φ2 = lat1 * Math.PI / 180;\r\n    const Δφ = (lat1 - lat2) * Math.PI / 180;\r\n    const Δλ = (long1 - long2) * Math.PI / 180;\r\n\r\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n        Math.cos(φ1) * Math.cos(φ2) *\r\n        Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n    return ((meterConversion * c) * 0.000621371).toFixed(2);\r\n}","import React, { useState, useContext } from 'react';\r\nimport LogoHeader from '../header/LogoHeader';\r\nimport AccountIcon from './AccountIcon';\r\nimport { Context } from '../../state/Store';\r\nimport AccountMenu from '../header/AccountMenu';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { setTheme, isNightTime } from '../../utilities/Services';\r\nimport { useInterval } from '.././../utilities/UseInterval';\r\nimport UserLocation from '../../pages/Home/segments/UserLocation';\r\nimport './Header.css';\r\n\r\n\r\nexport default function Header() {\r\n    const [state,] = useContext(Context);\r\n    const activePage = getStore().getActivePage();\r\n    const [settingsActive, setSettingsActive] = useState(null);\r\n    const [accountWrapperRef, setAccountWrapperRef] = useState(null);\r\n\r\n    useInterval(async () => {\r\n        const isAuto = localStorage.getItem('auto-theme');\r\n        if (isAuto === 'true') {\r\n          isNightTime(state.garageCoords, state.userCoords)\r\n          ? setTheme('theme-dark')\r\n          : setTheme('theme-light')\r\n        }\r\n    }, 60000);\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"home-header\">\r\n                <div className=\"logo-container\">\r\n                    <LogoHeader />\r\n                </div>\r\n                <div></div>\r\n                <div>\r\n                    <h1 className=\"home-header-text header-text\">{activePage}</h1>\r\n                </div>\r\n                <div ref={(node) => { setAccountWrapperRef(node) }}>\r\n                    <AccountIcon toggle={() => setSettingsActive(!settingsActive)} />\r\n                </div>\r\n            </div>\r\n            {settingsActive\r\n                ? <AccountMenu toggle={() => setSettingsActive(!settingsActive)} parentRef={accountWrapperRef} />\r\n                : <div></div>\r\n            }\r\n            <UserLocation />\r\n        </div>\r\n    );\r\n}","import React, { useState, useContext } from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { addUserDeviceNode, getRolesByUserId } from '../../../utilities/RestApi';\r\nimport { CheckCircle } from '@material-ui/icons';\r\nimport { Context } from '../../../state/Store';\r\nimport './AddGarage.css';\r\n\r\nexport default function AddGarage(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [succeeded, setSucceeded] = useState();\r\n    const [garageName, setGarageName] = useState('');\r\n    const [isNameValid, setIsNameValid] = useState(true);\r\n    const [garageTouched, setGarageTouched] = useState(false);\r\n    const [availableNodes, setAvailableNodes] = useState(1);\r\n\r\n    const checkGarageName = (input) => {\r\n        if (availableNodes > 0) {\r\n            const name = input.target.value;\r\n            setGarageTouched(true);\r\n            setIsNameValid(name !== \"\");\r\n            setGarageName(name);\r\n        }\r\n    }\r\n\r\n    const submitGarageDoor = async (event) => {\r\n        event.preventDefault();\r\n        (garageTouched && isNameValid)\r\n            ? updateGarageNode()\r\n            : setIsNameValid(false);\r\n    }\r\n\r\n    const updateGarageNode = async () => {\r\n        const response = await addUserDeviceNode(state.userId, state.deviceId, garageName);\r\n        updateRoles()\r\n        setSucceeded(response.ok);\r\n        const jsonResponse = await response.json();\r\n        setAvailableNodes(jsonResponse.availableNodes);\r\n        dispatch({type: \"SET_ADDED_GARAGE_NODE\", payload: true})\r\n        if (jsonResponse.availableNodes === 0 ) {\r\n            props.close();\r\n        }\r\n    }\r\n\r\n    const updateRoles = async () => {\r\n        const userRoles = await getRolesByUserId(state.userId);\r\n        await dispatch({type: 'SET_ROLES', payload: userRoles.roles});\r\n        const garageRole = userRoles.roles.find(x => x.role_name === 'garage_door');\r\n        await dispatch({type: 'SET_GARAGE_ROLE', payload: garageRole});\r\n    }\r\n\r\n    const resetDevices = () => {\r\n        setSucceeded(false);\r\n        setGarageName('');\r\n        setGarageTouched(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {succeeded\r\n                ? <div>\r\n                    <div className=\"device-group\">\r\n                        <div className=\"device-group\">\r\n                            <CheckCircle className=\"success-text\" />\r\n                            <h2 data-testid={\"data-add-device\"} className=\"device-text text success-text\">Successfully Added</h2>\r\n                        </div>\r\n                        <CloseIcon data-testid={\"garage-close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <div className=\"device-row\">\r\n                        <p className=\"device-text text\">Would you like to setup the remaining ({availableNodes}) openers?</p>\r\n                    </div>\r\n                    <button onClick={resetDevices} className=\"success-ripple\">Add</button>\r\n                </div>\r\n                : <div>\r\n                    <div className=\"device-group\">\r\n                        <h2 data-testid={\"data-add-device\"} className=\" device-text text\">Add Garage Door</h2>\r\n                        <CloseIcon data-testid={\"garage-close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <form onSubmit={submitGarageDoor}>\r\n                        <div className=\"account-row\">\r\n                            <TextField value={garageName} error={!isNameValid} onChange={checkGarageName} variant=\"outlined\" label=\"Garage Name\" />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"success-ripple\">Add</button>\r\n                    </form>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport { isValidIpAddress, debounchApi } from '../../../utilities/Services';\r\nimport { addUserDevice } from '../../../utilities/RestApi';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddGarage from './AddGarage';\r\nimport './RegisterDevice.css';\r\nimport { Context } from '../../../state/Store';\r\n\r\n\r\nexport default function RegisterDevice(props) {\r\n    const [wrapperRef, setWrapperRef] = useState(null);\r\n    const [state, dispatch] = useContext(Context);\r\n    const [ipAddress, setIpAddress] = useState('');\r\n    const [touched, setTouched] = useState(false);\r\n    const [isIpValid, setIsIpValid] = useState(true);\r\n    const [startedRegistration, setStartedRegistration] = useState(false);\r\n    const [transitionComponent, setTransitionComponent] = useState(null);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        setStartedRegistration(state.startedGarageRegistration);\r\n    });\r\n\r\n    const checkIpAddress = (input) => {\r\n        const ipAddress = input.target.value;\r\n        debounchApi(() => setIsIpValid(isValidIpAddress(ipAddress)));\r\n        setIpAddress(ipAddress);\r\n        setTouched(true);\r\n    }\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (wrapperRef && !props.parentRef.contains(event.target) && !wrapperRef.contains(event.target)) {\r\n            props.close();\r\n        }\r\n    }\r\n\r\n    const submitDevice = async (event) => {\r\n        event.preventDefault();\r\n        if (isIpValid && touched) {\r\n            const response = await addUserDevice(state.userId, 'garage_door', ipAddress)\r\n            const responseObj = await response.json();\r\n            dispatch({type: 'SET_STARTED_GARAGE_REGISTRATION', payload: true})\r\n            dispatch({type: 'SET_DEVICE_ID', payload: responseObj.deviceId});\r\n            setTransitionComponent(response.ok);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"device-menu\" ref={(node) => {setWrapperRef(node)}}>\r\n            {transitionComponent || startedRegistration\r\n                ? <AddGarage close={props.close} />\r\n                : <div>\r\n                    <div className=\"device-group\">\r\n                        <h2 data-testid={\"data-add-device\"} className=\" device-text text\">Add Device</h2>\r\n                        <CloseIcon data-testid={\"close-button\"} onClick={() => props.close()} className=\"close-icon\" />\r\n                    </div>\r\n                    <form onSubmit={submitDevice}>\r\n                        <div className=\"account-row\">\r\n                            <TextField value={ipAddress} error={!isIpValid} onChange={checkIpAddress} variant=\"outlined\" label=\"IP Address\" />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"success-ripple\">Next</button>\r\n                    </form>\r\n                </div>\r\n            }\r\n            </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/GarageDoorIcon.a5f44f42.png\";","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport useSound from 'use-sound';\r\nimport dingSound from '../../../resources/ding.mp3';\r\nimport clickSound from '../../../resources/click.mp3';\r\nimport { ExpansionPanelDetails, ExpansionPanelActions } from '@material-ui/core';\r\nimport { toggleGarageDoor, updateGarageState, getGarageStatus } from '../../../utilities/RestApi';\r\n\r\n\r\nexport default function GarageDoor(props) {\r\n    const [ding] = useSound(dingSound, {volume: 0.25});\r\n    const [click] = useSound(clickSound, {volume: 0.25});\r\n    const [state, dispatch] = useContext(Context);\r\n    const [isOpen, setIsOpen] = useState();\r\n    const [duration, setDuration] = useState();\r\n    const [statusDays, setStatusDays] = useState();\r\n    const [statusMins, setStatusMins] = useState();\r\n    const [statusHours, setStatusHours] = useState();\r\n\r\n    useEffect(() => {\r\n        getGarageData();\r\n    }, []);\r\n\r\n    useInterval(() => {\r\n        updateGarageDuration();\r\n    }, 1000);\r\n\r\n    useInterval(async () => {\r\n        await getGarageData();\r\n    }, 20000);\r\n\r\n    const updateGarageDuration = () => {\r\n        const diffMs = new Date() - new Date(duration);\r\n        setStatusDays(Math.floor(diffMs / 86400000));\r\n        setStatusHours(Math.floor((diffMs % 86400000) / 3600000));\r\n        setStatusMins(Math.round(((diffMs % 86400000) % 3600000) / 60000));\r\n    };\r\n\r\n    const getGarageData = async () => {\r\n        const garageStatus = await getGarageStatus(state.userId, props.device.node_device);\r\n        setIsOpen(garageStatus.isGarageOpen);\r\n        setDuration(garageStatus.statusDuration);\r\n        dispatch({ type: 'SET_GARAGE_COORDS', payload: garageStatus.coordinates });\r\n        dispatch({ type: 'UPDATE_GARAGE_DOORS', payload: { 'doorName': props.device.node_name, 'isOpen': garageStatus.isGarageOpen } });\r\n    };\r\n\r\n    const openCloseGarageDoor = (newState) => {\r\n        newState ? ding() : click()\r\n        updateGarageState(newState, state.userId, props.device.node_device);\r\n        setIsOpen(newState);\r\n    }\r\n\r\n    const toggleDoor = () => {\r\n        toggleGarageDoor(state.userId, props.device.node_device);\r\n        click();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanelDetails className=\"center\">\r\n                <div className=\"status-text-group\">\r\n                    <p className=\"door-status text\">Door: </p>\r\n                    <p className=\"status-text-bold text\">{props.device.node_name}</p>\r\n                </div>\r\n                <div className=\"status-text-group\">\r\n                    <p className=\"door-status text\">Status: </p>\r\n                    {isOpen\r\n                        ? <p className=\"status-text-bold text close\">Open</p>\r\n                        : <p className=\"status-text-bold text open\">Closed</p>}\r\n                </div>\r\n                <div className=\"status-text-group\">\r\n                    <p className=\"door-status text\">Duration: </p>\r\n                    {statusDays === 0\r\n                        ? <div />\r\n                        : <p className=\"status-text-bold text\">{statusDays}Days</p>}\r\n                    <p className=\"status-text-bold text\">{statusHours}Hr</p>\r\n                    {statusDays === 0\r\n                        ? <p className=\"status-text-bold text\">{statusMins}Min</p>\r\n                        : <div />}\r\n                </div>\r\n            </ExpansionPanelDetails>\r\n            <ExpansionPanelActions>\r\n                {isOpen\r\n                    ? <button data-testid={\"update-garage-close\"} className=\"close-button cancel-ripple\" onClick={() => openCloseGarageDoor(false)}>Close</button>\r\n                    : <button data-testid={\"update-garage-open\"} className=\"open-button success-ripple\" onClick={() => openCloseGarageDoor(true)}>Open</button>}\r\n                <button data-testid={\"toggle-garage-button\"} className=\"toggle-button ripple\" onClick={toggleDoor}>Toggle</button>\r\n            </ExpansionPanelActions>\r\n        </div>\r\n    );\r\n}","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport RegisterDevice from '../segments/RegisterDevice';\r\nimport GarageIcon from '../../../resources/panelIcons/GarageDoorIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport './GaragePanel.css';\r\nimport GarageDoor from '../segments/GarageDoor';\r\n\r\n\r\nexport default function GaragePanel() {\r\n    const [open, setOpen] = useState(false);\r\n    const [state, dispatch] = useContext(Context);\r\n    const [displayRegister, setDisplayRegister] = useState(false);\r\n    const [wrapperRef, setWrapperRef] = useState(null);\r\n\r\n    const renderDoors = () => {\r\n        //TODO: need to test all of this behavior\r\n        const devices = state.garageRole.devices;\r\n        if (devices && devices.length > 0) {\r\n            return devices.map(x => <GarageDoor key={`door-${x.node_device}`} device={x} />);\r\n        }\r\n        return <p>No Garge devices have been registered</p>\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setDisplayRegister(false);\r\n        if (state.addedGarageNode)\r\n            dispatch({ type: 'SET_DEVICES_TO_REGISTER', payload: false });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel className=\"garage-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => { setOpen(!open) }}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img data-testid={\"garage-icon\"} alt=\"garage\" className=\"logo-image\" src={GarageIcon} />\r\n                        </div>\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Garage</Typography>\r\n                            <div className=\"small-text-container\">\r\n                                {!open &&\r\n                                    state.garageDoors.map(x => {\r\n                                        return <div className=\"small-text-group\" key={`door-notify-${x.doorName}`}>\r\n                                            <p className=\"small-text text\">{x.doorName}:</p>\r\n                                            <p className=\"small-text text\">{x.isOpen === true ? 'Open' : 'Closed'}</p>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                {state.devicesToRegister\r\n                    ? <ExpansionPanelDetails className=\"center\">\r\n                        <div>\r\n                            <h2 className=\"status-text-bold text\">Register New Device!</h2>\r\n                            <Divider />\r\n                            <div>\r\n                                <p className=\"status-text text\">A new device has been detected and needs to be registered.</p>\r\n                            </div>\r\n                            <button data-testid={\"register-device-button\"} onClick={() => setDisplayRegister(true)}>Register</button>\r\n                            <div ref={(node) => { setWrapperRef(node) }}>\r\n                                {displayRegister && <RegisterDevice close={closeModal} parentRef={wrapperRef} />}\r\n                            </div>\r\n                        </div>\r\n                    </ExpansionPanelDetails>\r\n                    : <div className=\"door-groups\">{renderDoors()}</div>\r\n                }\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/SumpPumpLowIcon.ce93c918.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpMediumLowIcon.244a4245.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpMediumHighIcon.fbe6f63b.png\";","export default __webpack_public_path__ + \"static/media/SumpPumpHighIcon.a84adbb0.png\";","import React, { useEffect, useState } from 'react';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport BasementIcon from '../../../resources/panelIcons/BasementIcon.png';\r\nimport SumpPumpLowIcon from '../../../resources/panelIcons/SumpPumpLowIcon.png';\r\nimport SumpPumpMediumLowIcon from '../../../resources/panelIcons/SumpPumpMediumLowIcon.png';\r\nimport SumpPumpMediumHighIcon from '../../../resources/panelIcons/SumpPumpMediumHighIcon.png';\r\nimport SumpPumpHighIcon from '../../../resources/panelIcons/SumpPumpHighIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport './BasementPanel.css';\r\nimport { getSumpLevels } from '../../../utilities/RestApi';\r\nimport { getStore } from '../../../state/GlobalState';\r\n\r\n\r\nexport default function BasementPanel() {\r\n    const [open, setOpen] = useState(false);\r\n    const [depthUnit, setDepthUnit] = useState(null);\r\n    const [warningLevel, setWarningLevel] = useState(0);\r\n    const [currentSumpDepth, setCurrentSumpDepth] = useState(0.0);\r\n    const [averageSumpDepth, setAverageSumpDepth] = useState(0.0);\r\n\r\n    useEffect(() => {\r\n        getSumpData();\r\n    }, []);\r\n\r\n    useInterval(async () => {\r\n        await getSumpData();\r\n    }, 120000);\r\n\r\n    const getSumpData = async () => {\r\n        const response = await getSumpLevels(getStore().getUserId());\r\n        setWarningLevel(response.warningLevel);\r\n        setDepthUnit(response.depthUnit);\r\n        setCurrentSumpDepth(response.currentDepth.toFixed(1));\r\n        setAverageSumpDepth(response.averageDepth.toFixed(1));\r\n    };\r\n\r\n    const getSumpIcon = () => {\r\n        if (warningLevel === 0) {\r\n            return <img data-testid={\"warning-low\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpLowIcon} label=\"warning-low\" />\r\n        } else if (warningLevel === 1) {\r\n            return <img data-testid={\"warning-medium-low\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpMediumLowIcon} label=\"warning-medium-low\" />\r\n        } else if (warningLevel === 2) {\r\n            return <img data-testid={\"warning-medium-high\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpMediumHighIcon} label=\"warning-medium-high\" />\r\n        } else if (warningLevel === 3) {\r\n            return <img data-testid={\"warning-high\"} alt=\"sump pump\" className=\"sump-icon\" src={SumpPumpHighIcon} label=\"warning-high\" />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"basement-panel\"} className=\"basement-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => { setOpen(!open) }}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img data-testid={\"sump-logo\"} alt=\"basement\" className=\"logo-image\" src={BasementIcon} />\r\n                        </div>\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Basement</Typography>\r\n                            {!open &&\r\n                                <div className=\"small-text-group\">\r\n                                    <p className=\"small-text text\">Depth:</p>\r\n                                    <p className={\"small-text text \" + (warningLevel === 3 ? 'alert' : 'healthy')}>{currentSumpDepth}</p>\r\n                                    <p className={\"small-text text \" + (warningLevel === 3 ? 'alert' : 'healthy')}>{depthUnit}</p>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div className=\"sump-group\">\r\n                        {getSumpIcon()}\r\n                        <div className=\"sump-measure-group\">\r\n                            <div className=\"sump-text-group\">\r\n                                <p className=\"current-text sump-text text\">Current: </p>\r\n                                <p className={\"current-depth sump-text text \" + (warningLevel === 3 ? 'alert' : 'healthy')}>{currentSumpDepth}</p>\r\n                                <p className={\"current-text sump-text text \" + (warningLevel === 3 ? 'alert' : 'healthy')}>{depthUnit}</p>\r\n                            </div>\r\n                            <div className=\"sump-text-group\">\r\n                                <p className=\"average-text sump-text text\">Average: </p>\r\n                                <p className=\"average-depth sump-text text\">{averageSumpDepth}</p>\r\n                                <p className=\"average-text sump-text text\">{depthUnit}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div >\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Knob extends React.Component {\r\n    static propTypes = {\r\n        value: PropTypes.number.isRequired,\r\n        onChange: PropTypes.func.isRequired,\r\n        onChangeEnd: PropTypes.func,\r\n        min: PropTypes.number,\r\n        max: PropTypes.number,\r\n        step: PropTypes.number,\r\n        log: PropTypes.bool,\r\n        width: PropTypes.number,\r\n        height: PropTypes.number,\r\n        thickness: PropTypes.number,\r\n        lineCap: PropTypes.oneOf(['butt', 'round']),\r\n        bgColor: PropTypes.string,\r\n        fgColor: PropTypes.string,\r\n        inputColor: PropTypes.string,\r\n        font: PropTypes.string,\r\n        fontWeight: PropTypes.string,\r\n        clockwise: PropTypes.bool,\r\n        cursor: PropTypes.oneOfType([\r\n            PropTypes.number,\r\n            PropTypes.bool,\r\n        ]),\r\n        stopper: PropTypes.bool,\r\n        readOnly: PropTypes.bool,\r\n        disableTextInput: PropTypes.bool,\r\n        displayInput: PropTypes.bool,\r\n        displayCustom: PropTypes.func,\r\n        angleArc: PropTypes.number,\r\n        angleOffset: PropTypes.number,\r\n        disableMouseWheel: PropTypes.bool,\r\n        title: PropTypes.string,\r\n        className: PropTypes.string,\r\n        canvasClassName: PropTypes.string,\r\n    };\r\n\r\n    static defaultProps = {\r\n        onChangeEnd: () => { },\r\n        min: 0,\r\n        max: 100,\r\n        step: 1,\r\n        log: false,\r\n        width: 200,\r\n        height: 200,\r\n        thickness: 0.35,\r\n        lineCap: 'butt',\r\n        bgColor: '#EEE',\r\n        fgColor: '#EA2',\r\n        inputColor: '',\r\n        font: 'Arial',\r\n        fontWeight: 'bold',\r\n        clockwise: true,\r\n        cursor: false,\r\n        stopper: true,\r\n        readOnly: false,\r\n        disableTextInput: false,\r\n        displayInput: true,\r\n        angleArc: 360,\r\n        angleOffset: 0,\r\n        disableMouseWheel: false,\r\n        className: null,\r\n        canvasClassName: null,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.w = this.props.width || 200;\r\n        this.h = this.props.height || this.w;\r\n        this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\r\n        this.angleArc = this.props.angleArc * Math.PI / 180;\r\n        this.angleOffset = this.props.angleOffset * Math.PI / 180;\r\n        this.startAngle = (1.5 * Math.PI) + this.angleOffset;\r\n        this.endAngle = (1.5 * Math.PI) + this.angleOffset + this.angleArc;\r\n        this.digits = Math.max(\r\n            String(Math.abs(this.props.min)).length,\r\n            String(Math.abs(this.props.max)).length,\r\n            2\r\n        ) + 2;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawCanvas();\r\n        if (!this.props.readOnly) {\r\n            this.canvasRef.addEventListener('touchstart', this.handleTouchStart, { passive: false });\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.width && this.w !== nextProps.width) {\r\n            this.w = nextProps.width;\r\n        }\r\n        if (nextProps.height && this.h !== nextProps.height) {\r\n            this.h = nextProps.height;\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawCanvas();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\r\n    }\r\n\r\n    getArcToValue = (v) => {\r\n        let startAngle;\r\n        let endAngle;\r\n        const angle = !this.props.log\r\n            ? ((v - this.props.min) * this.angleArc) / (this.props.max - this.props.min)\r\n            : Math.log(Math.pow((v / this.props.min), this.angleArc)) / Math.log(this.props.max / this.props.min);\r\n        if (!this.props.clockwise) {\r\n            startAngle = this.endAngle + 0.00001;\r\n            endAngle = startAngle - angle - 0.00001;\r\n        } else {\r\n            startAngle = this.startAngle - 0.00001;\r\n            endAngle = startAngle + angle + 0.00001;\r\n        }\r\n        if (this.props.cursor) {\r\n            startAngle = endAngle - this.cursorExt;\r\n            endAngle += this.cursorExt;\r\n        }\r\n        return {\r\n            startAngle,\r\n            endAngle,\r\n            acw: !this.props.clockwise && !this.props.cursor,\r\n        };\r\n    };\r\n\r\n    // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\r\n    getCanvasScale = (ctx) => {\r\n        const devicePixelRatio = window.devicePixelRatio ||\r\n            window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\r\n            1;\r\n        const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\r\n        return devicePixelRatio / backingStoreRatio;\r\n    };\r\n\r\n    coerceToStep = (v) => {\r\n        let val = !this.props.log\r\n            ? (~~(((v < 0) ? -0.5 : 0.5) + (v / this.props.step))) * this.props.step\r\n            : Math.pow(this.props.step, ~~(((Math.abs(v) < 1) ? -0.5 : 0.5) + (Math.log(v) / Math.log(this.props.step))));\r\n        val = Math.max(Math.min(val, this.props.max), this.props.min);\r\n        if (isNaN(val)) { val = 0; }\r\n        return Math.round(val * 1000) / 1000;\r\n    };\r\n\r\n    eventToValue = (e) => {\r\n        const bounds = this.canvasRef.getBoundingClientRect();\r\n        const x = e.clientX - bounds.left;\r\n        const y = e.clientY - bounds.top;\r\n        let a = Math.atan2(x - (this.w / 2), (this.w / 2) - y) - this.angleOffset;\r\n        if (!this.props.clockwise) {\r\n            a = this.angleArc - a - (2 * Math.PI);\r\n        }\r\n        if (this.angleArc !== Math.PI * 2 && (a < 0) && (a > -0.5)) {\r\n            a = 0;\r\n        } else if (a < 0) {\r\n            a += Math.PI * 2;\r\n        }\r\n        const val = !this.props.log\r\n            ? (a * (this.props.max - this.props.min) / this.angleArc) + this.props.min\r\n            : Math.pow(this.props.max / this.props.min, a / this.angleArc) * this.props.min;\r\n        return this.coerceToStep(val);\r\n    };\r\n\r\n    handleMouseDown = (e) => {\r\n        this.props.onChange(this.eventToValue(e));\r\n        document.addEventListener('mousemove', this.handleMouseMove);\r\n        document.addEventListener('mouseup', this.handleMouseUp);\r\n        document.addEventListener('keyup', this.handleEsc);\r\n    };\r\n\r\n    handleMouseMove = (e) => {\r\n        e.preventDefault();\r\n        this.props.onChange(this.eventToValue(e));\r\n    };\r\n\r\n    handleMouseUp = (e) => {\r\n        this.props.onChangeEnd(this.eventToValue(e));\r\n        document.removeEventListener('mousemove', this.handleMouseMove);\r\n        document.removeEventListener('mouseup', this.handleMouseUp);\r\n        document.removeEventListener('keyup', this.handleEsc);\r\n    };\r\n\r\n    handleTouchStart = (e) => {\r\n        e.preventDefault();\r\n        this.touchIndex = e.targetTouches.length - 1;\r\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n        document.addEventListener('touchmove', this.handleTouchMove, { passive: false });\r\n        document.addEventListener('touchend', this.handleTouchEnd);\r\n        document.addEventListener('touchcancel', this.handleTouchEnd);\r\n    };\r\n\r\n    handleTouchMove = (e) => {\r\n        e.preventDefault();\r\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n    };\r\n\r\n    handleTouchEnd = (e) => {\r\n        this.props.onChangeEnd(this.eventToValue(e));\r\n        document.removeEventListener('touchmove', this.handleTouchMove);\r\n        document.removeEventListener('touchend', this.handleTouchEnd);\r\n        document.removeEventListener('touchcancel', this.handleTouchEnd);\r\n    };\r\n\r\n    handleEsc = (e) => {\r\n        if (e.keyCode === 27) {\r\n            e.preventDefault();\r\n            this.handleMouseUp();\r\n        }\r\n    };\r\n\r\n    handleTextInput = (e) => {\r\n        const val = Math.max(Math.min(+e.target.value, this.props.max), this.props.min) || this.props.min;\r\n        this.props.onChange(val);\r\n    };\r\n\r\n    handleWheel = (e) => {\r\n        e.preventDefault();\r\n        if (e.deltaX > 0 || e.deltaY > 0) {\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value + this.props.step\r\n                    : this.props.value * this.props.step\r\n            ));\r\n        } else if (e.deltaX < 0 || e.deltaY < 0) {\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value - this.props.step\r\n                    : this.props.value / this.props.step\r\n            ));\r\n        }\r\n    };\r\n\r\n    handleArrowKey = (e) => {\r\n        if (e.keyCode === 37 || e.keyCode === 40) {\r\n            e.preventDefault();\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value - this.props.step\r\n                    : this.props.value / this.props.step\r\n            ));\r\n        } else if (e.keyCode === 38 || e.keyCode === 39) {\r\n            e.preventDefault();\r\n            this.props.onChange(this.coerceToStep(\r\n                !this.props.log\r\n                    ? this.props.value + this.props.step\r\n                    : this.props.value * this.props.step\r\n            ));\r\n        }\r\n    };\r\n\r\n    inputStyle = () => ({\r\n        width: `${((this.w / 2) + 4) >> 0}px`,\r\n        height: `${(this.w / 3) >> 0}px`,\r\n        position: 'absolute',\r\n        verticalAlign: 'middle',\r\n        marginTop: `${(this.w / 3) >> 0}px`,\r\n        marginLeft: `-${((this.w * 3 / 4) + 2) >> 0}px`,\r\n        border: 0,\r\n        background: 'none',\r\n        font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${this.props.font}`,\r\n        textAlign: 'center',\r\n        color: this.props.inputColor || this.props.fgColor,\r\n        padding: '0px',\r\n        WebkitAppearance: 'none',\r\n    });\r\n\r\n    drawCanvas() {\r\n        const ctx = this.canvasRef.getContext('2d');\r\n        const scale = this.getCanvasScale(ctx);\r\n        this.canvasRef.width = this.w * scale; // clears the canvas\r\n        this.canvasRef.height = this.h * scale;\r\n        ctx.scale(scale, scale);\r\n        this.xy = this.w / 2; // coordinates of canvas center\r\n        this.lineWidth = this.xy * this.props.thickness;\r\n        this.radius = this.xy - (this.lineWidth / 2);\r\n        ctx.lineWidth = this.lineWidth;\r\n        ctx.lineCap = this.props.lineCap;\r\n        // background arc\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = this.props.bgColor;\r\n        ctx.arc(\r\n            this.xy,\r\n            this.xy,\r\n            this.radius,\r\n            this.endAngle - 0.00001,\r\n            this.startAngle + 0.00001,\r\n            true\r\n        );\r\n        ctx.stroke();\r\n        // foreground arc\r\n        const a = this.getArcToValue(this.props.value);\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = this.props.fgColor;\r\n        ctx.arc(\r\n            this.xy,\r\n            this.xy,\r\n            this.radius,\r\n            a.startAngle,\r\n            a.endAngle,\r\n            a.acw\r\n        );\r\n        ctx.stroke();\r\n    }\r\n\r\n    renderCenter = () => {\r\n        const {\r\n            displayCustom,\r\n            displayInput,\r\n            disableTextInput,\r\n            readOnly,\r\n            value,\r\n        } = this.props;\r\n\r\n        if (displayInput) {\r\n            return (\r\n                <input\r\n                    style={this.inputStyle()}\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={this.handleTextInput}\r\n                    onKeyDown={this.handleArrowKey}\r\n                    readOnly={readOnly || disableTextInput}\r\n                />\r\n            );\r\n        } else if (displayCustom && typeof displayCustom === 'function') {\r\n            return displayCustom();\r\n        }\r\n        return null;\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            canvasClassName,\r\n            className,\r\n            disableMouseWheel,\r\n            readOnly,\r\n            title,\r\n            value,\r\n        } = this.props;\r\n\r\n        return (\r\n            <div\r\n                className={className}\r\n                style={{ width: this.w, height: this.h, display: 'inline-block' }}\r\n                onWheel={readOnly || disableMouseWheel ? null : this.handleWheel}\r\n            >\r\n                <canvas\r\n                    ref={(ref) => { this.canvasRef = ref; }}\r\n                    className={canvasClassName}\r\n                    style={{ width: '100%', height: '100%' }}\r\n                    onMouseDown={readOnly ? null : this.handleMouseDown}\r\n                    title={title ? `${title}: ${value}` : value}\r\n                />\r\n                {this.renderCenter()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Knob;","export default __webpack_public_path__ + \"static/media/sunny.88ed0479.png\";","export default __webpack_public_path__ + \"static/media/drizzle.b661151e.png\";","export default __webpack_public_path__ + \"static/media/cloudy.eeb563ba.png\";","export default __webpack_public_path__ + \"static/media/partly_cloudy.e89b42bf.png\";","export default __webpack_public_path__ + \"static/media/partly_cloudy_night.c2747133.png\";","export default __webpack_public_path__ + \"static/media/heavy_snow.b490b750.png\";","export default __webpack_public_path__ + \"static/media/light_snow.33555d78.png\";","export default __webpack_public_path__ + \"static/media/light_rain.ca7090b7.png\";","export default __webpack_public_path__ + \"static/media/heavy_rain.ea2f0db4.png\";","export default __webpack_public_path__ + \"static/media/thunderstorm.30c83f95.png\";","export default __webpack_public_path__ + \"static/media/home.df3810cf.png\";","export default __webpack_public_path__ + \"static/media/clear_night.8df06958.png\";","export default __webpack_public_path__ + \"static/media/misty.1a412d3c.png\";","import React, { useState, useEffect, useContext } from 'react';\r\nimport { isNightTime } from '../../../utilities/Services';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport { Context } from '../../../state/Store';\r\nimport ClearIcon from '../../../resources/weatherIcons/sunny.png';\r\nimport DrizzleIcon from '../../../resources/weatherIcons/drizzle.png';\r\nimport CloudyIcon from '../../../resources/weatherIcons/cloudy.png';\r\nimport PartlyCloudyIcon from '../../../resources/weatherIcons/partly_cloudy.png';\r\nimport PartlyCloudNightIcon from '../../../resources/weatherIcons/partly_cloudy_night.png';\r\nimport SnowyIcon from '../../../resources/weatherIcons/heavy_snow.png';\r\nimport LightSnowIcon from '../../../resources/weatherIcons/light_snow.png';\r\nimport LightRainIcon from '../../../resources/weatherIcons/light_rain.png';\r\nimport HeavyRainIcon from '../../../resources/weatherIcons/heavy_rain.png';\r\nimport ThunderstormIcon from '../../../resources/weatherIcons/thunderstorm.png';\r\nimport HomeIcon from '../../../resources/weatherIcons/home.png';\r\nimport ClearNightIcon from '../../../resources/weatherIcons/clear_night.png';\r\nimport MistIcon from '../../../resources/weatherIcons/misty.png';\r\nimport './TemperatureImage.css'\r\n\r\n\r\nexport default function TemperatureImage(props) {\r\n    const [state,] = useContext(Context);\r\n    const [isNight, setIsNight] = useState(false);\r\n    const [weatherIcon, setWeatherIcon] = useState();\r\n    const [weatherDesc, setWeatherDesc] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setIsNight(isNightTime(state.garageCoords, state.userCoords));\r\n        getWeatherImage();\r\n    });\r\n\r\n    useInterval(() => {\r\n        setIsNight(isNightTime(state.garageCoords, state.userCoords));\r\n        getWeatherImage();\r\n    }, 20000);\r\n\r\n    const weatherTypes = {\r\n        \"light intensity drizzle\": DrizzleIcon, \"drizzle\": DrizzleIcon, \"drizzle rain\": DrizzleIcon, \"heavy intensity drizzle\": DrizzleIcon, \"mist\": MistIcon,\r\n        \"light intensity drizzle rain\": DrizzleIcon, \"shower drizzle\": DrizzleIcon, \"light rain\": LightRainIcon, \"moderate rain\": LightRainIcon,\r\n        \"heavy intensity rain\": HeavyRainIcon, \"very heavy rain\": HeavyRainIcon, \"extreme rain\": HeavyRainIcon, \"shower rain\": HeavyRainIcon, \"light snow\": LightSnowIcon,\r\n        \"heavy intensity shower rain\": HeavyRainIcon, \"clear sky\": ClearIcon, \"few clouds\": PartlyCloudyIcon, \"scattered clouds\": PartlyCloudyIcon, \"snow\": LightSnowIcon,\r\n        \"heavy snow\": SnowyIcon, \"sleet\": SnowyIcon, \"few clouds night\": PartlyCloudNightIcon, \"clear sky night\": ClearNightIcon, \"scattered clouds night\": PartlyCloudNightIcon\r\n    };\r\n\r\n    const getWeatherLabel = (weather) => {\r\n        return weather.replace(/_/g, \" \").replace(\".png\", \"\");\r\n    }\r\n\r\n    const getWeatherImage = () => {\r\n        const weatherDesc = props.description.toLowerCase();\r\n        if (weatherDesc.includes(\"thunderstorm\")) {\r\n            setWeatherIcon(ThunderstormIcon);\r\n            setWeatherDesc(\"thunderstorms\");\r\n        } else if (isNight && (weatherDesc === \"clear sky\" || weatherDesc === \"few clouds\" || weatherDesc === \"scattered clouds\")) {\r\n            const nightWeatherDesc = `${weatherDesc} night`\r\n            setWeatherIcon(weatherTypes[nightWeatherDesc]);\r\n            setWeatherDesc(getWeatherLabel(weatherTypes[nightWeatherDesc]));\r\n        } else if (weatherDesc in weatherTypes) {\r\n            setWeatherIcon(weatherTypes[weatherDesc]);\r\n            setWeatherDesc(getWeatherLabel(weatherTypes[weatherDesc]));\r\n        } else {\r\n            setWeatherIcon(CloudyIcon);\r\n            setWeatherDesc(\"cloudy\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"temp-container\">\r\n            <div className=\"temp-external-container\">\r\n                <img className=\"weather-icon\" alt=\"description\" src={weatherIcon} label={weatherDesc} />\r\n                <p data-testid={\"external-temp\"} className=\"external-temp text\">{props.external}&deg;</p>\r\n            </div>\r\n            <div className=\"temp-home-container\">\r\n                <img className=\"home-icon\" alt=\"home\" src={HomeIcon} />\r\n                <p data-testid={\"internal-temp\"} className=\"internal-temp text\">{props.internal}&deg;</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/TemperatureIcon.acfe210a.png\";","import { withStyles } from '@material-ui/core/styles';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\n\r\nexport const HeatSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#db5127\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#db5127\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);\r\n\r\nexport const CoolSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#27aedb\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#27aedb\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);\r\n\r\nexport const AutoSwitch = withStyles({\r\n  switchBase: {\r\n    color: \"#fafafa\",\r\n    '&$checked': {\r\n      color: \"#00c774\",\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: \"#00c774\",\r\n    },\r\n  },\r\n  checked: {},\r\n  track: {},\r\n})(Switch);","import React, { useState, useEffect } from 'react';\r\nimport useSound from 'use-sound';\r\nimport Knob from '../../../components/controls/Knob';\r\nimport { getStore } from '../../../state/GlobalState';\r\nimport { debounchApi } from '../../../utilities/Services';\r\nimport { useInterval } from '../../../utilities/UseInterval';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport TemperatureImage from '../segments/TemperatureImage';\r\nimport singleClickSound from '../../../resources/singleClick.mp3';\r\nimport TemperatureIcon from '../../../resources/panelIcons/TemperatureIcon.png';\r\nimport { getCurrentTemperature, setUserTemperature } from '../../../utilities/RestApi';\r\nimport { ExpansionPanel, Typography, ExpansionPanelSummary, Divider, FormControl, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport './TemperaturePanel.css';\r\nimport { AutoSwitch, CoolSwitch, HeatSwitch } from '../../../components/controls/Switches';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\n\r\nexport default function TemperaturePanel() {\r\n    const [click] = useSound(singleClickSound, { volume: 0.25 });\r\n    const [open, setOpen] = useState(false);\r\n    const [mode, setMode] = useState(\"heating\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [displayColor, setDisplayColor] = useState(\"#A0A0A0\");\r\n    const [isAuto, setIsAuto] = useState(false);\r\n    const [isHeating, setIsHeating] = useState(false);\r\n    const [isCooling, setIsCooling] = useState(false);\r\n    const [isFahrenheit, setIsFahrenheit] = useState(true);\r\n    const [desiredTemp, setDesiredTemp] = useState(0.0);\r\n    const [externalTemp, setExternalTemp] = useState(0.0);\r\n    const [internalTemp, setInternalTemp] = useState(0.0);\r\n    const [minThermostatTemp, setMinThermostatTemp] = useState(0.0);\r\n    const [maxThermostatTemp, setMaxThermostatTemp] = useState(0.0);\r\n\r\n    useEffect(() => {\r\n        getTempData();\r\n    }, []);\r\n\r\n    useInterval(async () => {\r\n        await getTempData();\r\n    }, 60000);\r\n\r\n    const getTempData = async () => {\r\n        const response = await getCurrentTemperature(getStore().getUserId());\r\n        setExternalTemp(Math.round(response.temp));\r\n        setInternalTemp(Math.round(response.currentTemp));\r\n        setIsFahrenheit(response.isFahrenheit);\r\n        setDesiredTemp(response.desiredTemp === null ? parseFloat(response.currentTemp.toFixed(0)) : parseFloat(response.desiredTemp.toFixed(0)));\r\n        setMinThermostatTemp(response.minThermostatTemp);\r\n        setMaxThermostatTemp(response.maxThermostatTemp);\r\n        setIsCooling(response.mode === \"cooling\" ? true : false);\r\n        setIsHeating(response.mode === \"heating\" ? true : false);\r\n        setIsAuto(response.mode === \"auto\" ? true : false);\r\n        setMode(response.mode);\r\n        setDescription(response.description);\r\n        toggleColor(response.mode);\r\n    };\r\n\r\n    const knobChange = (newValue) => {\r\n        if (isHeating || isCooling) {\r\n            setDesiredTemp(newValue);\r\n            debounchApi(() => setUserTemperature(getStore().getUserId(), newValue, mode, isFahrenheit));\r\n        }\r\n    }\r\n\r\n    const toggleHvac = (newMode) => {\r\n        click();\r\n        const heatState = (newMode === \"heating\" && !isHeating) ? true : false\r\n        const coldState = (newMode === \"cooling\" && !isCooling) ? true : false;\r\n        const autoState = (newMode === \"auto\" && !isAuto) ? true : false;\r\n        const modeState = getToggledMode(heatState, coldState, autoState);\r\n        setIsHeating(heatState);\r\n        setIsCooling(coldState);\r\n        setIsAuto(autoState)\r\n        setMode(newMode);\r\n        toggleColor(modeState);\r\n        setUserTemperature(getStore().getUserId(), desiredTemp, modeState, isFahrenheit);\r\n    }\r\n\r\n    const getToggledMode = (heatState, coldState, autoState) => {\r\n        if (heatState)\r\n            return \"heating\";\r\n        else if (coldState)\r\n            return \"cooling\";\r\n        else if (autoState)\r\n            return \"auto\";\r\n        return null;\r\n    }\r\n\r\n    const toggleColor = (mode) => {\r\n        if (mode === \"cooling\")\r\n            setDisplayColor(\"#27aedb\");\r\n        else if (mode === \"heating\")\r\n            setDisplayColor(\"#db5127\");\r\n        else if (mode === \"auto\")\r\n            setDisplayColor(\"#00c774\");\r\n        else\r\n            setDisplayColor(\"#A0A0A0\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"temperature-panel\"} className=\"temperature-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} onClick={() => setOpen(!open)}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img alt=\"temperature\" className=\"logo-image\" src={TemperatureIcon} />\r\n                        </div>\r\n                        <div>\r\n                            <Typography className=\"panel-text panel-header-text\">Temperature</Typography>\r\n                            {!open &&\r\n                                <div className=\"small-text-container\">\r\n                                    <div className=\"small-text-group\">\r\n                                        <p className=\"small-text text\">Outside:</p>\r\n                                        <p className=\"small-text text\">{externalTemp}&deg;</p>\r\n                                    </div>\r\n                                    <div className=\"small-text-group\" style={{ marginLeft: '1rem' }}>\r\n                                        <p className=\"small-text text\">Inside:</p>\r\n                                        <p className=\"small-text text\">{internalTemp}&deg;</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <div>\r\n                    <div className=\"form-container\">\r\n                        <div className=\"form-column\">\r\n                            <div>\r\n                                <TemperatureImage description={description} internal={internalTemp} external={externalTemp} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-column\">\r\n                            <Knob value={desiredTemp} lineCap={\"round\"} fgColor={displayColor} inputColor={displayColor}\r\n                                onChange={knobChange} angleArc={240} angleOffset={240} min={minThermostatTemp} max={maxThermostatTemp} />\r\n                            <FormControl>\r\n                                <FormGroup>\r\n                                    <FormControlLabel label=\"Auto\" control={<AutoSwitch data-testid={\"auto-switch\"} checked={isAuto} onChange={() => toggleHvac(\"auto\")} />} />\r\n                                </FormGroup>\r\n                            </FormControl>\r\n                            <CSSTransition in={!isAuto} timeout={400} classNames=\"expansion\" unmountOnExit appear >\r\n                                <FormControl>\r\n                                    <FormGroup>\r\n                                        <FormControlLabel label=\"Heat\" control={<HeatSwitch data-testid={\"heating-switch\"} checked={isHeating} onChange={() => toggleHvac(\"heating\")} />} />\r\n                                        <FormControlLabel label=\"Cool\" control={<CoolSwitch data-testid={\"cooling-switch\"} checked={isCooling} onChange={() => toggleHvac(\"cooling\")} />} />\r\n                                    </FormGroup>\r\n                                </FormControl>\r\n                            </CSSTransition>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nValueLabelComponent.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nexport const CustomSlider = withStyles({\r\n  root: {\r\n    color: '#52af77',\r\n    height: 8,\r\n    margin: '0 15px 0 15px',\r\n  },\r\n  thumb: {\r\n    height: 24,\r\n    width: 24,\r\n    backgroundColor: '#fff',\r\n    border: '2px solid currentColor',\r\n    marginTop: -8,\r\n    marginLeft: -12,\r\n    '&:focus, &:hover, &$active': {\r\n      boxShadow: 'inherit',\r\n    },\r\n  },\r\n  active: {},\r\n  valueLabel: {\r\n    left: 'calc(-50% + 4px)',\r\n  },\r\n  track: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n  rail: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n})(Slider);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport { debounchApi } from '../../../utilities/Services';\r\nimport { setLightState } from '../../../utilities/RestApi';\r\nimport { CustomSlider } from '../../../components/controls/Slider';\r\n\r\n\r\nexport default function SwitchSlider(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [lightId,] = useState(props.lightId);\r\n    const [light, setLight] = useState(props.data);\r\n\r\n    useEffect(() => {\r\n        setLight(state.userLights.find(x => x.lightId === props.lightId));\r\n    });\r\n\r\n    const toggleCheckedLight = (event, value) => {\r\n        const newLight = { ...light, brightness: value * 2.55 };\r\n        setLight(newLight);\r\n        debounchApi(() => setLightState(lightId, true, value * 2.55));\r\n        dispatch({ type: 'SET_USER_LIGHT', payload: newLight });\r\n    }\r\n\r\n    return (\r\n        <div className=\"light-group\">\r\n            <p className=\"light-text-small text\">{light.lightName}</p>\r\n            <CustomSlider data-testid={\"light-switch\"} onChange={(event, val) => toggleCheckedLight(event, val)} value={Math.round(light.brightness / 2.55)} valueLabelDisplay=\"auto\" aria-label=\"slider\" />\r\n            <div style={{ height: '18px', width: '18px' }} />\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport { debounchApi } from '../../utilities/Services';\r\nimport { CustomSlider } from '../../components/controls/Slider';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport SwitchSlider from '../../pages/Home/segments/SwitchSlider';\r\nimport { setLightGroupState } from '../../utilities/RestApi';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport BrightnessMediumIcon from '@material-ui/icons/BrightnessMedium';\r\nimport './LightSwitch.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nexport default function LightSwitch(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [lights,] = useState(props.data.lights);\r\n    const [groupId,] = useState(props.data.groupId);\r\n    const [groupName,] = useState(props.data.groupName);\r\n    const [brightness, setBrightness] = useState(Math.round(props.data.brightness / 2.55));\r\n    const [areLightsOpen, setLightsOpen] = useState(false);\r\n\r\n    const sliderToggleLightGroup = async (event, value) => {\r\n        const newBrightness = Math.round(value * 2.55);\r\n        const updatedLights = state.userLights.map(x => x.groupId === groupId ? { ...x, brightness: newBrightness } : x);\r\n        debounchApi(() => setLightGroupState(groupId, true, newBrightness));\r\n        dispatch({ type: 'SET_ALL_USER_LIGHTS', payload: updatedLights });\r\n        setBrightness(value)\r\n    };\r\n\r\n    const getLightSwitches = () => {\r\n        if (lights && lights.length > 0) {\r\n            return lights.map(x => (\r\n                <SwitchSlider key={`switch-${x.lightId}`} data={x} lightId={x.lightId} />\r\n            ));\r\n        }\r\n        return <p className=\"panel-text text\">No lights assigned to group</p>\r\n    };\r\n\r\n    return (\r\n        <div data-testid=\"light-group\">\r\n            <div className=\"light-group text\">\r\n                <ButtonBase onClick={() => setLightsOpen(!areLightsOpen)} style={{ \"borderRadius\": \"50%\" }}>\r\n                    <div className={`light-chevron ${areLightsOpen ? \"expanded\" : \"\"}`}>\r\n                        <ChevronRightIcon data-testid={\"expansion-chevron\"} />\r\n                    </div>\r\n                </ButtonBase>\r\n                <p className=\"light-text text\">{groupName}</p>\r\n                <CustomSlider data-testid={\"light-group-switch\"} onChange={sliderToggleLightGroup} value={brightness} valueLabelDisplay=\"auto\" aria-label=\"slider\" />\r\n                <BrightnessMediumIcon className=\"brightness-icon text\" />\r\n            </div>\r\n            <CSSTransition in={areLightsOpen} timeout={500} classNames=\"expansion\" unmountOnExit appear >\r\n                <div data-testid={\"light-group-expansion\"} className=\"light-group-expansion expansion\">{getLightSwitches()}</div>\r\n            </CSSTransition>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/LightingIcon.f44cd925.png\";","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Context } from '../../../state/Store';\r\nimport LightSwitch from '../../../components/controls/LightSwitch';\r\nimport {useInterval} from '../../../utilities/UseInterval';\r\nimport { getLightGroups } from '../../../utilities/RestApi';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport LightingIcon from '../../../resources/panelIcons/LightingIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\nimport './LightingPanel.css'\r\n\r\n\r\nexport default function LightingPanel() {\r\n    const [groups, setGroups] = useState(null);\r\n    const [, dispatch] = useContext(Context);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [dispatch]);\r\n\r\n    useInterval(async () => {\r\n        await getData();\r\n    }, 60000);\r\n\r\n    const getData = async () => {\r\n        const groups = await getLightGroups();\r\n        setGroups(groups);\r\n        if (groups && groups.length) {\r\n            dispatch({ type: 'SET_ALL_USER_LIGHTS', payload: groups.map(x => x.lights).flat(1) });\r\n            dispatch({type: 'SET_USER_LIGHT_GROUPS', payload: groups.map(({ lights, ...item }) => item)});\r\n        }\r\n    };\r\n\r\n    const renderGroups = () => {\r\n        if (groups && groups.length) {\r\n            return groups.map(group => <LightSwitch key={`switch-${group.groupId}`} data={group} />)\r\n        }\r\n        return <p className=\"text\">No Light Groups were found</p>\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"lighting-panel\"} className=\"lighting-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img alt=\"lighting\" className=\"logo-image\" src={LightingIcon} />\r\n                        </div>\r\n                        <Typography className=\"panel-text panel-header-text\">Lighting</Typography>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div>\r\n                        {renderGroups()}\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/SecurityIcon.07bfb1b6.png\";","import React from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport SecurityIcon from '../../../resources/panelIcons/SecurityIcon.png';\r\nimport { ExpansionPanelDetails, ExpansionPanel, Typography, ExpansionPanelSummary, Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function SecurityPanel() {\r\n    return (\r\n        <div>\r\n            <ExpansionPanel data-testid={\"security-panel\"} className=\"security-panel\">\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"summary\">\r\n                        <div>\r\n                            <img alt=\"security\" className=\"logo-image\" src={SecurityIcon} />\r\n                        </div>\r\n                        <Typography className=\"panel-text panel-header-text\">Security</Typography>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <Divider />\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <Typography className=\"text\">Test Detail line 2</Typography>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport GaragePanel from './GaragePanel';\r\nimport BasementPanel from './BasementPanel';\r\nimport TemperaturePanel from './TemperaturePanel';\r\nimport LightingPanel from './LightingPanel';\r\nimport SecurityPanel from './SecurityPanel';\r\nimport { getStore } from '../../../state/GlobalState';\r\nimport './DashboardPanel.css';\r\n\r\nexport default function DashboardPanel() {\r\n\r\n    const roles = getStore().getUserRoles();\r\n    const roleNames = roles.map(x => x.role_name);\r\n    \r\n    return (\r\n        <div data-testid={\"dashboard-panel\"}>\r\n            {roleNames.includes(\"garage_door\") ?\r\n                <div className=\"panel\">\r\n                    <GaragePanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"sump_pump\") ?\r\n                <div className=\"panel\">\r\n                    <BasementPanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"thermostat\") ?\r\n                <div className=\"panel\">\r\n                    <TemperaturePanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"lighting\") ?\r\n                <div className=\"panel\">\r\n                    <LightingPanel />\r\n                </div>\r\n                : null\r\n            }\r\n            {roleNames.includes(\"security\") ?\r\n                <div className=\"panel\">\r\n                    <SecurityPanel />\r\n                </div>\r\n                : null\r\n            }\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Header from '../../components/header/Header';\r\nimport DashboardPanel from './panels/DashboardPanels';\r\nimport './Home.css';\r\nimport { getStore } from '../../state/GlobalState';\r\n\r\n\r\nexport default function Home() {\r\n    getStore().setActivePage('Home Automation');\r\n\r\n    return (\r\n        <div className=\"home-main\" >\r\n            <Header />\r\n            <div data-testid={\"home-body\"} className=\"home-body body\">\r\n                <div className=\"center\">\r\n                    <DashboardPanel />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/pop.9a56306a.mp3\";","import React, { useState } from 'react';\r\nimport useSound from 'use-sound';\r\nimport PopSound from '../../resources/pop.mp3';\r\nimport './DayPicker.css';\r\n\r\n\r\nexport default function DayPicker(props) {\r\n    const [pop] = useSound(PopSound, {volume: 0.25});\r\n    const [on, setOn] = useState(props.day.on);\r\n\r\n    const toggleDay = () => {\r\n        const updatedState = !on;\r\n        props.toggleDay(props.day, updatedState);\r\n        setOn(updatedState);\r\n        props.setEdited();\r\n        pop();\r\n    }\r\n\r\n    return (\r\n        <button className={on ? \"day-picker selected\" : \"day-picker\"} onClick={toggleDay}>\r\n            {props.day.day}\r\n        </button>\r\n    )\r\n}","import React from 'react';\r\nimport DayPicker from './DayPicker';\r\nimport './WeekPicker.css'\r\n\r\n\r\nexport default function WeekPicker(props) {\r\n\r\n    return (\r\n        <div className=\"weekday-picker\">\r\n            {props.daysOfWeek.map((weekday) => (\r\n                <DayPicker key={weekday.id + \"-day-picker\"} day={weekday} toggleDay={props.toggleDay} setEdited={props.setEdited} />\r\n            ))}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { KeyboardTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport './TimePicker.css';\r\n\r\n\r\nexport default function TimePicker(props) {\r\n    const [dateValue, setDateValue] = useState();\r\n\r\n    useEffect(() => {\r\n        if (props.initialTime !== undefined) {\r\n            const date = new Date();\r\n            const initialDate = props.initialTime.split(\":\");\r\n            date.setHours(initialDate[0]);\r\n            date.setMinutes(initialDate[1]);\r\n            setDateValue(date);\r\n        }\r\n    }, []);\r\n\r\n    const handleDateChange = (date) => {\r\n        setDateValue(date);\r\n        props.setTime(date.toLocaleTimeString('it-IT', {hour12: false}));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div data-testid=\"time-picker\" className=\"light-alarm-component\">\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                    <KeyboardTimePicker\r\n                        margin=\"normal\"\r\n                        label={props.label}\r\n                        value={dateValue}\r\n                        onChange={handleDateChange}\r\n                        KeyboardButtonProps={{\r\n                            'aria-label': 'change time',\r\n                        }}\r\n                    />\r\n                </MuiPickersUtilsProvider>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}","import React, { useState, useContext } from 'react';\r\nimport useSound from 'use-sound';\r\nimport ClickSound from '../../resources/click.mp3';\r\nimport { Context } from '../../state/Store';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport SingleClickSound from '../../resources/singleClick.mp3';\r\nimport { deleteScheduledTask, updateScheduledTasks } from '../../utilities/RestApi';\r\nimport { ExpansionPanelDetails, ExpansionPanel, ExpansionPanelSummary, Divider, Switch, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\n\r\n\r\nexport default function LightActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [click] = useSound(ClickSound, { volume: 0.25 });\r\n    const [singleClick] = useSound(SingleClickSound, { volume: 0.25 });\r\n    const [state, dispatch] = useContext(Context);\r\n    const [open, setOpen] = useState(false);\r\n    const [edited, setEdited] = useState(false);\r\n    const [type, setType] = useState(props.task.task_type);\r\n    const [days, setDays] = useState(props.task.alarm_days);\r\n    const [time, setTime] = useState(props.task.alarm_time);\r\n    const [enabled, setEnabled] = useState(props.task.enabled);\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays.map(day => props.task.alarm_days.includes(day.id) ? { ...day, on: true } : day));\r\n\r\n    const updateTime = (dateTime) => {\r\n        setEdited(true);\r\n        setTime(dateTime);\r\n    }\r\n\r\n    const saveTask = async () => {\r\n        if (edited) {\r\n            click();\r\n            const task = props.task;\r\n            const response = await updateScheduledTasks(getStore().getUserId(), task.task_id, task.alarm_light_group, task.alarm_group_name, days, time, enabled, type);\r\n            if (response) {\r\n                dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: task.task_id });\r\n                dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n            }\r\n        }\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    const clickDelete = async () => {\r\n        click();\r\n        const response = await deleteScheduledTask(getStore().getUserId(), props.task.task_id);\r\n        if (response.ok) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n        }\r\n    }\r\n\r\n    const toggleTask = async () => {\r\n        singleClick();\r\n        const updated = !enabled;\r\n        setEnabled(updated)\r\n        const task = props.task;\r\n        const response = await updateScheduledTasks(getStore().getUserId(), task.task_id, task.alarm_light_group, task.alarm_group_name, days, time, updated, type);\r\n        if (response) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: task.task_id });\r\n            dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n        }\r\n    }\r\n\r\n    const updateSelectedType = (item) => {\r\n        setEdited(true);\r\n        setType(state.taskTypes.find(x => x === item.target.value));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ExpansionPanel className=\"task-panel\" expanded={open} onChange={() => { setOpen(!open) }}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div className=\"alarm-summary-panel\">\r\n                        <div className=\"alarm-setting-group\" data-testid=\"light-alarm-group\">\r\n                            <div className=\"settings-row alarm-column-one\">\r\n                                <p className=\"setting panel-header-text alarm-time\">{time.slice(0, -3)}</p>\r\n                            </div>\r\n                            <div className=\"settings-row alarm-column-two\">\r\n                                <p className=\"setting text alarm-group-name\">{props.task.task_type}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"alarm-setting-group\">\r\n                            <div className=\"settings-row alarm-column-one\">\r\n                                <p className=\"setting text measure-unit\">{days}</p>\r\n                            </div>\r\n                            <div className=\"settings-row alarm-column-two\">\r\n                                <Switch className=\"task-switch\" onClick={(event) => event.stopPropagation()} onFocus={(event) => event.stopPropagation()}\r\n                                    checked={enabled} onChange={toggleTask} color=\"primary\" inputProps={{ 'aria-label': 'primary checkbox' }} />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <FormControl className=\"light-alarm-component\" variant=\"outlined\">\r\n                                <InputLabel id=\"light-group-dropdown\">Task Type</InputLabel>\r\n                                <Select\r\n                                    value={type}\r\n                                    onChange={updateSelectedType}\r\n                                    label=\"Task Type\"\r\n                                >\r\n                                    {state.taskTypes.map(x => (\r\n                                        <MenuItem key={x} value={x}>\r\n                                            {x}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                            <TimePicker className=\"light-alarm-component\" initialTime={time} setTime={updateTime} />\r\n                        </div>\r\n                        <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n                        <Divider />\r\n                        <div className=\"tasks-button-group text\">\r\n                            <div className=\"task-button-container\" onClick={clickDelete}>\r\n                                <Delete className=\"task-button task-delete\" />\r\n                                <p className=\"task-delete\">Delete</p>\r\n                            </div>\r\n                            <div className=\"task-button-container\" onClick={saveTask}>\r\n                                <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                                <p className={edited ? \"edited\" : ''}>Update</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Dialog } from '@material-ui/core';\r\nimport Knob from '../controls/Knob';\r\nimport './TempPicker.css'\r\nimport { AcUnitOutlined } from '@material-ui/icons';\r\n\r\n\r\nexport default function TempPicker(props) {\r\n    const displayColor = \"#00c774\";\r\n    const minThermostatTemp = 50;\r\n    const maxThermostatTemp = 90;\r\n    const [open, setOpen] = useState(false);\r\n    const [desiredTemp, setDesiredTemp] = useState(72);\r\n\r\n    const knobChange = () => {\r\n        props.onChange(desiredTemp);\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"MuiFormControl-root MuiTextField-root MuiFormControl-marginNormal temp-picker-gap\">\r\n                <label className=\"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled\" data-shrink=\"true\">{props.label}</label>\r\n                <div className=\"MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-formControl MuiInput-formControl MuiInputBase-adornedEnd\">\r\n                    <input aria-invalid=\"false\" className=\"MuiInputBase-input MuiInput-input MuiInputBase-inputAdornedEnd\" value={props.value} onChange={() => { }} />\r\n                    <div className=\"MuiInputAdornment-root MuiInputAdornment-positionEnd\">\r\n                        <button className=\"MuiButtonBase-root MuiIconButton-root\" tabIndex=\"0\" type=\"button\" aria-label=\"change time\" onClick={() => setOpen(!open)}>\r\n                            <span className=\"MuiIconButton-label\">\r\n                                <AcUnitOutlined/>\r\n                            </span>\r\n                            <span className=\"MuiTouchRipple-root\"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Dialog open={open}>\r\n            <div className=\"MyuiDialogContent-root MyuiPickersModal-dialog\">\r\n                <div className=\"MyuiPickersBasePicker-container\">\r\n                    <div className=\"MyuiToolbar-root MyuiToolbar-regular MyuiPickersToolbar-toolbar MyuiToolbar-gutters\">\r\n                        <div className=\"MyuiPickersTimePickerToolbar-hourMinuteLabel\">\r\n                            <h2 className=\"header-text\">Temperature</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"MyuiPickersBasePicker-pickerView\">\r\n                        <div className=\"MyuiPickersClock-container\">\r\n                            <Knob value={desiredTemp} lineCap={\"round\"} fgColor={displayColor} inputColor={displayColor} onChange={setDesiredTemp} angleArc={240} angleOffset={240} min={minThermostatTemp} max={maxThermostatTemp} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"MyuiDialogActions-root MyuiDialogActions-spacing\">\r\n                <button className=\"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary\" type=\"button\" onClick={() => setOpen(false)}>\r\n                    <span className=\"MyuiButton-label\">Cancel</span>\r\n                    <span className=\"MyuiTouchRipple-root\"></span>\r\n                </button>\r\n                <button className=\"MyuiButtonBase-root MyuiButton-root MyuiButton-text MyuiButton-textPrimary\" type=\"button\" onClick={knobChange}>\r\n                    <span className=\"MyuiButton-label\">OK</span>\r\n                    <span className=\"MyuiTouchRipple-root\"></span>\r\n                </button>\r\n            </div>\r\n        </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport useSound from 'use-sound';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport SingleClickSound from '../../resources/singleClick.mp3';\r\nimport TempPicker from '../../components/controls/TempPicker';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { deleteScheduledTask } from '../../utilities/RestApi';\r\nimport { ExpansionPanelDetails, ExpansionPanel, ExpansionPanelSummary, Divider, Switch } from '@material-ui/core';\r\n\r\n\r\nexport default function HvacActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [state, dispatch] = useContext(Context);\r\n    const [enabled, setEnabled] = useState(props.task.enabled);\r\n    const [days, setDays] = useState(props.task.alarm_days);\r\n    const [open, setOpen] = useState(false);\r\n    const [inTemp, setInTemp] = useState(72);\r\n    const [outTemp, setOutTemp] = useState(72);\r\n    const [edited, setEdited] = useState(false);\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [singleClick] = useSound(SingleClickSound, { volume: 0.25 });\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays.map(day => props.task.alarm_days.includes(day.id) ? { ...day, on: true } : day));\r\n    const [startTime, setStartTime] = useState(props.task.hvac_start);\r\n    const [stopTime, setStopTime] = useState(props.task.hvac_stop);\r\n\r\n    const updateStopTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStopTime(dateTime);\r\n    }\r\n\r\n    const updateStartTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStartTime(dateTime);\r\n    }\r\n\r\n    const clickDelete = async () => {\r\n        click();\r\n        const response = await deleteScheduledTask(getStore().getUserId(), props.task.task_id);\r\n        if (response.ok) {\r\n            dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: props.task.task_id });\r\n        }\r\n    }\r\n\r\n    const saveTask = async () => {\r\n        if (edited) {\r\n            click();\r\n            // const task = props.task;\r\n            // const response = await updateScheduledTasks(getStore().getUserId(), task.task_id, task.alarm_light_group, task.alarm_group_name, days, time, enabled, type);\r\n            // if (response) {\r\n            //     dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: task.task_id });\r\n            //     dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n            // }\r\n        }\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    const toggleTask = async () => {\r\n        singleClick();\r\n        const updated = !enabled;\r\n        setEnabled(updated)\r\n        // const task = props.task;\r\n        // const response = await updateScheduledTasks(getStore().getUserId(), task.task_id, task.alarm_light_group, task.alarm_group_name, days, time, updated, type);\r\n        // if (response) {\r\n        //     dispatch({ type: 'DELETE_SCHEDULED_TASK', payload: task.task_id });\r\n        //     dispatch({ type: 'ADD_SCHEDULED_TASK', payload: response });\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <ExpansionPanel className=\"task-panel\" expanded={open} onChange={() => { setOpen(!open) }}>\r\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                <div className=\"alarm-summary-panel\">\r\n                    <div className=\"alarm-setting-group\" data-testid=\"light-alarm-group\">\r\n                        <div className=\"settings-row alarm-column-one\">\r\n                            <p className=\"setting panel-header-text alarm-time\">{`${startTime.slice(0, -3)} - ${stopTime.slice(0, -3)}`}</p>\r\n                        </div>\r\n                        <div className=\"settings-row alarm-column-two\">\r\n                                <p className=\"setting text alarm-group-name\">{props.task.task_type}</p>\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"alarm-setting-group\">\r\n                        <div className=\"settings-row alarm-column-one\">\r\n                            <p className=\"setting text measure-unit\">{days}</p>\r\n                        </div>\r\n                        <div className=\"settings-row alarm-column-two\">\r\n                            <Switch className=\"task-switch\" onClick={(event) => event.stopPropagation()} onFocus={(event) => event.stopPropagation()}\r\n                                checked={enabled} onChange={toggleTask} color=\"primary\" inputProps={{ 'aria-label': 'primary checkbox' }} />\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails className=\"center\">\r\n                <div>\r\n                    <div className=\"settings-row\">\r\n                        <div className=\"picker-row\">\r\n                            <TimePicker initialTime={startTime} setTime={updateStartTime} label=\"start time\" />\r\n                            <TimePicker initialTime={stopTime} setTime={updateStopTime} label=\"stop time\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings-row\">\r\n                        <div className=\"picker-row\">\r\n                            <TempPicker value={inTemp} onChange={setInTemp} label=\"Start Temp\" />\r\n                            <TempPicker value={outTemp} onChange={setOutTemp} label=\"Stop Temp\" />\r\n                        </div>\r\n                    </div>\r\n                    <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n                    <Divider />\r\n                    <div className=\"tasks-button-group text\">\r\n                        <div className=\"task-button-container\" onClick={clickDelete}>\r\n                            <Delete className=\"task-button task-delete\" />\r\n                            <p className=\"task-delete\">Delete</p>\r\n                        </div>\r\n                        <div className=\"task-button-container\" onClick={saveTask}>\r\n                            <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                            <p className={edited ? \"edited\" : ''}>Update</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Context } from '../../state/Store';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport { insertLightTask } from '../../utilities/RestApi';\r\nimport { FormControl, MenuItem, Select, InputLabel, Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function CreateLightActivity(props) {\r\n    const [state, dispatch] = useContext(Context);\r\n    const [edited, setEdited] = useState(false);\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [days, setDays] = useState();\r\n    const [groupId, setGroupId] = useState();\r\n    const [selectedRoom, setSelectedRoom] = useState('');\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays);\r\n    const [time, setTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n\r\n\r\n    const saveActivity = async () => {\r\n        if (edited && selectedRoom !== '' && days !== null) {\r\n            const tasks = await insertLightTask(getStore().getUserId(), true, props.type, groupId, selectedRoom, days, time);\r\n            dispatch({ type: 'SET_SCHEDULED_TASK', payload: tasks });\r\n            props.save();\r\n            click();\r\n        }\r\n    }\r\n\r\n    const updateSelectedRoom = (item) => {\r\n        setEdited(true);\r\n        item.target.value === \"All Rooms\"\r\n            ? setGroupId(\"0\")\r\n            : setGroupId(state.userLightGroups.find(x => x.groupName === item.target.value).groupId)\r\n        setSelectedRoom(item.target.value);\r\n    }\r\n\r\n    const updateTime = (dateTime) => {\r\n        setEdited(true);\r\n        setTime(dateTime);\r\n    }\r\n\r\n    const deleteActivity = () => {\r\n        props.cancel();\r\n        click();\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-row\">\r\n                <FormControl className=\"light-alarm-component task-room-picker-row\" variant=\"outlined\">\r\n                    <InputLabel id=\"light-group-dropdown\">Room</InputLabel>\r\n                    <Select data-testid=\"alarm-room-picker\" value={selectedRoom} onChange={updateSelectedRoom} label=\"Room\" >\r\n                        <MenuItem key=\"all-rooms\" value=\"All Rooms\">All Rooms</MenuItem>\r\n                        {state.userLightGroups.map((group) => (\r\n                            <MenuItem key={group.groupId} value={group.groupName}>\r\n                                {group.groupName}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n                <TimePicker className=\"light-alarm-component\" initialTime={time} setTime={updateTime} />\r\n            </div>\r\n            <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n            <Divider />\r\n            <div className=\"tasks-button-group text\">\r\n                <div className=\"task-button-container\" onClick={deleteActivity}>\r\n                    <Delete className=\"task-button task-delete\" />\r\n                    <p className=\"task-delete\">Cancel</p>\r\n                </div>\r\n                <div className=\"task-button-container\" onClick={saveActivity}>\r\n                    <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                    <p className={edited ? \"edited\" : \"\"}>Save</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport TimePicker from '../../components/controls/TimePicker';\r\nimport WeekPicker from '../../components/controls/WeekPicker';\r\nimport TempPicker from '../../components/controls/TempPicker';\r\nimport { Save, Delete } from '@material-ui/icons';\r\nimport { Divider } from '@material-ui/core';\r\nimport { insertHvacTask } from '../../utilities/RestApi';\r\nimport './CreateHvacActivity.css';\r\n\r\n\r\nexport default function CreateHvacActivity(props) {\r\n    const initialDays = [{ id: 'Sun', day: 'S', on: false }, { id: 'Mon', day: 'M', on: false }, { id: 'Tue', day: 'T', on: false }, { id: 'Wed', day: 'W', on: false }, { id: 'Thu', day: 'T', on: false }, { id: 'Fri', day: 'F', on: false }, { id: 'Sat', day: 'S', on: false }];\r\n    const [, dispatch] = useContext(Context);\r\n    const [days, setDays] = useState();\r\n    const [inTemp, setInTemp] = useState(72);\r\n    const [outTemp, setOutTemp] = useState(72);\r\n    const [edited, setEdited] = useState(false);\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [daysOfWeek, setDaysOfWeek] = useState(initialDays);\r\n    const [startTime, setStartTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n    const [stopTime, setStopTime] = useState(new Date().toLocaleTimeString('it-IT', { hour12: false }));\r\n\r\n    const saveActivity = async () => {\r\n        if (edited && days !== null) {\r\n            const tasks = await insertHvacTask(getStore().getUserId(), true, props.type, '', startTime, stopTime, inTemp, outTemp, days);\r\n            dispatch({ type: 'SET_SCHEDULED_TASK', payload: tasks });\r\n            props.save();\r\n            click();\r\n        }\r\n    }\r\n\r\n    const updateStopTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStopTime(dateTime);\r\n    }\r\n\r\n    const updateStartTime = (dateTime) => {\r\n        setEdited(true);\r\n        setStartTime(dateTime);\r\n    }\r\n\r\n    const deleteActivity = () => {\r\n        props.cancel();\r\n        click();\r\n    }\r\n\r\n    const toggleDay = (task, newState) => {\r\n        const newProjects = daysOfWeek.map(day => day.id === task.id\r\n            ? { ...day, on: newState }\r\n            : day\r\n        );\r\n        setDaysOfWeek(newProjects);\r\n        setDays(newProjects.filter(x => x.on === true).map(y => y.id).join(''));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-row\">\r\n                <div className=\"picker-row\">\r\n                    <TimePicker initialTime={startTime} setTime={updateStartTime} label=\"start time\" />\r\n                    <TimePicker initialTime={stopTime} setTime={updateStopTime} label=\"stop time\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"settings-row\">\r\n                <div className=\"picker-row\">\r\n                    <TempPicker value={inTemp} onChange={setInTemp} label=\"Start Temp\" />\r\n                    <TempPicker value={outTemp} onChange={setOutTemp} label=\"Stop Temp\" />\r\n                </div>\r\n            </div>\r\n            <WeekPicker daysOfWeek={daysOfWeek} toggleDay={toggleDay} setEdited={() => setEdited(true)} />\r\n            <Divider />\r\n            <div className=\"tasks-button-group text\">\r\n                <div className=\"task-button-container\" onClick={deleteActivity}>\r\n                    <Delete className=\"task-button task-delete\" />\r\n                    <p className=\"task-delete\">Cancel</p>\r\n                </div>\r\n                <div className=\"task-button-container\" onClick={saveActivity}>\r\n                    <Save className={`task-button ${edited ? \"edited\" : \"\"}`} />\r\n                    <p className={edited ? \"edited\" : \"\"}>Save</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport CreateLightActivity from './CreateLightActivity';\r\nimport CreateHvacActivity from './CreateHvacActivity';\r\nimport { Delete } from '@material-ui/icons';\r\nimport { ExpansionPanelDetails, ExpansionPanel, FormControl, MenuItem, Select, InputLabel, ExpansionPanelSummary } from '@material-ui/core';\r\n\r\n\r\nexport default function CreateNewActivityPanel(props) {\r\n    const [state,] = useContext(Context);\r\n    const [type, setType] = useState('');\r\n\r\n    const updateSelectedType = (item) => {\r\n        setType(state.taskTypes.find(x => x === item.target.value));\r\n    }\r\n\r\n    const selectedComponents = () => {\r\n        if (type === 'hvac') {\r\n            return <CreateHvacActivity type={type} cancel={props.cancelNewTask} save={props.saveNewTask} />\r\n        } else if (type !== '') {\r\n            return <CreateLightActivity type={type} cancel={props.cancelNewTask} save={props.saveNewTask} />\r\n        } else {\r\n            return (\r\n                <div className=\"tasks-button-group text\">\r\n                    <div className=\"task-button-container\" onClick={() => props.cancelNewTask()}>\r\n                        <Delete className=\"task-button task-delete\" />\r\n                        <p className=\"task-delete\">Cancel</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ExpansionPanel className=\"task-panel\" expanded={true}>\r\n                <ExpansionPanelSummary style={{ height: \"0px\", minHeight: \"0px\"}}/>\r\n                <ExpansionPanelDetails className=\"center\">\r\n                    <div className=\"settings-row\">\r\n                        <FormControl className=\"light-alarm-component task-room-picker-row\" variant=\"outlined\">\r\n                            <InputLabel htmlFor=\"light-group-dropdown\">Task Type</InputLabel>\r\n                            <Select id=\"light-group-dropdown\" value={type} onChange={updateSelectedType} label=\"Task Type\" >\r\n                                {state.taskTypes.map(x => (\r\n                                    <MenuItem key={x} value={x}>\r\n                                        {x}\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </div>\r\n                    {selectedComponents()}\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/singleClick.mp3';\r\nimport Header from '../../components/header/Header';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport LightActivity from './LightActivity';\r\nimport HvacActivity from './HvacActivity';\r\nimport { getScheduledTasks } from '../../utilities/RestApi';\r\nimport CreateNewActivityPanel from './CreateNewActivity';\r\nimport './Activities.css';\r\n\r\n\r\nexport default function ActivitiesPage() {\r\n    getStore().setActivePage('Activities');\r\n    const [click] = useSound(clickSound, {volume: 0.25});\r\n    const [state, dispatch] = useContext(Context);\r\n    const [addTask, setAddTask] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const responseTasks = await getScheduledTasks(getStore().getUserId());\r\n            dispatch({ type: 'SET_SCHEDULED_TASK', payload: responseTasks });\r\n        };\r\n        getData();\r\n    }, []);\r\n\r\n    const createNewTask = () => {\r\n        setAddTask(true);\r\n        click();\r\n    }\r\n\r\n    const createActivities = (task) => {\r\n        return task.task_type === 'hvac'\r\n        ? <HvacActivity key={task.task_id} task={task}/>\r\n        : <LightActivity key={task.task_id} task={task} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"activities-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"activities-body body\">\r\n                <div className=\"activites-wrapper\">\r\n                    <div className=\"settings-group setting panel-header-text\">\r\n                        <h2 data-testid=\"activities-sub-header\">Activities</h2>\r\n                    </div>\r\n                    {\r\n                        addTask &&\r\n                        <CreateNewActivityPanel saveNewTask={() => {setAddTask(false)}} cancelNewTask={() => { setAddTask(false) }} />\r\n                    }\r\n                    {\r\n                        state.tasks.map(x => createActivities(x))\r\n                    }\r\n                </div>\r\n                <div className=\"add-task-container\">\r\n                    <div className=\"add-task-button-border\">\r\n                        <div className=\"add-task-button success-ripple\">\r\n                        <AddIcon data-testid=\"add-task-button\" className=\"add-task-button-plus\" onClick={createNewTask} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { addUserChildAccount, getUserChildAccounts, deleteUserChildAccount } from '../../utilities/RestApi';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Divider, MenuItem, Select, InputLabel, Input, FormControl, Checkbox, TextField, ListItemText } from '@material-ui/core';\r\nimport \"./AccountChildUser.css\"\r\n\r\nexport default function AccountChildUser() {\r\n    const [roles,] = useState(getStore().getUserRoles());\r\n    const [selectedRole, setSelectedRole] = useState([]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [test, setTest] = useState([]);\r\n    const [isEmailInvalid, setIsEmailInvalid] = useState(undefined);\r\n    const [isRoleInvalid, setIsRoleInvalid] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const response = await getUserChildAccounts(getStore().getUserId());\r\n            setTest(response);\r\n        };\r\n        getData();\r\n    }, []);\r\n\r\n\r\n    const submitChildAccount = async (event) => {\r\n        event.preventDefault();\r\n        if ((!isEmailInvalid && !isRoleInvalid) && (selectedRole.length !== 0 && email !== null && email !== \"\")) {\r\n            const response = await addUserChildAccount(getStore().getUserId(), email, selectedRole);\r\n            setTest(response);\r\n            setEmail(\"\");\r\n            setSelectedRole([]);\r\n        } else {\r\n            setIsEmailInvalid(email === \"\" || email === null);\r\n            setIsRoleInvalid(selectedRole.length === 0);\r\n        }\r\n    }\r\n\r\n    const deleteChildUser = async (childUserId) => {\r\n        const response = await deleteUserChildAccount(getStore().getUserId(), childUserId);\r\n        if (response.ok)\r\n            setTest(test.filter(x => x.user_id !== childUserId));\r\n    }\r\n\r\n    const validateEmail = (input) => {\r\n        setEmail(input.target.value);\r\n        setIsEmailInvalid(input.target.value === \"\");\r\n    }\r\n\r\n    const validateRole = (input) => {\r\n        setSelectedRole(input.target.value);\r\n        setIsRoleInvalid(input.target.value === \"\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submitChildAccount}>\r\n                <h2 className=\"panel-header-text\">Account Users</h2>\r\n                <Divider />\r\n                <table className=\"table-container\">\r\n                    <tbody>\r\n                        {test.map(x => (\r\n                            <tr className=\"table-rows\" key={`user-${x.user_name}`}>\r\n                                <td>{x.user_name}</td>\r\n                                <td>{x.roles.join(', ')}</td>\r\n                                <td className=\"table-end-item\">\r\n                                    <div className=\"user-button-border\">\r\n                                        <div className=\"table-delete-user cancel-ripple\">\r\n                                            <RemoveIcon data-testid={`user-${x.user_name}`} className=\"table-delete-user-minus\" onClick={() => deleteChildUser(x.user_id)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        <tr>\r\n                            <td>\r\n                                <TextField inputProps={{\"data-testid\":\"email-account-user\"}} error={isEmailInvalid} onChange={(input) => validateEmail(input)} value={email} label=\"Email\" />\r\n                            </td>\r\n                            <td className=\"account-roles\">\r\n                                <FormControl error={isRoleInvalid}>\r\n                                    <InputLabel className=\"child-user-label\" id=\"demo-mutiple-name-label\">Roles</InputLabel>\r\n                                    <Select className=\"child-user-input\" data-testid=\"roles-account-user\" multiple value={selectedRole} onChange={(input) => validateRole(input)} input={<Input />}\r\n                                        renderValue={(selectedRole) => (selectedRole.join(', '))}>\r\n                                        {roles.map((role) => (\r\n                                            <MenuItem key={role.role_name} value={role.role_name}>\r\n                                                <Checkbox checked={selectedRole.indexOf(role.role_name) > -1} />\r\n                                                <ListItemText primary={role.role_name} />\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </td>\r\n                            <td className=\"table-end-item\">\r\n                                <div className=\"user-button-border\" onClick={(event) => { submitChildAccount(event) }}>\r\n                                    <div className=\"table-add-user success-ripple\">\r\n                                        <AddIcon type=\"submit\" data-testid=\"add-user-button\" className=\"table-add-user-plus\" />\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </form>\r\n        </div >\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport Header from '../../components/header/Header';\r\nimport { Divider, TextField } from '@material-ui/core';\r\nimport { CheckCircle, Error } from '@material-ui/icons';\r\nimport { updateUserAccount } from '../../utilities/RestApi';\r\nimport AccountChildUser from '../../pages/Account/AccountChildUser';\r\nimport './Account.css';\r\n\r\n\r\nexport default function Account() {\r\n    getStore().setActivePage('Account');\r\n    const [click] = useSound(clickSound, {volume: 0.25});\r\n    const [arePasswordsMismatched, setPasswordsMismatched] = useState(null);\r\n    const [changed, setChanged] = useState(false);\r\n    const [oldPasswordError, setPasswordError] = useState(null);\r\n    const [oldPassword, setOldPassword] = useState(\"\");\r\n    const [firstNewPassword, setFirstPassword] = useState(\"\");\r\n    const [secondNewPassword, setSecondPassword] = useState(\"\");\r\n    const [succeeded, setSucceeded] = useState(null);\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (firstNewPassword !== \"\" && secondNewPassword !== \"\") {\r\n            setPasswordsMismatched(secondNewPassword !== firstNewPassword);\r\n        }\r\n\r\n        if (changed && oldPassword === \"\") {\r\n            setPasswordError(true);\r\n        } else if (changed && oldPassword !== \"\") {\r\n            setPasswordError(false)\r\n        } else if (submitted && oldPassword === \"\") {\r\n            setPasswordError(true);\r\n        }\r\n    }, [firstNewPassword, secondNewPassword, changed, oldPassword, submitted]);\r\n\r\n    const onOldPasswordChange = async (input) => {\r\n        setOldPassword(input.target.value);\r\n        setChanged(true);\r\n    }\r\n\r\n    const submitAccountChange = async (event) => {\r\n        event.preventDefault();\r\n        click();\r\n        setSubmitted(true);\r\n        if (!oldPasswordError && !arePasswordsMismatched && changed) {\r\n            const response = await updateUserAccount(getStore().getUserId(), oldPassword, secondNewPassword);\r\n            setSucceeded(response.ok);\r\n        }\r\n    }\r\n\r\n    const passwordMessage = () => {\r\n        if (succeeded) {\r\n            return <div className=\"account-message\">\r\n                <CheckCircle className=\"success-text\" />\r\n                <p className=\"success-text\">Updated Successfully!</p>\r\n            </div>\r\n        } else if (succeeded === false) {\r\n            return <div className=\"account-message\">\r\n                <Error className=\"failure-text\" />\r\n                <p className=\"failure-text\">Password Update Failed</p>\r\n            </div>\r\n        } else {\r\n            return <div><p></p></div>\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"account-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"account-body body\">\r\n                <div className=\"account-wrapper account-text text\">\r\n                    <form className=\"account-group account-text panel-header-text\" onSubmit={submitAccountChange}>\r\n                        <h2>Change Password</h2>\r\n                        <Divider />\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid={\"old-pass\"} error={oldPasswordError} value={oldPassword} variant=\"outlined\" label=\"Old Password\" type=\"password\" onChange={onOldPasswordChange} />\r\n                        </div>\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid={\"new-pass\"} error={arePasswordsMismatched} value={firstNewPassword} variant=\"outlined\" label=\"New Password\" type=\"password\" onChange={(input) => setFirstPassword(input.target.value)} />\r\n                        </div>\r\n                        <div className=\"account-row\">\r\n                            <TextField data-testid={\"confirm-pass\"} error={arePasswordsMismatched} value={secondNewPassword} variant=\"outlined\" label=\"Confirm New Password\" type=\"password\" onChange={(input) => setSecondPassword(input.target.value)} />\r\n                        </div>\r\n                        {passwordMessage()}\r\n                        <button data-testid=\"password-submit\" className=\"success-ripple\" type=\"submit\">Submit</button>\r\n                    </form>\r\n                    <AccountChildUser />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { Divider } from '@material-ui/core';\r\n\r\n\r\nexport default function SettingsPanel(props) {\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n\r\n    const handleClick = () => {\r\n        props.toggleEdit();\r\n        click();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-group setting panel-header-text\">\r\n                <h2>Temperature</h2>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting temp-unit\">Unit:</p>\r\n                <p className=\"setting temp-unit\">{props.tempUnit}</p>\r\n            </div>\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting temp-city\">City:</p>\r\n                <p className=\"setting temp-city\">{props.city}</p>\r\n            </div>\r\n            <div className=\"setting text panel-header-text\">\r\n                <h2>Measurement</h2>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-row text\">\r\n                <p className=\"setting measure-unit\">Unit:</p>\r\n                <p className=\"setting measure-unit\">{props.measureUnit}</p>\r\n            </div>\r\n            <div>\r\n                <button onClick={handleClick} className=\"success-ripple\">Edit</button>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport useSound from 'use-sound';\r\nimport clickSound from '../../resources/click.mp3';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport { updateUserPreferences } from '../../utilities/RestApi';\r\nimport { Divider, TextField, FormControlLabel, RadioGroup, FormControl, Radio } from '@material-ui/core';\r\nimport './SettingsEditPanel.css'\r\n\r\n\r\nexport default function SettingsEditPanel(props) {\r\n    const [click] = useSound(clickSound, { volume: 0.25 });\r\n    const [edited, setEdited] = useState();\r\n    const [newCity, setNewCity] = useState(props.city);\r\n    const [newTempUnit, setNewTempUnit] = useState(props.tempUnit);\r\n    const [newMeasureUnit, setNewMeasureUnit] = useState(props.measureUnit);\r\n\r\n    const savePreferences = () => {\r\n        click();\r\n        const isFahrenheit = newTempUnit === \"fahrenheit\";\r\n        const isImperial = newMeasureUnit === \"imperial\";\r\n        updateUserPreferences(getStore().getUserId(), isFahrenheit, isImperial, newCity);\r\n\r\n        setEdited(true);\r\n        props.setCity(newCity);\r\n        props.setTempUnit(newTempUnit);\r\n        props.setEditMode(!props.isEditMode);\r\n        props.setMeasureUnit(newMeasureUnit);\r\n    }\r\n\r\n    const cancelPreferences = () => {\r\n        click();\r\n        setNewCity(props.city);\r\n        setNewTempUnit(props.tempUnit);\r\n        setNewMeasureUnit(props.measureUnit);\r\n        props.setEditMode(!props.isEditMode)\r\n    }\r\n\r\n    const updateCity = (input) => {\r\n        setEdited(true);\r\n        setNewCity(input.target.value);\r\n    }\r\n\r\n    const updateTempRadioButton = (input) => {\r\n        setEdited(true);\r\n        setNewTempUnit(input.target.value);\r\n    }\r\n\r\n    const updateMeasureRadioButton = (input) => {\r\n        setEdited(true);\r\n        setNewMeasureUnit(input.target.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-group setting text\">\r\n                <h2 className=\"panel-header-text\">Temperature</h2>\r\n                <Divider />\r\n                <div className=\"settings-row\">\r\n                    <FormControl>\r\n                        <RadioGroup label=\"Unit:\">\r\n                            <FormControlLabel onChange={updateTempRadioButton} value=\"fahrenheit\" checked={newTempUnit === \"fahrenheit\"} control={<Radio color=\"primary\" />} label=\"Fahrenheit\" />\r\n                            <FormControlLabel onChange={updateTempRadioButton} value=\"celsius\" checked={newTempUnit === \"celsius\"} control={<Radio color=\"primary\" />} label=\"Celsius\" />\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </div>\r\n                <div className=\"settings-row\">\r\n                    <TextField variant=\"outlined\" label=\"City\" value={newCity} onChange={updateCity} />\r\n                </div>\r\n                <h2 className=\"panel-header-text\">Measurement</h2>\r\n                <Divider />\r\n                <div className=\"settings-row\">\r\n                    <FormControl>\r\n                        <RadioGroup label=\"Unit:\">\r\n                            <FormControlLabel onChange={updateMeasureRadioButton} value=\"imperial\" checked={newMeasureUnit === \"imperial\"} control={<Radio color=\"primary\" />} label=\"Imperial\" />\r\n                            <FormControlLabel onChange={updateMeasureRadioButton} value=\"metric\" checked={newMeasureUnit === \"metric\"} control={<Radio color=\"primary\" />} label=\"Metric\" />\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </div>\r\n            </div>\r\n            <Divider />\r\n            <div className=\"settings-button-group\">\r\n                <button className=\"submit success-ripple\" disabled={!edited} onClick={savePreferences}>Save</button>\r\n                <button className=\"cancel cancel-ripple\" onClick={cancelPreferences}>Cancel</button>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Context } from '../../state/Store';\r\nimport SettingsPanel from './SettingsPanel';\r\nimport Header from '../../components/header/Header';\r\nimport { getStore } from '../../state/GlobalState';\r\nimport SettingsEditPanel from './SettingsEditPanel';\r\nimport { getUserPreferences } from '../../utilities/RestApi';\r\nimport { setTheme, toggleDarkMode, isNightTime } from '../../utilities/Services';\r\nimport { CoolSwitch, HeatSwitch } from '../../components/controls/Switches';\r\nimport { FormControlLabel, FormControl } from '@material-ui/core';\r\nimport './Settings.css'\r\n\r\n\r\nexport default function Settings() {\r\n    getStore().setActivePage('Settings');\r\n    const [state, ] = useContext(Context);\r\n    const [isAutoMode, setIsAutoMode] = useState(false);\r\n    const [userId,] = useState(getStore().getUserId());\r\n    const [darkMode, setDarkMode] = useState(false);\r\n    const [city, setCity] = useState();\r\n    const [tempUnit, setTempUnit] = useState();\r\n    const [isEditMode, setEditMode] = useState();\r\n    const [measureUnit, setMeasureUnit] = useState();\r\n\r\n    useEffect(() => {\r\n        setDarkMode(localStorage.getItem('theme') === 'theme-dark');\r\n        setIsAutoMode(localStorage.getItem('auto-theme') === 'true');\r\n        const getData = async () => {\r\n            const response = await getUserPreferences(userId);\r\n            setCity(response.city);\r\n            setTempUnit(response.temp_unit);\r\n            setMeasureUnit(response.measure_unit);\r\n        };\r\n        getData();\r\n    }, [userId]);\r\n\r\n    const toggleEditMode = () => {\r\n        setEditMode(!isEditMode);\r\n    }\r\n\r\n    const toggleTheme = () => {\r\n        toggleDarkMode()\r\n        setDarkMode(!darkMode);\r\n    }\r\n\r\n    const toggleAutoTheme = () => {\r\n        localStorage.setItem('auto-theme', !isAutoMode);\r\n        setIsAutoMode(!isAutoMode);\r\n        isNightTime(state.garageCoords, state.userCoords)\r\n        ? setTheme('theme-dark')\r\n        : setTheme('theme-light')\r\n        if (!isAutoMode === false && !darkMode)\r\n            setTheme('theme-light');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"settings-header\">\r\n                <Header />\r\n            </div>\r\n            <div className=\"settings-body body\">\r\n                <div className=\"settings-wrapper body\">\r\n                <div className=\"settings-group setting panel-header-text\">\r\n                    <h2>Preferences</h2>\r\n                </div>\r\n                <div className=\"settings-row text\">\r\n                    <FormControl>\r\n                        <FormControlLabel label=\"Dark Mode\" control={<HeatSwitch onChange={toggleTheme} disabled={isAutoMode} checked={darkMode && !isAutoMode}/>}/>\r\n                    </FormControl>\r\n                </div>\r\n                <div className=\"settings-row text\">\r\n                    <FormControl>\r\n                        <FormControlLabel label=\"Auto Theme\" control={<CoolSwitch onChange={toggleAutoTheme} checked={isAutoMode}/>} />\r\n                    </FormControl>\r\n                </div>\r\n                    {isEditMode\r\n                        ? <SettingsEditPanel\r\n                            city={city} setCity={setCity}\r\n                            tempUnit={tempUnit} setTempUnit={setTempUnit}\r\n                            isEditMode={isEditMode} setEditMode={setEditMode}\r\n                            measureUnit={measureUnit} setMeasureUnit={setMeasureUnit}\r\n                        />\r\n                        : <SettingsPanel\r\n                            city={city}\r\n                            tempUnit={tempUnit}\r\n                            measureUnit={measureUnit}\r\n                            toggleEdit={toggleEditMode}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport Login from '../../pages/Login/Login';\r\nimport PrivateRoute from '../routes/PrivateRoutes';\r\nimport Home from '../../pages/Home/Home';\r\nimport Activities from '../../pages/Activities/Activities';\r\nimport Account from '../../pages/Account/Account';\r\nimport Settings from '../../pages/Settings/Settings';\r\nimport { Context } from '../../state/Store';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\n\r\nexport default function Routes() {\r\n    const [state, ] = useContext(Context);\r\n    \r\n    return (\r\n        <Router>\r\n        <header className=\"App-header\" data-testid=\"app-routes\">\r\n          <Route exact path=\"/home-automation-ui\" render={() => <Login />} />\r\n            <div>\r\n              <PrivateRoute authed={state.isAuthenticated} path='/home-automation-ui/home' component={Home} />\r\n              <PrivateRoute authed={state.isAuthenticated} path='/home-automation-ui/activities' component={Activities} />\r\n              <PrivateRoute authed={state.isAuthenticated} path='/home-automation-ui/settings' component={Settings} />\r\n              <PrivateRoute authed={state.isAuthenticated} path='/home-automation-ui/account' component={Account} />\r\n            </div>\r\n        </header>\r\n      </Router>\r\n    );\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Store from './state/Store';\r\nimport Routes from './components/routes/Routes';\r\nimport { setTheme } from './utilities/Services';\r\n\r\n\r\nexport default function App() {\r\n  const theme = localStorage.getItem('theme');\r\n  setTheme(theme);\r\n  \r\n  return (\r\n    <Store>\r\n      <Routes />\r\n    </Store>\r\n  );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}